(self.webpackChunksaladejuegos=self.webpackChunksaladejuegos||[]).push([[179],{8255:Pt=>{function Le(j){return Promise.resolve().then(()=>{var y=new Error("Cannot find module '"+j+"'");throw y.code="MODULE_NOT_FOUND",y})}Le.keys=()=>[],Le.resolve=Le,Le.id=8255,Pt.exports=Le},8583:(Pt,Le,j)=>{"use strict";j.d(Le,{mr:()=>Be,ez:()=>uo,K0:()=>ke,Do:()=>$e,V_:()=>Y,Ye:()=>dt,S$:()=>Ve,sg:()=>ai,O5:()=>mn,b0:()=>Me,lw:()=>Qe,EM:()=>ws,JF:()=>bs,PM:()=>hi,w_:()=>Ie,bD:()=>Hi,q:()=>J,Mx:()=>Tr,HT:()=>A});var y=j(639);let S=null;function J(){return S}function A(F){S||(S=F)}class Ie{}const ke=new y.OlP("DocumentToken");let Qe=(()=>{class F{historyGo(L){throw new Error("Not implemented")}}return F.\u0275fac=function(L){return new(L||F)},F.\u0275prov=(0,y.Yz7)({factory:fe,token:F,providedIn:"platform"}),F})();function fe(){return(0,y.LFG)(ee)}const Y=new y.OlP("Location Initialized");let ee=(()=>{class F extends Qe{constructor(L){super(),this._doc=L,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return J().getBaseHref(this._doc)}onPopState(L){const te=J().getGlobalEventTarget(this._doc,"window");return te.addEventListener("popstate",L,!1),()=>te.removeEventListener("popstate",L)}onHashChange(L){const te=J().getGlobalEventTarget(this._doc,"window");return te.addEventListener("hashchange",L,!1),()=>te.removeEventListener("hashchange",L)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(L){this.location.pathname=L}pushState(L,te,xe){be()?this._history.pushState(L,te,xe):this.location.hash=xe}replaceState(L,te,xe){be()?this._history.replaceState(L,te,xe):this.location.hash=xe}forward(){this._history.forward()}back(){this._history.back()}historyGo(L=0){this._history.go(L)}getState(){return this._history.state}}return F.\u0275fac=function(L){return new(L||F)(y.LFG(ke))},F.\u0275prov=(0,y.Yz7)({factory:ze,token:F,providedIn:"platform"}),F})();function be(){return!!window.history.pushState}function ze(){return new ee((0,y.LFG)(ke))}function Fe(F,K){if(0==F.length)return K;if(0==K.length)return F;let L=0;return F.endsWith("/")&&L++,K.startsWith("/")&&L++,2==L?F+K.substring(1):1==L?F+K:F+"/"+K}function nt(F){const K=F.match(/#|\?|$/),L=K&&K.index||F.length;return F.slice(0,L-("/"===F[L-1]?1:0))+F.slice(L)}function Oe(F){return F&&"?"!==F[0]?"?"+F:F}let Ve=(()=>{class F{historyGo(L){throw new Error("Not implemented")}}return F.\u0275fac=function(L){return new(L||F)},F.\u0275prov=(0,y.Yz7)({factory:le,token:F,providedIn:"root"}),F})();function le(F){const K=(0,y.LFG)(ke).location;return new Me((0,y.LFG)(Qe),K&&K.origin||"")}const Be=new y.OlP("appBaseHref");let Me=(()=>{class F extends Ve{constructor(L,te){if(super(),this._platformLocation=L,this._removeListenerFns=[],null==te&&(te=this._platformLocation.getBaseHrefFromDOM()),null==te)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=te}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}prepareExternalUrl(L){return Fe(this._baseHref,L)}path(L=!1){const te=this._platformLocation.pathname+Oe(this._platformLocation.search),xe=this._platformLocation.hash;return xe&&L?`${te}${xe}`:te}pushState(L,te,xe,ot){const _t=this.prepareExternalUrl(xe+Oe(ot));this._platformLocation.pushState(L,te,_t)}replaceState(L,te,xe,ot){const _t=this.prepareExternalUrl(xe+Oe(ot));this._platformLocation.replaceState(L,te,_t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(L=0){var te,xe;null===(xe=(te=this._platformLocation).historyGo)||void 0===xe||xe.call(te,L)}}return F.\u0275fac=function(L){return new(L||F)(y.LFG(Qe),y.LFG(Be,8))},F.\u0275prov=y.Yz7({token:F,factory:F.\u0275fac}),F})(),$e=(()=>{class F extends Ve{constructor(L,te){super(),this._platformLocation=L,this._baseHref="",this._removeListenerFns=[],null!=te&&(this._baseHref=te)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}path(L=!1){let te=this._platformLocation.hash;return null==te&&(te="#"),te.length>0?te.substring(1):te}prepareExternalUrl(L){const te=Fe(this._baseHref,L);return te.length>0?"#"+te:te}pushState(L,te,xe,ot){let _t=this.prepareExternalUrl(xe+Oe(ot));0==_t.length&&(_t=this._platformLocation.pathname),this._platformLocation.pushState(L,te,_t)}replaceState(L,te,xe,ot){let _t=this.prepareExternalUrl(xe+Oe(ot));0==_t.length&&(_t=this._platformLocation.pathname),this._platformLocation.replaceState(L,te,_t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(L=0){var te,xe;null===(xe=(te=this._platformLocation).historyGo)||void 0===xe||xe.call(te,L)}}return F.\u0275fac=function(L){return new(L||F)(y.LFG(Qe),y.LFG(Be,8))},F.\u0275prov=y.Yz7({token:F,factory:F.\u0275fac}),F})(),dt=(()=>{class F{constructor(L,te){this._subject=new y.vpe,this._urlChangeListeners=[],this._platformStrategy=L;const xe=this._platformStrategy.getBaseHref();this._platformLocation=te,this._baseHref=nt(Ot(xe)),this._platformStrategy.onPopState(ot=>{this._subject.emit({url:this.path(!0),pop:!0,state:ot.state,type:ot.type})})}path(L=!1){return this.normalize(this._platformStrategy.path(L))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(L,te=""){return this.path()==this.normalize(L+Oe(te))}normalize(L){return F.stripTrailingSlash(function(F,K){return F&&K.startsWith(F)?K.substring(F.length):K}(this._baseHref,Ot(L)))}prepareExternalUrl(L){return L&&"/"!==L[0]&&(L="/"+L),this._platformStrategy.prepareExternalUrl(L)}go(L,te="",xe=null){this._platformStrategy.pushState(xe,"",L,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+Oe(te)),xe)}replaceState(L,te="",xe=null){this._platformStrategy.replaceState(xe,"",L,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+Oe(te)),xe)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(L=0){var te,xe;null===(xe=(te=this._platformStrategy).historyGo)||void 0===xe||xe.call(te,L)}onUrlChange(L){this._urlChangeListeners.push(L),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(te=>{this._notifyUrlChangeListeners(te.url,te.state)}))}_notifyUrlChangeListeners(L="",te){this._urlChangeListeners.forEach(xe=>xe(L,te))}subscribe(L,te,xe){return this._subject.subscribe({next:L,error:te,complete:xe})}}return F.\u0275fac=function(L){return new(L||F)(y.LFG(Ve),y.LFG(Qe))},F.normalizeQueryParams=Oe,F.joinWithSlash=Fe,F.stripTrailingSlash=nt,F.\u0275prov=(0,y.Yz7)({factory:it,token:F,providedIn:"root"}),F})();function it(){return new dt((0,y.LFG)(Ve),(0,y.LFG)(Qe))}function Ot(F){return F.replace(/\/index.html$/,"")}var me=(()=>((me=me||{})[me.Zero=0]="Zero",me[me.One=1]="One",me[me.Two=2]="Two",me[me.Few=3]="Few",me[me.Many=4]="Many",me[me.Other=5]="Other",me))();const qn=y.kL8;class Cn{}let Ln=(()=>{class F extends Cn{constructor(L){super(),this.locale=L}getPluralCategory(L,te){switch(qn(te||this.locale)(L)){case me.Zero:return"zero";case me.One:return"one";case me.Two:return"two";case me.Few:return"few";case me.Many:return"many";default:return"other"}}}return F.\u0275fac=function(L){return new(L||F)(y.LFG(y.soG))},F.\u0275prov=y.Yz7({token:F,factory:F.\u0275fac}),F})();function Tr(F,K){K=encodeURIComponent(K);for(const L of F.split(";")){const te=L.indexOf("="),[xe,ot]=-1==te?[L,""]:[L.slice(0,te),L.slice(te+1)];if(xe.trim()===K)return decodeURIComponent(ot)}return null}class vn{constructor(K,L,te,xe){this.$implicit=K,this.ngForOf=L,this.index=te,this.count=xe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ai=(()=>{class F{constructor(L,te,xe){this._viewContainer=L,this._template=te,this._differs=xe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(L){this._ngForOf=L,this._ngForOfDirty=!0}set ngForTrackBy(L){this._trackByFn=L}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(L){L&&(this._template=L)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const L=this._ngForOf;if(!this._differ&&L)try{this._differ=this._differs.find(L).create(this.ngForTrackBy)}catch(te){throw new Error(`Cannot find a differ supporting object '${L}' of type '${function(F){return F.name||typeof F}(L)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const L=this._differ.diff(this._ngForOf);L&&this._applyChanges(L)}}_applyChanges(L){const te=[];L.forEachOperation((xe,ot,_t)=>{if(null==xe.previousIndex){const O=this._viewContainer.createEmbeddedView(this._template,new vn(null,this._ngForOf,-1,-1),null===_t?void 0:_t),x=new ui(xe,O);te.push(x)}else if(null==_t)this._viewContainer.remove(null===ot?void 0:ot);else if(null!==ot){const O=this._viewContainer.get(ot);this._viewContainer.move(O,_t);const x=new ui(xe,O);te.push(x)}});for(let xe=0;xe<te.length;xe++)this._perViewChange(te[xe].view,te[xe].record);for(let xe=0,ot=this._viewContainer.length;xe<ot;xe++){const _t=this._viewContainer.get(xe);_t.context.index=xe,_t.context.count=ot,_t.context.ngForOf=this._ngForOf}L.forEachIdentityChange(xe=>{this._viewContainer.get(xe.currentIndex).context.$implicit=xe.item})}_perViewChange(L,te){L.context.$implicit=te.item}static ngTemplateContextGuard(L,te){return!0}}return F.\u0275fac=function(L){return new(L||F)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.ZZ4))},F.\u0275dir=y.lG2({type:F,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),F})();class ui{constructor(K,L){this.record=K,this.view=L}}let mn=(()=>{class F{constructor(L,te){this._viewContainer=L,this._context=new rr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=te}set ngIf(L){this._context.$implicit=this._context.ngIf=L,this._updateView()}set ngIfThen(L){Xe("ngIfThen",L),this._thenTemplateRef=L,this._thenViewRef=null,this._updateView()}set ngIfElse(L){Xe("ngIfElse",L),this._elseTemplateRef=L,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(L,te){return!0}}return F.\u0275fac=function(L){return new(L||F)(y.Y36(y.s_b),y.Y36(y.Rgc))},F.\u0275dir=y.lG2({type:F,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),F})();class rr{constructor(){this.$implicit=null,this.ngIf=null}}function Xe(F,K){if(K&&!K.createEmbeddedView)throw new Error(`${F} must be a TemplateRef, but received '${(0,y.AaK)(K)}'.`)}let uo=(()=>{class F{}return F.\u0275fac=function(L){return new(L||F)},F.\u0275mod=y.oAB({type:F}),F.\u0275inj=y.cJS({providers:[{provide:Cn,useClass:Ln}]}),F})();const Hi="browser";function hi(F){return"server"===F}let ws=(()=>{class F{}return F.\u0275prov=(0,y.Yz7)({token:F,providedIn:"root",factory:()=>new Yi((0,y.LFG)(ke),window)}),F})();class Yi{constructor(K,L){this.document=K,this.window=L,this.offset=()=>[0,0]}setOffset(K){this.offset=Array.isArray(K)?()=>K:K}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(K){this.supportsScrolling()&&this.window.scrollTo(K[0],K[1])}scrollToAnchor(K){if(!this.supportsScrolling())return;const L=function(F,K){const L=F.getElementById(K)||F.getElementsByName(K)[0];if(L)return L;if("function"==typeof F.createTreeWalker&&F.body&&(F.body.createShadowRoot||F.body.attachShadow)){const te=F.createTreeWalker(F.body,NodeFilter.SHOW_ELEMENT);let xe=te.currentNode;for(;xe;){const ot=xe.shadowRoot;if(ot){const _t=ot.getElementById(K)||ot.querySelector(`[name="${K}"]`);if(_t)return _t}xe=te.nextNode()}}return null}(this.document,K);L&&(this.scrollToElement(L),this.attemptFocus(L))}setHistoryScrollRestoration(K){if(this.supportScrollRestoration()){const L=this.window.history;L&&L.scrollRestoration&&(L.scrollRestoration=K)}}scrollToElement(K){const L=K.getBoundingClientRect(),te=L.left+this.window.pageXOffset,xe=L.top+this.window.pageYOffset,ot=this.offset();this.window.scrollTo(te-ot[0],xe-ot[1])}attemptFocus(K){return K.focus(),this.document.activeElement===K}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const K=Ni(this.window.history)||Ni(Object.getPrototypeOf(this.window.history));return!(!K||!K.writable&&!K.set)}catch(K){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(K){return!1}}}function Ni(F){return Object.getOwnPropertyDescriptor(F,"scrollRestoration")}class bs{}},639:(Pt,Le,j)=>{"use strict";j.d(Le,{deG:()=>X,tb:()=>iE,AFp:()=>tE,ip1:()=>rw,CZH:()=>qf,hGG:()=>GA,z2F:()=>im,sBO:()=>SI,Sil:()=>rm,_Vd:()=>Lf,EJc:()=>oE,SBq:()=>Vl,qLn:()=>yn,vpe:()=>Ul,gxx:()=>Bc,tBr:()=>Ua,XFs:()=>wt,OlP:()=>V,zs3:()=>qi,ZZ4:()=>Gy,aQg:()=>qy,soG:()=>n_,YKP:()=>Q0,v3s:()=>CA,h0i:()=>Kd,PXZ:()=>yA,R0b:()=>yu,FiY:()=>Ba,Lbi:()=>rE,g9A:()=>nE,Qsj:()=>fI,FYo:()=>$y,JOm:()=>ou,Tiy:()=>Rv,q3G:()=>gi,tp0:()=>Ka,EAV:()=>AA,Rgc:()=>qg,dDg:()=>cE,DyG:()=>os,q4F:()=>Mv,GfV:()=>G0,s_b:()=>Wy,ifc:()=>ve,eFA:()=>gE,G48:()=>cA,Gpc:()=>Be,X6Q:()=>cw,_c5:()=>LA,VLi:()=>lA,c2e:()=>sE,zSh:()=>Od,wAp:()=>Gn,vHH:()=>it,EiD:()=>Jo,mCW:()=>Ur,qzn:()=>Wu,JVY:()=>Ts,pB0:()=>ah,eBb:()=>Ds,L6k:()=>Ec,LAX:()=>ts,cg1:()=>bv,Tjo:()=>kA,kL8:()=>h0,yhl:()=>Gl,dqk:()=>yt,sIi:()=>Ud,CqO:()=>Mg,QGY:()=>Cy,F4k:()=>Iy,RDi:()=>ot,AaK:()=>Oe,z3N:()=>cr,qOj:()=>_g,TTD:()=>ds,_Bn:()=>U0,xp6:()=>kh,uIk:()=>_f,ekj:()=>Ug,Suo:()=>Ob,Xpm:()=>Ei,lG2:()=>ns,Yz7:()=>qn,cJS:()=>kt,oAB:()=>Rr,Yjl:()=>Zi,Y36:()=>Yc,_UZ:()=>vy,qZA:()=>zd,TgZ:()=>Nl,EpF:()=>Ey,n5z:()=>tr,Ikx:()=>wv,LFG:()=>Xi,$8M:()=>ju,NdJ:()=>Pg,CRH:()=>Nb,oxw:()=>Dy,Q6J:()=>Rg,iGM:()=>Pb,CHM:()=>Bo,LSH:()=>zl,kYT:()=>Zr,YNc:()=>wf,_uU:()=>je,Oqu:()=>ht});var y=j(7574),S=j(4869),J=j(3282),Ae=j(6693),Ie=j(7709),ke=j(5319),Qe=j(2441);var ee=j(1307);function be(){return new Ie.xQ}function Fe(t){for(let n in t)if(t[n]===Fe)return n;throw Error("Could not find renamed property on target object.")}function nt(t,n){for(const r in n)n.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=n[r])}function Oe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Oe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function Ve(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const le=Fe({__forward_ref__:Fe});function Be(t){return t.__forward_ref__=Be,t.toString=function(){return Oe(this())},t}function Me(t){return $e(t)?t():t}function $e(t){return"function"==typeof t&&t.hasOwnProperty(le)&&t.__forward_ref__===Be}class it extends Error{constructor(n,r){super(function(t,n){return`${t?`NG0${t}: `:""}${n}`}(n,r)),this.code=n}}function ie(t){return"string"==typeof t?t:null==t?"":String(t)}function ue(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ie(t)}function Ze(t,n){const r=n?` in ${n}`:"";throw new it("201",`No provider for ${ue(t)} found${r}`)}function Mn(t,n){null==t&&function(t,n,r,o){throw new Error(`ASSERTION ERROR: ${t}`+(null==o?"":` [Expected=> ${r} ${o} ${n} <=Actual]`))}(n,t,null,"!=")}function qn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function kt(t){return{providers:t.providers||[],imports:t.imports||[]}}function wn(t){return Wn(t,Je)||Wn(t,Ut)}function Wn(t,n){return t.hasOwnProperty(n)?t[n]:null}function vt(t){return t&&(t.hasOwnProperty(tt)||t.hasOwnProperty(jt))?t[tt]:null}const Je=Fe({\u0275prov:Fe}),tt=Fe({\u0275inj:Fe}),Ut=Fe({ngInjectableDef:Fe}),jt=Fe({ngInjectorDef:Fe});var wt=(()=>((wt=wt||{})[wt.Default=0]="Default",wt[wt.Host=1]="Host",wt[wt.Self=2]="Self",wt[wt.SkipSelf=4]="SkipSelf",wt[wt.Optional=8]="Optional",wt))();let pn;function Zt(t){const n=pn;return pn=t,n}function Kn(t,n,r){const o=wn(t);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&wt.Optional?null:void 0!==n?n:void Ze(Oe(t),"Injector")}function Xn(t){return{toString:t}.toString()}var En=(()=>((En=En||{})[En.OnPush=0]="OnPush",En[En.Default=1]="Default",En))(),ve=(()=>((ve=ve||{})[ve.Emulated=0]="Emulated",ve[ve.None=2]="None",ve[ve.ShadowDom=3]="ShadowDom",ve))();const Se="undefined"!=typeof globalThis&&globalThis,Re="undefined"!=typeof window&&window,ut="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,yt=Se||"undefined"!=typeof global&&global||Re||ut,Un={},dn=[],Br=Fe({\u0275cmp:Fe}),kn=Fe({\u0275dir:Fe}),jr=Fe({\u0275pipe:Fe}),Rn=Fe({\u0275mod:Fe}),oi=Fe({\u0275loc:Fe}),hn=Fe({\u0275fac:Fe}),ti=Fe({__NG_ELEMENT_ID__:Fe});let zi=0;function Ei(t){return Xn(()=>{const r={},o={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===En.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||dn,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ve.Emulated,id:"c",styles:t.styles||dn,_:null,setInput:null,schemas:t.schemas||null,tView:null},u=t.directives,l=t.features,f=t.pipes;return o.id+=zi++,o.inputs=Mr(t.inputs,r),o.outputs=Mr(t.outputs),l&&l.forEach(g=>g(o)),o.directiveDefs=u?()=>("function"==typeof u?u():u).map(mi):null,o.pipeDefs=f?()=>("function"==typeof f?f():f).map(Ir):null,o})}function mi(t){return Pr(t)||function(t){return t[kn]||null}(t)}function Ir(t){return function(t){return t[jr]||null}(t)}const rn={};function Rr(t){return Xn(()=>{const n={type:t.type,bootstrap:t.bootstrap||dn,declarations:t.declarations||dn,imports:t.imports||dn,exports:t.exports||dn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(rn[t.id]=t.type),n})}function Zr(t,n){return Xn(()=>{const r=Or(t,!0);r.declarations=n.declarations||dn,r.imports=n.imports||dn,r.exports=n.exports||dn})}function Mr(t,n){if(null==t)return Un;const r={};for(const o in t)if(t.hasOwnProperty(o)){let u=t[o],l=u;Array.isArray(u)&&(l=u[1],u=u[0]),r[u]=o,n&&(n[u]=l)}return r}const ns=Ei;function Zi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Pr(t){return t[Br]||null}function Or(t,n){const r=t[Rn]||null;if(!r&&!0===n)throw new Error(`Type ${Oe(t)} does not have '\u0275mod' property.`);return r}const Z=19;function Kr(t){return Array.isArray(t)&&"object"==typeof t[1]}function Zn(t){return Array.isArray(t)&&!0===t[1]}function Mi(t){return 0!=(8&t.flags)}function Pi(t){return 2==(2&t.flags)}function Oi(t){return 1==(1&t.flags)}function Nr(t){return null!==t.template}function yi(t){return 0!=(512&t[2])}function hi(t,n){return t.hasOwnProperty(hn)?t[hn]:null}class ri{constructor(n,r,o){this.previousValue=n,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function ds(){return vs}function vs(t){return t.type.prototype.ngOnChanges&&(t.setInput=Yi),ws}function ws(){const t=ki(this),n=null==t?void 0:t.current;if(n){const r=t.previous;if(r===Un)t.previous=n;else for(let o in n)r[o]=n[o];t.current=null,this.ngOnChanges(n)}}function Yi(t,n,r,o){const u=ki(t)||function(t,n){return t[Ni]=n}(t,{previous:Un,current:null}),l=u.current||(u.current={}),f=u.previous,g=this.declaredInputs[r],E=f[g];l[g]=new ri(E&&E.currentValue,n,f===Un),t[o]=n}ds.ngInherit=!0;const Ni="__ngSimpleChanges__";function ki(t){return t[Ni]||null}let xe;function ot(t){xe=t}function x(t){return!!t.listen}const W={createRenderer:(t,n)=>void 0!==xe?xe:"undefined"!=typeof document?document:void 0};function ft(t){for(;Array.isArray(t);)t=t[0];return t}function Jr(t,n){return ft(n[t])}function _r(t,n){return ft(n[t.index])}function xi(t,n){return t.data[n]}function fi(t,n){const r=n[t];return Kr(r)?r:r[0]}function Lo(t){return 4==(4&t[2])}function bo(t){return 128==(128&t[2])}function Vr(t,n){return null==n?null:t[n]}function Ri(t){t[18]=0}function $s(t,n){t[5]+=n;let r=t,o=t[3];for(;null!==o&&(1===n&&1===r[5]||-1===n&&0===r[5]);)o[5]+=n,r=o,o=o[3]}const In={lFrame:_u(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Co(){return In.bindingsEnabled}function bt(){return In.lFrame.lView}function er(){return In.lFrame.tView}function Bo(t){return In.lFrame.contextLView=t,t[8]}function Xr(){let t=co();for(;null!==t&&64===t.type;)t=t.parent;return t}function co(){return In.lFrame.currentTNode}function fs(t,n){const r=In.lFrame;r.currentTNode=t,r.isParent=n}function Ws(){return In.lFrame.isParent}function Qi(){return In.isInCheckNoChangesMode}function Ys(t){In.isInCheckNoChangesMode=t}function Qs(){return In.lFrame.bindingIndex++}function Ho(t,n){const r=In.lFrame;r.bindingIndex=r.bindingRootIndex=t,ea(n)}function ea(t){In.lFrame.currentDirectiveIndex=t}function ta(){return In.lFrame.currentQueryIndex}function Rs(t){In.lFrame.currentQueryIndex=t}function po(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function $o(t,n,r){if(r&wt.SkipSelf){let u=n,l=t;for(;!(u=u.parent,null!==u||r&wt.Host||(u=po(l),null===u||(l=l[15],10&u.type))););if(null===u)return!1;n=u,t=l}const o=In.lFrame=Za();return o.currentTNode=n,o.lView=t,!0}function $i(t){const n=Za(),r=t[1];In.lFrame=n,n.currentTNode=r.firstChild,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function Za(){const t=In.lFrame,n=null===t?null:t.child;return null===n?_u(t):n}function _u(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Go(){const t=In.lFrame;return In.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const va=Go;function wa(){const t=Go();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function N(){return In.lFrame.selectedIndex}function H(t){In.lFrame.selectedIndex=t}function se(){const t=In.lFrame;return xi(t.tView,t.selectedIndex)}function fn(t,n){for(let r=n.directiveStart,o=n.directiveEnd;r<o;r++){const l=t.data[r].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:g,ngAfterViewInit:E,ngAfterViewChecked:P,ngOnDestroy:$}=l;f&&(t.contentHooks||(t.contentHooks=[])).push(-r,f),g&&((t.contentHooks||(t.contentHooks=[])).push(r,g),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(r,g)),E&&(t.viewHooks||(t.viewHooks=[])).push(-r,E),P&&((t.viewHooks||(t.viewHooks=[])).push(r,P),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(r,P)),null!=$&&(t.destroyHooks||(t.destroyHooks=[])).push(r,$)}}function Hn(t,n,r){q(t,n,3,r)}function I(t,n,r,o){(3&t[2])===r&&q(t,n,r,o)}function D(t,n){let r=t[2];(3&r)===n&&(r&=2047,r+=1,t[2]=r)}function q(t,n,r,o){const l=null!=o?o:-1,f=n.length-1;let g=0;for(let E=void 0!==o?65535&t[18]:0;E<f;E++)if("number"==typeof n[E+1]){if(g=n[E],null!=o&&g>=o)break}else n[E]<0&&(t[18]+=65536),(g<l||-1==l)&&(Ee(t,r,n,E),t[18]=(4294901760&t[18])+E+2),E++}function Ee(t,n,r,o){const u=r[o]<0,l=r[o+1],g=t[u?-r[o]:r[o]];if(u){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{l.call(g)}finally{}}}else try{l.call(g)}finally{}}class Wt{constructor(n,r,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}function Ra(t,n,r){const o=x(t);let u=0;for(;u<r.length;){const l=r[u];if("number"==typeof l){if(0!==l)break;u++;const f=r[u++],g=r[u++],E=r[u++];o?t.setAttribute(n,g,E,f):n.setAttributeNS(f,g,E)}else{const f=l,g=r[++u];Wa(f)?o&&t.setProperty(n,f,g):o?t.setAttribute(n,f,g):n.setAttribute(f,g),u++}}return u}function Js(t){return 3===t||4===t||6===t}function Wa(t){return 64===t.charCodeAt(0)}function vu(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let r=-1;for(let o=0;o<n.length;o++){const u=n[o];"number"==typeof u?r=u:0===r||wu(t,r,u,null,-1===r||2===r?n[++o]:null)}}return t}function wu(t,n,r,o,u){let l=0,f=t.length;if(-1===n)f=-1;else for(;l<t.length;){const g=t[l++];if("number"==typeof g){if(g===n){f=-1;break}if(g>n){f=l-1;break}}}for(;l<t.length;){const g=t[l];if("number"==typeof g)break;if(g===r){if(null===o)return void(null!==u&&(t[l+1]=u));if(o===t[l+1])return void(t[l+2]=u)}l++,null!==o&&l++,null!==u&&l++}-1!==f&&(t.splice(f,0,n),l=f+1),t.splice(l++,0,r),null!==o&&t.splice(l++,0,o),null!==u&&t.splice(l++,0,u)}function ul(t){return-1!==t}function zs(t){return 32767&t}function go(t,n){let r=function(t){return t>>16}(t),o=n;for(;r>0;)o=o[15],r--;return o}let ar=!0;function zo(t){const n=ar;return ar=t,n}let Nt=0;function mo(t,n){const r=gn(t,n);if(-1!==r)return r;const o=n[1];o.firstCreatePass&&(t.injectorIndex=n.length,yo(o.data,t),yo(n,null),yo(o.blueprint,null));const u=On(t,n),l=t.injectorIndex;if(ul(u)){const f=zs(u),g=go(u,n),E=g[1].data;for(let P=0;P<8;P++)n[l+P]=g[f+P]|E[f+P]}return n[l+8]=u,l}function yo(t,n){t.push(0,0,0,0,0,0,0,0,n)}function gn(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function On(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let r=0,o=null,u=n;for(;null!==u;){const l=u[1],f=l.type;if(o=2===f?l.declTNode:1===f?u[6]:null,null===o)return-1;if(r++,u=u[15],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return-1}function ra(t,n,r){!function(t,n,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(ti)&&(o=r[ti]),null==o&&(o=r[ti]=Nt++);const u=255&o;n.data[t+(u>>5)]|=1<<u}(t,n,r)}function at(t,n,r){if(r&wt.Optional)return t;Ze(n,"NodeInjector")}function Dt(t,n,r,o){if(r&wt.Optional&&void 0===o&&(o=null),0==(r&(wt.Self|wt.Host))){const u=t[9],l=Zt(void 0);try{return u?u.get(n,o,r&wt.Optional):Kn(n,o,r&wt.Optional)}finally{Zt(l)}}return at(o,n,r)}function Vi(t,n,r,o=wt.Default,u){if(null!==t){const l=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(ti)?t[ti]:void 0;return"number"==typeof n?n>=0?255&n:Bu:n}(r);if("function"==typeof l){if(!$o(n,t,o))return o&wt.Host?at(u,r,o):Dt(n,r,o,u);try{const f=l(o);if(null!=f||o&wt.Optional)return f;Ze(r)}finally{va()}}else if("number"==typeof l){let f=null,g=gn(t,n),E=-1,P=o&wt.Host?n[16][6]:null;for((-1===g||o&wt.SkipSelf)&&(E=-1===g?On(t,n):n[g+8],-1!==E&&Bl(o,!1)?(f=n[1],g=zs(E),n=go(E,n)):g=-1);-1!==g;){const $=n[1];if(ps(l,g,$.data)){const re=Eu(g,n,r,f,o,P);if(re!==_o)return re}E=n[g+8],-1!==E&&Bl(o,n[1].data[g+8]===P)&&ps(l,g,n)?(f=$,g=zs(E),n=go(E,n)):g=-1}}}return Dt(n,r,o,u)}const _o={};function Bu(){return new Ca(Xr(),bt())}function Eu(t,n,r,o,u,l){const f=n[1],g=f.data[t+8],$=Cu(g,f,r,null==o?Pi(g)&&ar:o!=f&&0!=(3&g.type),u&wt.Host&&l===g);return null!==$?Ea(n,f,$,g):_o}function Cu(t,n,r,o,u){const l=t.providerIndexes,f=n.data,g=1048575&l,E=t.directiveStart,$=l>>20,de=u?g+$:t.directiveEnd;for(let De=o?g:g+$;De<de;De++){const Ue=f[De];if(De<E&&r===Ue||De>=E&&Ue.type===r)return De}if(u){const De=f[E];if(De&&Nr(De)&&De.type===r)return E}return null}function Ea(t,n,r,o){let u=t[r];const l=n.data;if(function(t){return t instanceof Wt}(u)){const f=u;f.resolving&&function(t,n){throw new it("200",`Circular dependency in DI detected for ${t}`)}(ue(l[r]));const g=zo(f.canSeeViewProviders);f.resolving=!0;const E=f.injectImpl?Zt(f.injectImpl):null;$o(t,o,wt.Default);try{u=t[r]=f.factory(void 0,l,t,o),n.firstCreatePass&&r>=o.directiveStart&&function(t,n,r){const{ngOnChanges:o,ngOnInit:u,ngDoCheck:l}=n.type.prototype;if(o){const f=vs(n);(r.preOrderHooks||(r.preOrderHooks=[])).push(t,f),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(t,f)}u&&(r.preOrderHooks||(r.preOrderHooks=[])).push(0-t,u),l&&((r.preOrderHooks||(r.preOrderHooks=[])).push(t,l),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(t,l))}(r,l[r],n)}finally{null!==E&&Zt(E),zo(g),f.resolving=!1,va()}}return u}function ps(t,n,r){return!!(r[n+(t>>5)]&1<<t)}function Bl(t,n){return!(t&wt.Self||t&wt.Host&&n)}class Ca{constructor(n,r){this._tNode=n,this._lView=r}get(n,r){return Vi(this._tNode,this._lView,n,void 0,r)}}function tr(t){return Xn(()=>{const n=t.prototype.constructor,r=n[hn]||Do(n),o=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==o;){const l=u[hn]||Do(u);if(l&&l!==r)return l;u=Object.getPrototypeOf(u)}return l=>new l})}function Do(t){return $e(t)?()=>{const n=Do(Me(t));return n&&n()}:hi(t)}function ju(t){return function(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const r=t.attrs;if(r){const o=r.length;let u=0;for(;u<o;){const l=r[u];if(Js(l))break;if(0===l)u+=2;else if("number"==typeof l)for(u++;u<o&&"string"==typeof r[u];)u++;else{if(l===n)return r[u+1];u+=2}}}return null}(Xr(),t)}const Fn="__parameters__";function eo(t,n,r){return Xn(()=>{const o=function(t){return function(...r){if(t){const o=t(...r);for(const u in o)this[u]=o[u]}}}(n);function u(...l){if(this instanceof u)return o.apply(this,l),this;const f=new u(...l);return g.annotation=f,g;function g(E,P,$){const re=E.hasOwnProperty(Fn)?E[Fn]:Object.defineProperty(E,Fn,{value:[]})[Fn];for(;re.length<=$;)re.push(null);return(re[$]=re[$]||[]).push(f),E}}return r&&(u.prototype=Object.create(r.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}class V{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=qn({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}toString(){return`InjectionToken ${this._desc}`}}const X=new V("AnalyzeForEntryComponents"),os=Function;function Ms(t,n){void 0===n&&(n=t);for(let r=0;r<t.length;r++){let o=t[r];Array.isArray(o)?(n===t&&(n=t.slice(0,r)),Ms(o,n)):n!==t&&n.push(o)}return n}function Ko(t,n){t.forEach(r=>Array.isArray(r)?Ko(r,n):n(r))}function Oa(t,n,r){n>=t.length?t.push(r):t.splice(n,0,r)}function sa(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function no(t,n,r){let o=Fa(t,n);return o>=0?t[1|o]=r:(o=~o,function(t,n,r,o){let u=t.length;if(u==n)t.push(r,o);else if(1===u)t.push(o,t[0]),t[0]=r;else{for(u--,t.push(t[u-1],t[u]);u>n;)t[u]=t[u-2],u--;t[n]=r,t[n+1]=o}}(t,o,n,r)),o}function ka(t,n){const r=Fa(t,n);if(r>=0)return t[1|r]}function Fa(t,n){return function(t,n,r){let o=0,u=t.length>>r;for(;u!==o;){const l=o+(u-o>>1),f=t[l<<r];if(n===f)return l<<r;f>n?u=l:o=l+1}return~(u<<r)}(t,n,1)}const $t={},Nn="__NG_DI_FLAG__",xr="ngTempTokenPath",Ao=/\n/gm,La="__source",Va=Fe({provide:String,useValue:Fe});let Is;function Ns(t){const n=Is;return Is=t,n}function Gu(t,n=wt.Default){if(void 0===Is)throw new Error("inject() must be called from an injection context");return null===Is?Kn(t,void 0,n):Is.get(t,n&wt.Optional?null:void 0,n)}function Xi(t,n=wt.Default){return(pn||Gu)(Me(t),n)}function aa(t){const n=[];for(let r=0;r<t.length;r++){const o=Me(t[r]);if(Array.isArray(o)){if(0===o.length)throw new Error("Arguments array must have arguments.");let u,l=wt.Default;for(let f=0;f<o.length;f++){const g=o[f],E=rd(g);"number"==typeof E?-1===E?u=g.token:l|=E:u=g}n.push(Xi(u,l))}else n.push(Xi(o))}return n}function ro(t,n){return t[Nn]=n,t.prototype[Nn]=n,t}function rd(t){return t[Nn]}function ll(t,n,r,o){const u=t[xr];throw n[La]&&u.unshift(n[La]),t.message=function(t,n,r,o=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let u=Oe(n);if(Array.isArray(n))u=n.map(Oe).join(" -> ");else if("object"==typeof n){let l=[];for(let f in n)if(n.hasOwnProperty(f)){let g=n[f];l.push(f+":"+("string"==typeof g?JSON.stringify(g):Oe(g)))}u=`{${l.join(", ")}}`}return`${r}${o?"("+o+")":""}[${u}]: ${t.replace(Ao,"\n  ")}`}("\n"+t.message,u,r,o),t.ngTokenPath=u,t[xr]=null,t}const Ua=ro(eo("Inject",t=>({token:t})),-1),Ba=ro(eo("Optional"),8),Ka=ro(eo("SkipSelf"),4);let Gi;function Ya(t){var n;return(null===(n=function(){if(void 0===Gi&&(Gi=null,yt.trustedTypes))try{Gi=yt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Gi}())||void 0===n?void 0:n.createHTML(t))||t}class So{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class oh extends So{getTypeName(){return"HTML"}}class Hl extends So{getTypeName(){return"Style"}}class $l extends So{getTypeName(){return"Script"}}class tp extends So{getTypeName(){return"URL"}}class es extends So{getTypeName(){return"ResourceURL"}}function cr(t){return t instanceof So?t.changingThisBreaksApplicationSecurity:t}function Wu(t,n){const r=Gl(t);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see https://g.co/ng/security#xss)`)}return r===n}function Gl(t){return t instanceof So&&t.getTypeName()||null}function Ts(t){return new oh(t)}function Ec(t){return new Hl(t)}function Ds(t){return new $l(t)}function ts(t){return new tp(t)}function ah(t){return new es(t)}class la{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const r=(new window.DOMParser).parseFromString(Ya(n),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(n):(r.removeChild(r.firstChild),r)}catch(r){return null}}}class np{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r);const o=this.inertDocument.createElement("body");r.appendChild(o)}}getInertBodyElement(n){const r=this.inertDocument.createElement("template");if("content"in r)return r.innerHTML=Ya(n),r;const o=this.inertDocument.createElement("body");return o.innerHTML=Ya(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(o),o}stripCustomNsAttrs(n){const r=n.attributes;for(let u=r.length-1;0<u;u--){const f=r.item(u).name;("xmlns:ns1"===f||0===f.indexOf("ns1:"))&&n.removeAttribute(f)}let o=n.firstChild;for(;o;)o.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(o),o=o.nextSibling}}const ud=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ip=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ur(t){return(t=String(t)).match(ud)||t.match(ip)?t:"unsafe:"+t}function Qo(t){const n={};for(const r of t.split(","))n[r]=!0;return n}function Ja(...t){const n={};for(const r of t)for(const o in r)r.hasOwnProperty(o)&&(n[o]=!0);return n}const Xa=Qo("area,br,col,hr,img,wbr"),ql=Qo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ld=Qo("rp,rt"),Tc=Ja(Xa,Ja(ql,Qo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ja(ld,Qo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ja(ld,ql)),Dc=Qo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cd=Qo("srcset"),Ku=Ja(Dc,cd,Qo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ch=Qo("script,style,template");class op{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let r=n.firstChild,o=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?o=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,o&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let u=this.checkClobberedElement(r,r.nextSibling);if(u){r=u;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(n){const r=n.nodeName.toLowerCase();if(!Tc.hasOwnProperty(r))return this.sanitizedSomething=!0,!ch.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const o=n.attributes;for(let u=0;u<o.length;u++){const l=o.item(u),f=l.name,g=f.toLowerCase();if(!Ku.hasOwnProperty(g)){this.sanitizedSomething=!0;continue}let E=l.value;Dc[g]&&(E=Ur(E)),cd[g]&&(t=E,E=(t=String(t)).split(",").map(n=>Ur(n.trim())).join(", ")),this.buf.push(" ",f,'="',Ac(E),'"')}var t;return this.buf.push(">"),!0}endElement(n){const r=n.nodeName.toLowerCase();Tc.hasOwnProperty(r)&&!Xa.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(n){this.buf.push(Ac(n))}checkClobberedElement(n,r){if(r&&(n.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return r}}const ks=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hd=/([^\#-~ |!])/g;function Ac(t){return t.replace(/&/g,"&amp;").replace(ks,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(hd,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ja;function Jo(t,n){let r=null;try{ja=ja||function(t){const n=new np(t);return function(){try{return!!(new window.DOMParser).parseFromString(Ya(""),"text/html")}catch(t){return!1}}()?new la(n):n}(t);let o=n?String(n):"";r=ja.getInertBodyElement(o);let u=5,l=o;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,o=l,l=r.innerHTML,r=ja.getInertBodyElement(o)}while(o!==l);return Ya((new op).sanitizeChildren(yl(r)||r))}finally{if(r){const o=yl(r)||r;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function yl(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var gi=(()=>((gi=gi||{})[gi.NONE=0]="NONE",gi[gi.HTML=1]="HTML",gi[gi.STYLE=2]="STYLE",gi[gi.SCRIPT=3]="SCRIPT",gi[gi.URL=4]="URL",gi[gi.RESOURCE_URL=5]="RESOURCE_URL",gi))();function zl(t){const n=function(){const t=bt();return t&&t[12]}();return n?n.sanitize(gi.URL,t)||"":Wu(t,"URL")?cr(t):Ur(ie(t))}const vo="__ngContext__";function Fs(t,n){t[vo]=n}function Su(t){const n=function(t){return t[vo]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function ct(t){return t.ngOriginalError}function tn(t,...n){t.error(...n)}class yn{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n),o=this._findContext(n),u=(t=n)&&t.ngErrorLogger||tn;var t;u(this._console,"ERROR",n),r&&u(this._console,"ORIGINAL ERROR",r),o&&u(this._console,"ERROR CONTEXT",o)}_findContext(n){return n?n.ngDebugContext||this._findContext(ct(n)):null}_findOriginalError(n){let r=n&&ct(n);for(;r&&ct(r);)r=ct(r);return r||null}}const ru=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(yt))();function su(t){return t instanceof Function?t():t}var ou=(()=>((ou=ou||{})[ou.Important=1]="Important",ou[ou.DashCase=2]="DashCase",ou))();function wh(t,n){return undefined(t,n)}function xu(t){const n=t[3];return Zn(n)?n[3]:n}function Jl(t){return Eh(t[13])}function bh(t){return Eh(t[4])}function Eh(t){for(;null!==t&&!Zn(t);)t=t[4];return t}function Xl(t,n,r,o,u){if(null!=o){let l,f=!1;Zn(o)?l=o:Kr(o)&&(f=!0,o=o[0]);const g=ft(o);0===t&&null!==r?null==u?Cl(n,r,g):fa(n,r,g,u||null,!0):1===t&&null!==r?fa(n,r,g,u||null,!0):2===t?function(t,n,r){const o=Ah(t,n);o&&function(t,n,r,o){x(t)?t.removeChild(n,r,o):n.removeChild(r)}(t,o,n,r)}(n,g,f):3===t&&n.destroyNode(g),null!=l&&function(t,n,r,o,u){const l=r[7];l!==ft(r)&&Xl(n,t,o,l,u);for(let g=10;g<r.length;g++){const E=r[g];Rc(E[1],E,t,n,o,l)}}(n,t,l,r,u)}}function fp(t,n,r){return x(t)?t.createElement(n,r):null===r?t.createElement(n):t.createElementNS(r,n)}function gp(t,n){const r=t[9],o=r.indexOf(n),u=n[3];1024&n[2]&&(n[2]&=-1025,$s(u,-1)),r.splice(o,1)}function Ru(t,n){if(t.length<=10)return;const r=10+n,o=t[r];if(o){const u=o[17];null!==u&&u!==t&&gp(u,o),n>0&&(t[r-1][4]=o[4]);const l=sa(t,10+n);!function(t,n){Rc(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(o[1],o);const f=l[Z];null!==f&&f.detachView(l[1]),o[3]=null,o[4]=null,o[2]&=-129}return o}function ec(t,n){if(!(256&n[2])){const r=n[11];x(r)&&r.destroyNode&&Rc(t,n,r,3,null,null),function(t){let n=t[13];if(!n)return Th(t[1],t);for(;n;){let r=null;if(Kr(n))r=n[13];else{const o=n[10];o&&(r=o)}if(!r){for(;n&&!n[4]&&n!==t;)Kr(n)&&Th(n[1],n),n=n[3];null===n&&(n=t),Kr(n)&&Th(n[1],n),r=n&&n[4]}n=r}}(n)}}function Th(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(t,n){let r;if(null!=t&&null!=(r=t.destroyHooks))for(let o=0;o<r.length;o+=2){const u=n[r[o]];if(!(u instanceof Wt)){const l=r[o+1];if(Array.isArray(l))for(let f=0;f<l.length;f+=2){const g=u[l[f]],E=l[f+1];try{E.call(g)}finally{}}else try{l.call(u)}finally{}}}}(t,n),function(t,n){const r=t.cleanup,o=n[7];let u=-1;if(null!==r)for(let l=0;l<r.length-1;l+=2)if("string"==typeof r[l]){const f=r[l+1],g="function"==typeof f?f(n):ft(n[f]),E=o[u=r[l+2]],P=r[l+3];"boolean"==typeof P?g.removeEventListener(r[l],E,P):P>=0?o[u=P]():o[u=-P].unsubscribe(),l+=2}else{const f=o[u=r[l+1]];r[l].call(f)}if(null!==o){for(let l=u+1;l<o.length;l++)o[l]();n[7]=null}}(t,n),1===n[1].type&&x(n[11])&&n[11].destroy();const r=n[17];if(null!==r&&Zn(n[3])){r!==n[3]&&gp(r,n);const o=n[Z];null!==o&&o.detachView(t)}}}function nc(t,n,r){return function(t,n,r){let o=n;for(;null!==o&&40&o.type;)o=(n=o).parent;if(null===o)return r[0];if(2&o.flags){const u=t.data[o.directiveStart].encapsulation;if(u===ve.None||u===ve.Emulated)return null}return _r(o,r)}(t,n.parent,r)}function fa(t,n,r,o,u){x(t)?t.insertBefore(n,r,o,u):n.insertBefore(r,o,u)}function Cl(t,n,r){x(t)?t.appendChild(n,r):n.appendChild(r)}function Dh(t,n,r,o,u){null!==o?fa(t,n,r,o,u):Cl(t,n,r)}function Ah(t,n){return x(t)?t.parentNode(n):n.parentNode}let vd=function(t,n,r){return 40&t.type?_r(t,r):null};function Sh(t,n,r,o){const u=nc(t,o,n),l=n[11],g=function(t,n,r){return vd(t,n,r)}(o.parent||n[6],o,n);if(null!=u)if(Array.isArray(r))for(let E=0;E<r.length;E++)Dh(l,u,r[E],g,!1);else Dh(l,u,r,g,!1)}function xh(t,n){if(null!==n){const r=n.type;if(3&r)return _r(n,t);if(4&r)return Mu(-1,t[n.index]);if(8&r){const o=n.child;if(null!==o)return xh(t,o);{const u=t[n.index];return Zn(u)?Mu(-1,u):ft(u)}}if(32&r)return wh(n,t)()||ft(t[n.index]);{const o=_p(t,n);return null!==o?Array.isArray(o)?o[0]:xh(xu(t[16]),o):xh(t,n.next)}}return null}function _p(t,n){return null!==n?t[16][6].projection[n.projection]:null}function Mu(t,n){const r=10+t+1;if(r<n.length){const o=n[r],u=o[1].firstChild;if(null!==u)return xh(o,u)}return n[7]}function vp(t,n,r,o,u,l,f){for(;null!=r;){const g=o[r.index],E=r.type;if(f&&0===n&&(g&&Fs(ft(g),o),r.flags|=4),64!=(64&r.flags))if(8&E)vp(t,n,r.child,o,u,l,!1),Xl(n,t,u,g,l);else if(32&E){const P=wh(r,o);let $;for(;$=P();)Xl(n,t,u,$,l);Xl(n,t,u,g,l)}else 16&E?Rh(t,n,o,r,u,l):Xl(n,t,u,g,l);r=f?r.projectionNext:r.next}}function Rc(t,n,r,o,u,l){vp(r,o,t.firstChild,n,u,l,!1)}function Rh(t,n,r,o,u,l){const f=r[16],E=f[6].projection[o.projection];if(Array.isArray(E))for(let P=0;P<E.length;P++)Xl(n,t,u,E[P],l);else vp(t,n,E,f[3],u,l,!0)}function Ph(t,n,r){x(t)?t.setAttribute(n,"style",r):n.style.cssText=r}function bp(t,n,r){x(t)?""===r?t.removeAttribute(n,"class"):t.setAttribute(n,"class",r):n.className=r}function Ep(t,n,r){let o=t.length;for(;;){const u=t.indexOf(n,r);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const l=n.length;if(u+l===o||t.charCodeAt(u+l)<=32)return u}r=u+1}}const Cp="ng-template";function g_(t,n,r){let o=0;for(;o<t.length;){let u=t[o++];if(r&&"class"===u){if(u=t[o],-1!==Ep(u.toLowerCase(),n,0))return!0}else if(1===u){for(;o<t.length&&"string"==typeof(u=t[o++]);)if(u.toLowerCase()===n)return!0;return!1}}return!1}function Ip(t){return 4===t.type&&t.value!==Cp}function bm(t,n,r){return n===(4!==t.type||r?t.value:Cp)}function Tp(t,n,r){let o=4;const u=t.attrs||[],l=function(t){for(let n=0;n<t.length;n++)if(Js(t[n]))return n;return t.length}(u);let f=!1;for(let g=0;g<n.length;g++){const E=n[g];if("number"!=typeof E){if(!f)if(4&o){if(o=2|1&o,""!==E&&!bm(t,E,r)||""===E&&1===n.length){if(au(o))return!1;f=!0}}else{const P=8&o?E:n[++g];if(8&o&&null!==t.attrs){if(!g_(t.attrs,P,r)){if(au(o))return!1;f=!0}continue}const re=Em(8&o?"class":E,u,Ip(t),r);if(-1===re){if(au(o))return!1;f=!0;continue}if(""!==P){let de;de=re>l?"":u[re+1].toLowerCase();const De=8&o?de:null;if(De&&-1!==Ep(De,P,0)||2&o&&P!==de){if(au(o))return!1;f=!0}}}}else{if(!f&&!au(o)&&!au(E))return!1;if(f&&au(E))continue;f=!1,o=E|1&o}}return au(o)||f}function au(t){return 0==(1&t)}function Em(t,n,r,o){if(null===n)return-1;let u=0;if(o||!r){let l=!1;for(;u<n.length;){const f=n[u];if(f===t)return u;if(3===f||6===f)l=!0;else{if(1===f||2===f){let g=n[++u];for(;"string"==typeof g;)g=n[++u];continue}if(4===f)break;if(0===f){u+=4;continue}}u+=l?1:2}return-1}return function(t,n){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){const o=t[r];if("number"==typeof o)return-1;if(o===n)return r;r++}return-1}(n,t)}function Cm(t,n,r=!1){for(let o=0;o<n.length;o++)if(Tp(t,n[o],r))return!0;return!1}function Oh(t,n){return t?":not("+n.trim()+")":n}function Nh(t){let n=t[0],r=1,o=2,u="",l=!1;for(;r<t.length;){let f=t[r];if("string"==typeof f)if(2&o){const g=t[++r];u+="["+f+(g.length>0?'="'+g+'"':"")+"]"}else 8&o?u+="."+f:4&o&&(u+=" "+f);else""!==u&&!au(f)&&(n+=Oh(l,u),u=""),o=f,l=l||!au(o);r++}return""!==u&&(n+=Oh(l,u)),n}const ir={};function kh(t){Am(er(),bt(),N()+t,Qi())}function Am(t,n,r,o){if(!o)if(3==(3&n[2])){const l=t.preOrderCheckHooks;null!==l&&Hn(n,l,r)}else{const l=t.preOrderHooks;null!==l&&I(n,l,0,r)}H(r)}function Oc(t,n){return t<<17|n<<2}function uu(t){return t>>17&32767}function Ed(t){return 2|t}function Ui(t){return(131068&t)>>2}function Dp(t,n){return-131069&t|n<<2}function Ap(t){return 1|t}function Bh(t,n){const r=t.contentQueries;if(null!==r)for(let o=0;o<r.length;o+=2){const u=r[o],l=r[o+1];if(-1!==l){const f=t.data[l];Rs(u),f.contentQueries(2,n[l],l)}}}function Rd(t,n,r,o,u,l,f,g,E,P){const $=n.blueprint.slice();return $[0]=u,$[2]=140|o,Ri($),$[3]=$[15]=t,$[8]=r,$[10]=f||t&&t[10],$[11]=g||t&&t[11],$[12]=E||t&&t[12]||null,$[9]=P||t&&t[9]||null,$[6]=l,$[16]=2==n.type?t[16]:$,$}function Dl(t,n,r,o,u){let l=t.data[n];if(null===l)l=function(t,n,r,o,u){const l=co(),f=Ws(),E=t.data[n]=function(t,n,r,o,u,l){return{type:r,index:o,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?l:l&&l.parent,r,n,o,u);return null===t.firstChild&&(t.firstChild=E),null!==l&&(f?null==l.child&&null!==E.parent&&(l.child=E):null===l.next&&(l.next=E)),E}(t,n,r,o,u),In.lFrame.inI18n&&(l.flags|=64);else if(64&l.type){l.type=r,l.value=o,l.attrs=u;const f=function(){const t=In.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();l.injectorIndex=null===f?-1:f.injectorIndex}return fs(l,!0),l}function Al(t,n,r,o){if(0===r)return-1;const u=n.length;for(let l=0;l<r;l++)n.push(o),t.blueprint.push(o),t.data.push(null);return u}function kc(t,n,r){$i(n);try{const o=t.viewQuery;null!==o&&Xp(1,o,r);const u=t.template;null!==u&&km(t,n,u,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Bh(t,n),t.staticViewQueries&&Xp(2,t.viewQuery,r);const l=t.components;null!==l&&function(t,n){for(let r=0;r<n.length;r++)Kp(t,n[r])}(n,l)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{n[2]&=-5,wa()}}function cu(t,n,r,o){const u=n[2];if(256==(256&u))return;$i(n);const l=Qi();try{Ri(n),function(t){In.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==r&&km(t,n,r,2,o);const f=3==(3&u);if(!l)if(f){const P=t.preOrderCheckHooks;null!==P&&Hn(n,P,null)}else{const P=t.preOrderHooks;null!==P&&I(n,P,0,null),D(n,0)}if(function(t){for(let n=Jl(t);null!==n;n=bh(n)){if(!n[2])continue;const r=n[9];for(let o=0;o<r.length;o++){const u=r[o],l=u[3];0==(1024&u[2])&&$s(l,1),u[2]|=1024}}}(n),function(t){for(let n=Jl(t);null!==n;n=bh(n))for(let r=10;r<n.length;r++){const o=n[r],u=o[1];bo(o)&&cu(u,o,u.template,o[8])}}(n),null!==t.contentQueries&&Bh(t,n),!l)if(f){const P=t.contentCheckHooks;null!==P&&Hn(n,P)}else{const P=t.contentHooks;null!==P&&I(n,P,1),D(n,1)}!function(t,n){const r=t.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const u=r[o];if(u<0)H(~u);else{const l=u,f=r[++o],g=r[++o];Ho(f,l),g(2,n[l])}}}finally{H(-1)}}(t,n);const g=t.components;null!==g&&function(t,n){for(let r=0;r<n.length;r++)Zp(t,n[r])}(n,g);const E=t.viewQuery;if(null!==E&&Xp(2,E,o),!l)if(f){const P=t.viewCheckHooks;null!==P&&Hn(n,P)}else{const P=t.viewHooks;null!==P&&I(n,P,2),D(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),l||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,$s(n[3],-1))}finally{wa()}}function Lp(t,n,r,o){const u=n[10],l=!Qi(),f=Lo(n);try{l&&!f&&u.begin&&u.begin(),f&&kc(t,n,o),cu(t,n,r,o)}finally{l&&!f&&u.end&&u.end()}}function km(t,n,r,o,u){const l=N(),f=2&o;try{H(-1),f&&n.length>20&&Am(t,n,20,Qi()),r(o,u)}finally{H(l)}}function jh(t,n,r){!Co()||(function(t,n,r,o){const u=r.directiveStart,l=r.directiveEnd;t.firstCreatePass||mo(r,n),Fs(o,n);const f=r.initialInputs;for(let g=u;g<l;g++){const E=t.data[g],P=Nr(E);P&&Hm(n,r,E);const $=Ea(n,t,g,r);Fs($,n),null!==f&&A_(0,g-u,$,E,0,f),P&&(fi(r.index,n)[8]=$)}}(t,n,r,_r(r,n)),128==(128&r.flags)&&function(t,n,r){const o=r.directiveStart,u=r.directiveEnd,f=r.index,g=In.lFrame.currentDirectiveIndex;try{H(f);for(let E=o;E<u;E++){const P=t.data[E],$=n[E];ea(E),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&Um(P,$)}}finally{H(-1),ea(g)}}(t,n,r))}function Hh(t,n,r=_r){const o=n.localNames;if(null!==o){let u=n.index+1;for(let l=0;l<o.length;l+=2){const f=o[l+1],g=-1===f?r(n,t):t[f];t[u++]=g}}}function Lm(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Fc(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function Fc(t,n,r,o,u,l,f,g,E,P){const $=20+o,re=$+u,de=function(t,n){const r=[];for(let o=0;o<n;o++)r.push(o<t?null:ir);return r}($,re),De="function"==typeof P?P():P;return de[1]={type:t,blueprint:de,template:r,queries:null,viewQuery:g,declTNode:n,data:de.slice().fill(null,$),bindingStartIndex:$,expandoStartIndex:re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:E,consts:De,incompleteFirstPass:!1}}function Vm(t,n,r,o){const u=Jh(n);null===r?u.push(o):(u.push(r),t.firstCreatePass&&Xh(t).push(o,u.length-1))}function qh(t,n,r){for(let o in t)if(t.hasOwnProperty(o)){const u=t[o];(r=null===r?{}:r).hasOwnProperty(o)?r[o].push(n,u):r[o]=[n,u]}return r}function Ls(t,n,r,o,u,l,f,g){const E=_r(n,r);let $,P=n.inputs;!g&&null!=P&&($=P[o])?(eg(t,r,$,o,u),Pi(n)&&function(t,n){const r=fi(n,t);16&r[2]||(r[2]|=64)}(r,n.index)):3&n.type&&(o=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(o),u=null!=f?f(u,n.value||"",o):u,x(l)?l.setProperty(E,o,u):Wa(o)||(E.setProperty?E.setProperty(o,u):E[o]=u))}function Pd(t,n,r,o){let u=!1;if(Co()){const l=function(t,n,r){const o=t.directiveRegistry;let u=null;if(o)for(let l=0;l<o.length;l++){const f=o[l];Cm(r,f.selectors,!1)&&(u||(u=[]),ra(mo(r,n),t,f.type),Nr(f)?(Zh(t,r),u.unshift(f)):u.push(f))}return u}(t,n,r),f=null===o?null:{"":-1};if(null!==l){u=!0,jm(r,t.data.length,l.length);for(let $=0;$<l.length;$++){const re=l[$];re.providersResolver&&re.providersResolver(re)}let g=!1,E=!1,P=Al(t,n,l.length,null);for(let $=0;$<l.length;$++){const re=l[$];r.mergedAttrs=vu(r.mergedAttrs,re.hostAttrs),Gp(t,r,n,P,re),Bm(P,re,f),null!==re.contentQueries&&(r.flags|=8),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(r.flags|=128);const de=re.type.prototype;!g&&(de.ngOnChanges||de.ngOnInit||de.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(r.index),g=!0),!E&&(de.ngOnChanges||de.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(r.index),E=!0),P++}!function(t,n){const o=n.directiveEnd,u=t.data,l=n.attrs,f=[];let g=null,E=null;for(let P=n.directiveStart;P<o;P++){const $=u[P],re=$.inputs,de=null===l||Ip(n)?null:S_(re,l);f.push(de),g=qh(re,P,g),E=qh($.outputs,P,E)}null!==g&&(g.hasOwnProperty("class")&&(n.flags|=16),g.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=f,n.inputs=g,n.outputs=E}(t,r)}f&&function(t,n,r){if(n){const o=t.localNames=[];for(let u=0;u<n.length;u+=2){const l=r[n[u+1]];if(null==l)throw new it("301",`Export of name '${n[u+1]}' not found!`);o.push(n[u],l)}}}(r,o,f)}return r.mergedAttrs=vu(r.mergedAttrs,r.attrs),u}function zh(t,n,r,o,u,l){const f=l.hostBindings;if(f){let g=t.hostBindingOpCodes;null===g&&(g=t.hostBindingOpCodes=[]);const E=~n.index;(function(t){let n=t.length;for(;n>0;){const r=t[--n];if("number"==typeof r&&r<0)return r}return 0})(g)!=E&&g.push(E),g.push(o,u,f)}}function Um(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Zh(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function Bm(t,n,r){if(r){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)r[n.exportAs[o]]=t;Nr(n)&&(r[""]=t)}}function jm(t,n,r){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+r,t.providerIndexes=n}function Gp(t,n,r,o,u){t.data[o]=u;const l=u.factory||(u.factory=hi(u.type)),f=new Wt(l,Nr(u),null);t.blueprint[o]=f,r[o]=f,zh(t,n,0,o,Al(t,r,u.hostVars,ir),u)}function Hm(t,n,r){const o=_r(n,t),u=Lm(r),l=t[10],f=Uc(t,Rd(t,u,null,r.onPush?64:16,o,n,l,l.createRenderer(o,r),null,null));t[n.index]=f}function du(t,n,r,o,u,l){const f=_r(t,n);!function(t,n,r,o,u,l,f){if(null==l)x(t)?t.removeAttribute(n,u,r):n.removeAttribute(u);else{const g=null==f?ie(l):f(l,o||"",u);x(t)?t.setAttribute(n,u,g,r):r?n.setAttributeNS(r,u,g):n.setAttribute(u,g)}}(n[11],f,l,t.value,r,o,u)}function A_(t,n,r,o,u,l){const f=l[n];if(null!==f){const g=o.setInput;for(let E=0;E<f.length;){const P=f[E++],$=f[E++],re=f[E++];null!==g?o.setInput(r,re,P,$):r[$]=re}}}function S_(t,n){let r=null,o=0;for(;o<n.length;){const u=n[o];if(0!==u)if(5!==u){if("number"==typeof u)break;t.hasOwnProperty(u)&&(null===r&&(r=[]),r.push(u,t[u],n[o+1])),o+=2}else o+=2;else o+=4}return r}function $m(t,n,r,o){return new Array(t,!0,!1,n,null,0,o,r,null,null)}function Zp(t,n){const r=fi(n,t);if(bo(r)){const o=r[1];80&r[2]?cu(o,r,o.template,r[8]):r[5]>0&&Wp(r)}}function Wp(t){for(let o=Jl(t);null!==o;o=bh(o))for(let u=10;u<o.length;u++){const l=o[u];if(1024&l[2]){const f=l[1];cu(f,l,f.template,l[8])}else l[5]>0&&Wp(l)}const r=t[1].components;if(null!==r)for(let o=0;o<r.length;o++){const u=fi(r[o],t);bo(u)&&u[5]>0&&Wp(u)}}function Kp(t,n){const r=fi(n,t),o=r[1];(function(t,n){for(let r=n.length;r<t.blueprint.length;r++)n.push(t.blueprint[r])})(o,r),kc(o,r,r[8])}function Uc(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function Kh(t){for(;t;){t[2]|=64;const n=xu(t);if(yi(t)&&!n)return t;t=n}return null}function Qp(t,n,r){const o=n[10];o.begin&&o.begin();try{cu(t,n,t.template,r)}catch(u){throw uc(n,u),u}finally{o.end&&o.end()}}function Qh(t){!function(t){for(let n=0;n<t.components.length;n++){const r=t.components[n],o=Su(r),u=o[1];Lp(u,o,u.template,r)}}(t[8])}function Xp(t,n,r){Rs(0),n(t,r)}const M_=(()=>Promise.resolve(null))();function Jh(t){return t[7]||(t[7]=[])}function Xh(t){return t.cleanup||(t.cleanup=[])}function uc(t,n){const r=t[9],o=r?r.get(yn,null):null;o&&o.handleError(n)}function eg(t,n,r,o,u){for(let l=0;l<r.length;){const f=r[l++],g=r[l++],E=n[f],P=t.data[f];null!==P.setInput?P.setInput(E,u,o,g):E[g]=u}}function hu(t,n,r){const o=Jr(n,t);!function(t,n,r){x(t)?t.setValue(n,r):n.textContent=r}(t[11],o,r)}function tf(t,n,r){let o=r?t.styles:null,u=r?t.classes:null,l=0;if(null!==n)for(let f=0;f<n.length;f++){const g=n[f];"number"==typeof g?l=g:1==l?u=Ve(u,g):2==l&&(o=Ve(o,g+": "+n[++f]+";"))}r?t.styles=o:t.stylesWithoutHost=o,r?t.classes=u:t.classesWithoutHost=u}const Bc=new V("INJECTOR",-1);class nf{get(n,r=$t){if(r===$t){const o=new Error(`NullInjectorError: No provider for ${Oe(n)}!`);throw o.name="NullInjectorError",o}return r}}const Od=new V("Set Injector scope."),Nd={},ng={};let rg;function rf(){return void 0===rg&&(rg=new nf),rg}function sf(t,n=null,r=null,o){return new O_(t,r,n||rf(),o)}class O_{constructor(n,r,o,u=null){this.parent=o,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const l=[];r&&Ko(r,g=>this.processProvider(g,n,r)),Ko([n],g=>this.processInjectorType(g,[],l)),this.records.set(Bc,jc(void 0,this));const f=this.records.get(Od);this.scope=null!=f?f.value:null,this.source=u||("object"==typeof n?null:Oe(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,r=$t,o=wt.Default){this.assertNotDestroyed();const u=Ns(this),l=Zt(void 0);try{if(!(o&wt.SkipSelf)){let g=this.records.get(n);if(void 0===g){const E=("function"==typeof(t=n)||"object"==typeof t&&t instanceof V)&&wn(n);g=E&&this.injectableDefInScope(E)?jc(kd(n),Nd):null,this.records.set(n,g)}if(null!=g)return this.hydrate(n,g)}return(o&wt.Self?rf():this.parent).get(n,r=o&wt.Optional&&r===$t?null:r)}catch(f){if("NullInjectorError"===f.name){if((f[xr]=f[xr]||[]).unshift(Oe(n)),u)throw f;return ll(f,n,"R3InjectorError",this.source)}throw f}finally{Zt(l),Ns(u)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((o,u)=>n.push(Oe(u))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,r,o){if(!(n=Me(n)))return!1;let u=vt(n);const l=null==u&&n.ngModule||void 0,f=void 0===l?n:l,g=-1!==o.indexOf(f);if(void 0!==l&&(u=vt(l)),null==u)return!1;if(null!=u.imports&&!g){let $;o.push(f);try{Ko(u.imports,re=>{this.processInjectorType(re,r,o)&&(void 0===$&&($=[]),$.push(re))})}finally{}if(void 0!==$)for(let re=0;re<$.length;re++){const{ngModule:de,providers:De}=$[re];Ko(De,Ue=>this.processProvider(Ue,de,De||dn))}}this.injectorDefTypes.add(f);const E=hi(f)||(()=>new f);this.records.set(f,jc(E,Nd));const P=u.providers;if(null!=P&&!g){const $=n;Ko(P,re=>this.processProvider(re,$,P))}return void 0!==l&&void 0!==n.providers}processProvider(n,r,o){let u=Sl(n=Me(n))?n:Me(n&&n.provide);const l=Zm(t=n)?jc(void 0,t.useValue):jc(sg(t),Nd);var t;if(Sl(n)||!0!==n.multi)this.records.get(u);else{let f=this.records.get(u);f||(f=jc(void 0,Nd,!0),f.factory=()=>aa(f.multi),this.records.set(u,f)),u=n,f.multi.push(n)}this.records.set(u,l)}hydrate(n,r){return r.value===Nd&&(r.value=ng,r.value=r.factory()),"object"==typeof r.value&&r.value&&null!==(t=r.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(r.value),r.value;var t}injectableDefInScope(n){if(!n.providedIn)return!1;const r=Me(n.providedIn);return"string"==typeof r?"any"===r||r===this.scope:this.injectorDefTypes.has(r)}}function kd(t){const n=wn(t),r=null!==n?n.factory:hi(t);if(null!==r)return r;if(t instanceof V)throw new Error(`Token ${Oe(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const n=t.length;if(n>0){const o=function(t,n){const r=[];for(let o=0;o<t;o++)r.push(n);return r}(n,"?");throw new Error(`Can't resolve all parameters for ${Oe(t)}: (${o.join(", ")}).`)}const r=function(t){const n=t&&(t[Je]||t[Ut]);if(n){const r=function(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${r}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${r}" class.`),n}return null}(t);return null!==r?()=>r.factory(t):()=>new t}(t);throw new Error("unreachable")}function sg(t,n,r){let o;if(Sl(t)){const u=Me(t);return hi(u)||kd(u)}if(Zm(t))o=()=>Me(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))o=()=>t.useFactory(...aa(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))o=()=>Xi(Me(t.useExisting));else{const u=Me(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return hi(u)||kd(u);o=()=>new u(...aa(t.deps))}return o}function jc(t,n,r=!1){return{factory:t,value:n,multi:r?[]:void 0}}function Zm(t){return null!==t&&"object"==typeof t&&Va in t}function Sl(t){return"function"==typeof t}const af=function(t,n,r){return function(t,n=null,r=null,o){const u=sf(t,n,r,o);return u._resolveInjectorDefTypes(),u}({name:r},n,t,r)};let qi=(()=>{class t{static create(r,o){return Array.isArray(r)?af(r,o,""):af(r.providers,r.parent,r.name||"")}}return t.THROW_IF_NOT_FOUND=$t,t.NULL=new nf,t.\u0275prov=qn({token:t,providedIn:"any",factory:()=>Xi(Bc)}),t.__NG_ELEMENT_ID__=-1,t})();function Po(t,n){fn(Su(t)[1],Xr())}function _g(t){let n=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),r=!0;const o=[t];for(;n;){let u;if(Nr(t))u=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");u=n.\u0275dir}if(u){if(r){o.push(u);const f=t;f.inputs=mf(t.inputs),f.declaredInputs=mf(t.declaredInputs),f.outputs=mf(t.outputs);const g=u.hostBindings;g&&vg(t,g);const E=u.viewQuery,P=u.contentQueries;if(E&&ty(t,E),P&&Z_(t,P),nt(t.inputs,u.inputs),nt(t.declaredInputs,u.declaredInputs),nt(t.outputs,u.outputs),Nr(u)&&u.data.animation){const $=t.data;$.animation=($.animation||[]).concat(u.data.animation)}}const l=u.features;if(l)for(let f=0;f<l.length;f++){const g=l[f];g&&g.ngInherit&&g(t),g===_g&&(r=!1)}}n=Object.getPrototypeOf(n)}!function(t){let n=0,r=null;for(let o=t.length-1;o>=0;o--){const u=t[o];u.hostVars=n+=u.hostVars,u.hostAttrs=vu(u.hostAttrs,r=vu(r,u.hostAttrs))}}(o)}function mf(t){return t===Un?{}:t===dn?[]:t}function ty(t,n){const r=t.viewQuery;t.viewQuery=r?(o,u)=>{n(o,u),r(o,u)}:n}function Z_(t,n){const r=t.contentQueries;t.contentQueries=r?(o,u,l)=>{n(o,u,l),r(o,u,l)}:n}function vg(t,n){const r=t.hostBindings;t.hostBindings=r?(o,u)=>{n(o,u),r(o,u)}:n}let wg=null;function Vd(){if(!wg){const t=yt.Symbol;if(t&&t.iterator)wg=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let r=0;r<n.length;++r){const o=n[r];"entries"!==o&&"size"!==o&&Map.prototype[o]===Map.prototype.entries&&(wg=o)}}}return wg}function Ud(t){return!!bg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Vd()in t)}function bg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Oo(t,n,r){return!Object.is(t[n],r)&&(t[n]=r,!0)}function _f(t,n,r,o){const u=bt();return Oo(u,Qs(),n)&&(er(),du(se(),u,t,n,r,o)),_f}function wf(t,n,r,o,u,l,f,g){const E=bt(),P=er(),$=t+20,re=P.firstCreatePass?function(t,n,r,o,u,l,f,g,E){const P=n.consts,$=Dl(n,t,4,f||null,Vr(P,g));Pd(n,r,$,Vr(P,E)),fn(n,$);const re=$.tViews=Fc(2,$,o,u,l,n.directiveRegistry,n.pipeRegistry,null,n.schemas,P);return null!==n.queries&&(n.queries.template(n,$),re.queries=n.queries.embeddedTView($)),$}($,P,E,n,r,o,u,l,f):P.data[$];fs(re,!1);const de=E[11].createComment("");Sh(P,E,de,re),Fs(de,E),Uc(E,E[$]=$m(de,E,de,re)),Oi(re)&&jh(P,E,re),null!=f&&Hh(E,re,g)}function Yc(t,n=wt.Default){const r=bt();return null===r?Xi(t,n):Vi(Xr(),r,Me(t),n)}function Rg(t,n,r){const o=bt();return Oo(o,Qs(),n)&&Ls(er(),se(),o,t,n,o[11],r,!1),Rg}function Af(t,n,r,o,u){const f=u?"class":"style";eg(t,r,n.inputs[f],f,o)}function Nl(t,n,r,o){const u=bt(),l=er(),f=20+t,g=u[11],E=u[f]=fp(g,n,In.lFrame.currentNamespace),P=l.firstCreatePass?function(t,n,r,o,u,l,f){const g=n.consts,P=Dl(n,t,2,u,Vr(g,l));return Pd(n,r,P,Vr(g,f)),null!==P.attrs&&tf(P,P.attrs,!1),null!==P.mergedAttrs&&tf(P,P.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,P),P}(f,l,u,0,n,r,o):l.data[f];fs(P,!0);const $=P.mergedAttrs;null!==$&&Ra(g,E,$);const re=P.classes;null!==re&&bp(g,E,re);const de=P.styles;null!==de&&Ph(g,E,de),64!=(64&P.flags)&&Sh(l,u,E,P),0===In.lFrame.elementDepthCount&&Fs(E,u),In.lFrame.elementDepthCount++,Oi(P)&&(jh(l,u,P),function(t,n,r){if(Mi(n)){const u=n.directiveEnd;for(let l=n.directiveStart;l<u;l++){const f=t.data[l];f.contentQueries&&f.contentQueries(1,r[l],l)}}}(l,P,u)),null!==o&&Hh(u,P)}function zd(){let t=Xr();Ws()?In.lFrame.isParent=!1:(t=t.parent,fs(t,!1));const n=t;In.lFrame.elementDepthCount--;const r=er();r.firstCreatePass&&(fn(r,t),Mi(t)&&r.queries.elementEnd(t)),null!=n.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(n)&&Af(r,n,bt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(n)&&Af(r,n,bt(),n.stylesWithoutHost,!1)}function vy(t,n,r,o){Nl(t,n,r,o),zd()}function Ey(){return bt()}function Cy(t){return!!t&&"function"==typeof t.then}function Iy(t){return!!t&&"function"==typeof t.subscribe}const Mg=Iy;function Pg(t,n,r,o){const u=bt(),l=er(),f=Xr();return function(t,n,r,o,u,l,f,g){const E=Oi(o),$=t.firstCreatePass&&Xh(t),re=n[8],de=Jh(n);let De=!0;if(3&o.type||g){const et=_r(o,n),Vt=g?g(et):et,Et=de.length,Pn=g?Qn=>g(ft(Qn[o.index])):o.index;if(x(r)){let Qn=null;if(!g&&E&&(Qn=function(t,n,r,o){const u=t.cleanup;if(null!=u)for(let l=0;l<u.length-1;l+=2){const f=u[l];if(f===r&&u[l+1]===o){const g=n[7],E=u[l+2];return g.length>E?g[E]:null}"string"==typeof f&&(l+=2)}return null}(t,n,u,o.index)),null!==Qn)(Qn.__ngLastListenerFn__||Qn).__ngNextListenerFn__=l,Qn.__ngLastListenerFn__=l,De=!1;else{l=Zd(o,n,re,l,!1);const zr=r.listen(Vt,u,l);de.push(l,zr),$&&$.push(u,Pn,Et,Et+1)}}else l=Zd(o,n,re,l,!0),Vt.addEventListener(u,l,f),de.push(l),$&&$.push(u,Pn,Et,f)}else l=Zd(o,n,re,l,!1);const Ue=o.outputs;let lt;if(De&&null!==Ue&&(lt=Ue[u])){const et=lt.length;if(et)for(let Vt=0;Vt<et;Vt+=2){const wo=n[lt[Vt]][lt[Vt+1]].subscribe(l),Uu=de.length;de.push(l,wo),$&&$.push(u,o.index,Uu,-(Uu+1))}}}(l,u,u[11],f,t,n,!!r,o),Pg}function Qc(t,n,r,o){try{return!1!==r(o)}catch(u){return uc(t,u),!1}}function Zd(t,n,r,o,u){return function l(f){if(f===Function)return o;const g=2&t.flags?fi(t.index,n):n;0==(32&n[2])&&Kh(g);let E=Qc(n,0,o,f),P=l.__ngNextListenerFn__;for(;P;)E=Qc(n,0,P,f)&&E,P=P.__ngNextListenerFn__;return u&&!1===E&&(f.preventDefault(),f.returnValue=!1),E}}function Dy(t=1){return function(t){return(In.lFrame.contextLView=function(t,n){for(;t>0;)n=n[15],t--;return n}(t,In.lFrame.contextLView))[8]}(t)}function pc(t,n,r,o,u){const l=t[r+1],f=null===n;let g=o?uu(l):Ui(l),E=!1;for(;0!==g&&(!1===E||f);){const $=t[g+1];gc(t[g],n)&&(E=!0,t[g+1]=o?Ap($):Ed($)),g=o?uu($):Ui($)}E&&(t[r+1]=o?Ed(l):Ap(l))}function gc(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Fa(t,n)>=0}function Ug(t,n){return function(t,n,r,o){const u=bt(),l=er(),f=function(t){const n=In.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,r}(2);l.firstUpdatePass&&function(t,n,r,o){const u=t.data;if(null===u[r+1]){const l=u[N()],f=function(t,n){return n>=t.expandoStartIndex}(t,r);(function(t,n){return 0!=(t.flags&(n?16:32))})(l,o)&&null===n&&!f&&(n=!1),n=function(t,n,r,o){const u=function(t){const n=In.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let l=o?n.residualClasses:n.residualStyles;if(null===u)0===(o?n.classBindings:n.styleBindings)&&(r=i(r=e(null,t,n,r,o),n.attrs,o),l=null);else{const f=n.directiveStylingLast;if(-1===f||t[f]!==u)if(r=e(u,t,n,r,o),null===l){let E=function(t,n,r){const o=r?n.classBindings:n.styleBindings;if(0!==Ui(o))return t[uu(o)]}(t,n,o);void 0!==E&&Array.isArray(E)&&(E=e(null,t,n,E[1],o),E=i(E,n.attrs,o),function(t,n,r,o){t[uu(r?n.classBindings:n.styleBindings)]=o}(t,n,o,E))}else l=function(t,n,r){let o;const u=n.directiveEnd;for(let l=1+n.directiveStylingLast;l<u;l++)o=i(o,t[l].hostAttrs,r);return i(o,n.attrs,r)}(t,n,o)}return void 0!==l&&(o?n.residualClasses=l:n.residualStyles=l),r}(u,l,n,o),function(t,n,r,o,u,l){let f=l?n.classBindings:n.styleBindings,g=uu(f),E=Ui(f);t[o]=r;let $,P=!1;if(Array.isArray(r)){const re=r;$=re[1],(null===$||Fa(re,$)>0)&&(P=!0)}else $=r;if(u)if(0!==E){const de=uu(t[g+1]);t[o+1]=Oc(de,g),0!==de&&(t[de+1]=Dp(t[de+1],o)),t[g+1]=function(t,n){return 131071&t|n<<17}(t[g+1],o)}else t[o+1]=Oc(g,0),0!==g&&(t[g+1]=Dp(t[g+1],o)),g=o;else t[o+1]=Oc(E,0),0===g?g=o:t[E+1]=Dp(t[E+1],o),E=o;P&&(t[o+1]=Ed(t[o+1])),pc(t,$,o,!0),pc(t,$,o,!1),function(t,n,r,o,u){const l=u?t.residualClasses:t.residualStyles;null!=l&&"string"==typeof n&&Fa(l,n)>=0&&(r[o+1]=Ap(r[o+1]))}(n,$,t,o,l),f=Oc(g,E),l?n.classBindings=f:n.styleBindings=f}(u,l,n,r,f,o)}}(l,t,f,o),n!==ir&&Oo(u,f,n)&&function(t,n,r,o,u,l,f,g){if(!(3&n.type))return;const E=t.data,P=E[g+1];z(function(t){return 1==(1&t)}(P)?k(E,n,r,u,Ui(P),f):void 0)||(z(l)||function(t){return 2==(2&t)}(P)&&(l=k(E,null,r,u,g,f)),function(t,n,r,o,u){const l=x(t);if(n)u?l?t.addClass(r,o):r.classList.add(o):l?t.removeClass(r,o):r.classList.remove(o);else{let f=-1===o.indexOf("-")?void 0:ou.DashCase;if(null==u)l?t.removeStyle(r,o,f):r.style.removeProperty(o);else{const g="string"==typeof u&&u.endsWith("!important");g&&(u=u.slice(0,-10),f|=ou.Important),l?t.setStyle(r,o,u,f):r.style.setProperty(o,u,g?"important":"")}}}(o,f,Jr(N(),r),u,l))}(l,l.data[N()],u,u[11],t,u[f+1]=function(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Oe(cr(t)))),t}(n,r),o,f)}(t,n,null,!0),Ug}function e(t,n,r,o,u){let l=null;const f=r.directiveEnd;let g=r.directiveStylingLast;for(-1===g?g=r.directiveStart:g++;g<f&&(l=n[g],o=i(o,l.hostAttrs,u),l!==t);)g++;return null!==t&&(r.directiveStylingLast=g),o}function i(t,n,r){const o=r?1:2;let u=-1;if(null!==n)for(let l=0;l<n.length;l++){const f=n[l];"number"==typeof f?u=f:u===o&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),no(t,f,!!r||n[++l]))}return void 0===t?null:t}function k(t,n,r,o,u,l){const f=null===n;let g;for(;u>0;){const E=t[u],P=Array.isArray(E),$=P?E[1]:E,re=null===$;let de=r[u+1];de===ir&&(de=re?dn:void 0);let De=re?ka(de,o):$===o?de:void 0;if(P&&!z(De)&&(De=ka(E,o)),z(De)&&(g=De,f))return g;const Ue=t[u+1];u=f?uu(Ue):Ui(Ue)}if(null!==n){let E=l?n.residualClasses:n.residualStyles;null!=E&&(g=ka(E,o))}return g}function z(t){return void 0!==t}function je(t,n=""){const r=bt(),o=er(),u=t+20,l=o.firstCreatePass?Dl(o,u,1,n,null):o.data[u],f=r[u]=function(t,n){return x(t)?t.createText(n):t.createTextNode(n)}(r[11],n);Sh(o,r,f,l),fs(l,!1)}function ht(t){return Ct("",t,""),ht}function Ct(t,n,r){const o=bt(),u=function(t,n,r,o){return Oo(t,Qs(),r)?n+ie(r)+o:ir}(o,t,n,r);return u!==ir&&hu(o,N(),u),Ct}function wv(t,n,r){const o=bt();return Oo(o,Qs(),n)&&Ls(er(),se(),o,t,n,o[11],r,!0),wv}const Wd=void 0;var lC=["en",[["a","p"],["AM","PM"],Wd],[["AM","PM"],Wd,Wd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wd,"{1} 'at' {0}",Wd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let kf={};function bv(t){const n=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let r=f0(n);if(r)return r;const o=n.split("-")[0];if(r=f0(o),r)return r;if("en"===o)return lC;throw new Error(`Missing locale data for the locale "${t}".`)}function h0(t){return bv(t)[Gn.PluralCase]}function f0(t){return t in kf||(kf[t]=yt.ng&&yt.ng.common&&yt.ng.common.locales&&yt.ng.common.locales[t]),kf[t]}var Gn=(()=>((Gn=Gn||{})[Gn.LocaleId=0]="LocaleId",Gn[Gn.DayPeriodsFormat=1]="DayPeriodsFormat",Gn[Gn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Gn[Gn.DaysFormat=3]="DaysFormat",Gn[Gn.DaysStandalone=4]="DaysStandalone",Gn[Gn.MonthsFormat=5]="MonthsFormat",Gn[Gn.MonthsStandalone=6]="MonthsStandalone",Gn[Gn.Eras=7]="Eras",Gn[Gn.FirstDayOfWeek=8]="FirstDayOfWeek",Gn[Gn.WeekendRange=9]="WeekendRange",Gn[Gn.DateFormat=10]="DateFormat",Gn[Gn.TimeFormat=11]="TimeFormat",Gn[Gn.DateTimeFormat=12]="DateTimeFormat",Gn[Gn.NumberSymbols=13]="NumberSymbols",Gn[Gn.NumberFormats=14]="NumberFormats",Gn[Gn.CurrencyCode=15]="CurrencyCode",Gn[Gn.CurrencySymbol=16]="CurrencySymbol",Gn[Gn.CurrencyName=17]="CurrencyName",Gn[Gn.Currencies=18]="Currencies",Gn[Gn.Directionality=19]="Directionality",Gn[Gn.PluralCase=20]="PluralCase",Gn[Gn.ExtraData=21]="ExtraData",Gn))();const Ly="en-US";let p0=Ly;function Ev(t){Mn(t,"Expected localeId to be defined"),"string"==typeof t&&(p0=t.toLowerCase().replace(/_/g,"-"))}function Tv(t,n,r,o,u){if(t=Me(t),Array.isArray(t))for(let l=0;l<t.length;l++)Tv(t[l],n,r,o,u);else{const l=er(),f=bt();let g=Sl(t)?t:Me(t.provide),E=sg(t);const P=Xr(),$=1048575&P.providerIndexes,re=P.directiveStart,de=P.providerIndexes>>20;if(Sl(t)||!t.multi){const De=new Wt(E,u,Yc),Ue=Av(g,n,u?$:$+de,re);-1===Ue?(ra(mo(P,f),l,g),Dv(l,t,n.length),n.push(g),P.directiveStart++,P.directiveEnd++,u&&(P.providerIndexes+=1048576),r.push(De),f.push(De)):(r[Ue]=De,f[Ue]=De)}else{const De=Av(g,n,$+de,re),Ue=Av(g,n,$,$+de),lt=De>=0&&r[De],et=Ue>=0&&r[Ue];if(u&&!et||!u&&!lt){ra(mo(P,f),l,g);const Vt=function(t,n,r,o,u){const l=new Wt(t,r,Yc);return l.multi=[],l.index=n,l.componentProviders=0,V0(l,u,o&&!r),l}(u?oI:sI,r.length,u,o,E);!u&&et&&(r[Ue].providerFactory=Vt),Dv(l,t,n.length,0),n.push(g),P.directiveStart++,P.directiveEnd++,u&&(P.providerIndexes+=1048576),r.push(Vt),f.push(Vt)}else Dv(l,t,De>-1?De:Ue,V0(r[u?Ue:De],E,!u&&o));!u&&o&&et&&r[Ue].componentProviders++}}}function Dv(t,n,r,o){const u=Sl(n);if(u||function(t){return!!t.useClass}(n)){const f=(n.useClass||n).prototype.ngOnDestroy;if(f){const g=t.destroyHooks||(t.destroyHooks=[]);if(!u&&n.multi){const E=g.indexOf(r);-1===E?g.push(r,[o,f]):g[E+1].push(o,f)}else g.push(r,f)}}}function V0(t,n,r){return r&&t.componentProviders++,t.multi.push(n)-1}function Av(t,n,r,o){for(let u=r;u<o;u++)if(n[u]===t)return u;return-1}function sI(t,n,r,o){return Sv(this.multi,[])}function oI(t,n,r,o){const u=this.multi;let l;if(this.providerFactory){const f=this.providerFactory.componentProviders,g=Ea(r,r[1],this.providerFactory.index,o);l=g.slice(0,f),Sv(u,l);for(let E=f;E<g.length;E++)l.push(g[E])}else l=[],Sv(u,l);return l}function Sv(t,n){for(let r=0;r<t.length;r++)n.push((0,t[r])());return n}function U0(t,n=[]){return r=>{r.providersResolver=(o,u)=>function(t,n,r){const o=er();if(o.firstCreatePass){const u=Nr(t);Tv(r,o.data,o.blueprint,u,!0),Tv(n,o.data,o.blueprint,u,!1)}}(o,u?u(t):t,n)}}class B0{}const H0="ngComponent";class lI{resolveComponentFactory(n){throw function(t){const n=Error(`No component factory found for ${Oe(t)}. Did you add it to @NgModule.entryComponents?`);return n[H0]=t,n}(n)}}let Lf=(()=>{class t{}return t.NULL=new lI,t})();function Hy(...t){}function Vf(t,n){return new Vl(_r(t,n))}const hI=function(){return Vf(Xr(),bt())};let Vl=(()=>{class t{constructor(r){this.nativeElement=r}}return t.__NG_ELEMENT_ID__=hI,t})();function $0(t){return t instanceof Vl?t.nativeElement:t}class $y{}let fI=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>gI(),t})();const gI=function(){const t=bt(),r=fi(Xr().index,t);return function(t){return t[11]}(Kr(r)?r:t)};let Rv=(()=>{class t{}return t.\u0275prov=qn({token:t,providedIn:"root",factory:()=>null}),t})();class G0{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Mv=new G0("12.2.10");class q0{constructor(){}supports(n){return Ud(n)}create(n){return new vI(n)}}const _I=(t,n)=>n;class vI{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||_I}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,o=this._removalsHead,u=0,l=null;for(;r||o;){const f=!o||r&&r.currentIndex<Z0(o,u,l)?r:o,g=Z0(f,u,l),E=f.currentIndex;if(f===o)u--,o=o._nextRemoved;else if(r=r._next,null==f.previousIndex)u++;else{l||(l=[]);const P=g-u,$=E-u;if(P!=$){for(let de=0;de<P;de++){const De=de<l.length?l[de]:l[de]=0,Ue=De+de;$<=Ue&&Ue<P&&(l[de]=De+1)}l[f.previousIndex]=$-P}}g!==E&&n(f,g,E)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!Ud(n))throw new Error(`Error trying to diff '${Oe(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let u,l,f,r=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let g=0;g<this.length;g++)l=n[g],f=this._trackByFn(g,l),null!==r&&Object.is(r.trackById,f)?(o&&(r=this._verifyReinsertion(r,l,f,g)),Object.is(r.item,l)||this._addIdentityChange(r,l)):(r=this._mismatch(r,l,f,g),o=!0),r=r._next}else u=0,function(t,n){if(Array.isArray(t))for(let r=0;r<t.length;r++)n(t[r]);else{const r=t[Vd()]();let o;for(;!(o=r.next()).done;)n(o.value)}}(n,g=>{f=this._trackByFn(u,g),null!==r&&Object.is(r.trackById,f)?(o&&(r=this._verifyReinsertion(r,g,f,u)),Object.is(r.item,g)||this._addIdentityChange(r,g)):(r=this._mismatch(r,g,f,u),o=!0),r=r._next,u++}),this.length=u;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,o,u){let l;return null===n?l=this._itTail:(l=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,l,u)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,u))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,l,u)):n=this._addAfter(new wI(r,o),l,u),n}_verifyReinsertion(n,r,o,u){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==l?n=this._reinsertAfter(l,n._prev,u):n.currentIndex!=u&&(n.currentIndex=u,this._addToMoves(n,u)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const u=n._prevRemoved,l=n._nextRemoved;return null===u?this._removalsHead=l:u._nextRemoved=l,null===l?this._removalsTail=u:l._prevRemoved=u,this._insertAfter(n,r,o),this._addToMoves(n,o),n}_moveAfter(n,r,o){return this._unlink(n),this._insertAfter(n,r,o),this._addToMoves(n,o),n}_addAfter(n,r,o){return this._insertAfter(n,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,o){const u=null===r?this._itHead:r._next;return n._next=u,n._prev=r,null===u?this._itTail=n:u._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new z0),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,o=n._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new z0),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class wI{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bI{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const r=n._prevDup,o=n._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class z0{constructor(){this.map=new Map}put(n){const r=n.trackById;let o=this.map.get(r);o||(o=new bI,this.map.set(r,o)),o.add(n)}get(n,r){const u=this.map.get(n);return u?u.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Z0(t,n,r){const o=t.previousIndex;if(null===o)return o;let u=0;return r&&o<r.length&&(u=r[o]),o+n+u}class W0{constructor(){}supports(n){return n instanceof Map||bg(n)}create(){return new EI}}class EI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||bg(n)))throw new Error(`Error trying to diff '${Oe(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,u)=>{if(r&&r.key===u)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const l=this._getOrCreateRecordForKey(u,o);r=this._insertBeforeOrAppend(r,l)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const o=n._prev;return r._next=n,r._prev=o,n._prev=r,o&&(o._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const u=this._records.get(n);this._maybeAddToChanges(u,r);const l=u._prev,f=u._next;return l&&(l._next=f),f&&(f._prev=l),u._next=null,u._prev=null,u}const o=new CI(n);return this._records.set(n,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(o=>r(n[o],o))}}class CI{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function K0(){return new Gy([new q0])}let Gy=(()=>{class t{constructor(r){this.factories=r}static create(r,o){if(null!=o){const u=o.factories.slice();r=r.concat(u)}return new t(r)}static extend(r){return{provide:t,useFactory:o=>t.create(r,o||K0()),deps:[[t,new Ka,new Ba]]}}find(r){const o=this.factories.find(u=>u.supports(r));if(null!=o)return o;throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(t){return t.name||typeof t}(r)}'`)}}return t.\u0275prov=qn({token:t,providedIn:"root",factory:K0}),t})();function Y0(){return new qy([new W0])}let qy=(()=>{class t{constructor(r){this.factories=r}static create(r,o){if(o){const u=o.factories.slice();r=r.concat(u)}return new t(r)}static extend(r){return{provide:t,useFactory:o=>t.create(r,o||Y0()),deps:[[t,new Ka,new Ba]]}}find(r){const o=this.factories.find(u=>u.supports(r));if(o)return o;throw new Error(`Cannot find a differ supporting object '${r}'`)}}return t.\u0275prov=qn({token:t,providedIn:"root",factory:Y0}),t})();function zy(t,n,r,o,u=!1){for(;null!==r;){const l=n[r.index];if(null!==l&&o.push(ft(l)),Zn(l))for(let g=10;g<l.length;g++){const E=l[g],P=E[1].firstChild;null!==P&&zy(E[1],E,P,o)}const f=r.type;if(8&f)zy(t,n,r.child,o);else if(32&f){const g=wh(r,n);let E;for(;E=g();)o.push(E)}else if(16&f){const g=_p(n,r);if(Array.isArray(g))o.push(...g);else{const E=xu(n[16]);zy(E[1],E,g,o,!0)}}r=u?r.projectionNext:r.next}return o}class Gg{constructor(n,r){this._lView=n,this._cdRefInjectingView=r,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,r=n[1];return zy(r,n,r.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Zn(n)){const r=n[8],o=r?r.indexOf(this):-1;o>-1&&(Ru(n,o),sa(r,o))}this._attachedToViewContainer=!1}ec(this._lView[1],this._lView)}onDestroy(n){Vm(this._lView[1],this._lView,null,n)}markForCheck(){Kh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Qp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,n,r){Ys(!0);try{Qp(t,n,r)}finally{Ys(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,Rc(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class TI extends Gg{constructor(n){super(n),this._view=n}detectChanges(){Qh(this._view)}checkNoChanges(){!function(t){Ys(!0);try{Qh(t)}finally{Ys(!1)}}(this._view)}get context(){return null}}const AI=function(t){return function(t,n,r){if(Pi(t)&&!r){const o=fi(t.index,n);return new Gg(o,o)}return 47&t.type?new Gg(n[16],n):null}(Xr(),bt(),16==(16&t))};let SI=(()=>{class t{}return t.__NG_ELEMENT_ID__=AI,t})();const MI=[new W0],OI=new Gy([new q0]),NI=new qy(MI),FI=function(){return Zy(Xr(),bt())};let qg=(()=>{class t{}return t.__NG_ELEMENT_ID__=FI,t})();const LI=qg,VI=class extends LI{constructor(n,r,o){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}createEmbeddedView(n){const r=this._declarationTContainer.tViews,o=Rd(this._declarationLView,r,n,16,null,r.declTNode,null,null,null,null);o[17]=this._declarationLView[this._declarationTContainer.index];const l=this._declarationLView[Z];return null!==l&&(o[Z]=l.createEmbeddedView(r)),kc(r,o,n),new Gg(o)}};function Zy(t,n){return 4&t.type?new VI(n,t,Vf(t,n)):null}class Kd{}class Q0{}const jI=function(){return eb(Xr(),bt())};let Wy=(()=>{class t{}return t.__NG_ELEMENT_ID__=jI,t})();const $I=Wy,J0=class extends $I{constructor(n,r,o){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=o}get element(){return Vf(this._hostTNode,this._hostLView)}get injector(){return new Ca(this._hostTNode,this._hostLView)}get parentInjector(){const n=On(this._hostTNode,this._hostLView);if(ul(n)){const r=go(n,this._hostLView),o=zs(n);return new Ca(r[1].data[o+8],r)}return new Ca(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=X0(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,r,o){const u=n.createEmbeddedView(r||{});return this.insert(u,o),u}createComponent(n,r,o,u,l){const f=o||this.parentInjector;if(!l&&null==n.ngModule&&f){const E=f.get(Kd,null);E&&(l=E)}const g=n.create(f,u,void 0,l);return this.insert(g.hostView,r),g}insert(n,r){const o=n._lView,u=o[1];if(Zn(o[3])){const $=this.indexOf(n);if(-1!==$)this.detach($);else{const re=o[3],de=new J0(re,re[6],re[3]);de.detach(de.indexOf(n))}}const l=this._adjustIndex(r),f=this._lContainer;!function(t,n,r,o){const u=10+o,l=r.length;o>0&&(r[u-1][4]=n),o<l-10?(n[4]=r[u],Oa(r,10+o,n)):(r.push(n),n[4]=null),n[3]=r;const f=n[17];null!==f&&r!==f&&function(t,n){const r=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===r?t[9]=[n]:r.push(n)}(f,n);const g=n[Z];null!==g&&g.insertView(t),n[2]|=128}(u,o,f,l);const g=Mu(l,f),E=o[11],P=Ah(E,f[7]);return null!==P&&function(t,n,r,o,u,l){o[0]=u,o[6]=n,Rc(t,o,r,1,u,l)}(u,f[6],E,o,P,g),n.attachToViewContainerRef(),Oa(Pv(f),l,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=X0(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),o=Ru(this._lContainer,r);o&&(sa(Pv(this._lContainer),r),ec(o[1],o))}detach(n){const r=this._adjustIndex(n,-1),o=Ru(this._lContainer,r);return o&&null!=sa(Pv(this._lContainer),r)?new Gg(o):null}_adjustIndex(n,r=0){return null==n?this.length+r:n}};function X0(t){return t[8]}function Pv(t){return t[8]||(t[8]=[])}function eb(t,n){let r;const o=n[t.index];if(Zn(o))r=o;else{let u;if(8&t.type)u=ft(o);else{const l=n[11];u=l.createComment("");const f=_r(t,n);fa(l,Ah(l,f),u,function(t,n){return x(t)?t.nextSibling(n):n.nextSibling}(l,f),!1)}n[t.index]=r=$m(o,n,u,t),Uc(n,r)}return new J0(r,t,n)}const Hf={};class wb extends Lf{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=Pr(n);return new Eb(r,this.ngModule)}}function bb(t){const n=[];for(let r in t)t.hasOwnProperty(r)&&n.push({propName:t[r],templateName:r});return n}const UT=new V("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ru});class Eb extends B0{constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=n.selectors.map(Nh).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}get inputs(){return bb(this.componentDef.inputs)}get outputs(){return bb(this.componentDef.outputs)}create(n,r,o,u){const l=(u=u||this.ngModule)?function(t,n){return{get:(r,o,u)=>{const l=t.get(r,Hf,u);return l!==Hf||o===Hf?l:n.get(r,o,u)}}}(n,u.injector):n,f=l.get($y,W),g=l.get(Rv,null),E=f.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",$=o?function(t,n,r){if(x(t))return t.selectRootElement(n,r===ve.ShadowDom);let o="string"==typeof n?t.querySelector(n):n;return o.textContent="",o}(E,o,this.componentDef.encapsulation):fp(f.createRenderer(null,this.componentDef),P,function(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(P)),re=this.componentDef.onPush?576:528,de=function(t,n){return{components:[],scheduler:t||ru,clean:M_,playerHandler:n||null,flags:0}}(),De=Fc(0,null,null,1,0,null,null,null,null,null),Ue=Rd(null,De,de,re,null,null,f,E,g,l);let lt,et;$i(Ue);try{const Vt=function(t,n,r,o,u,l){const f=r[1];r[20]=t;const E=Dl(f,20,2,"#host",null),P=E.mergedAttrs=n.hostAttrs;null!==P&&(tf(E,P,!0),null!==t&&(Ra(u,t,P),null!==E.classes&&bp(u,t,E.classes),null!==E.styles&&Ph(u,t,E.styles)));const $=o.createRenderer(t,n),re=Rd(r,Lm(n),null,n.onPush?64:16,r[20],E,o,$,l||null,null);return f.firstCreatePass&&(ra(mo(E,r),f,n.type),Zh(f,E),jm(E,r.length,1)),Uc(r,re),r[20]=re}($,this.componentDef,Ue,f,E);if($)if(o)Ra(E,$,["ng-version",Mv.full]);else{const{attrs:Et,classes:Pn}=function(t){const n=[],r=[];let o=1,u=2;for(;o<t.length;){let l=t[o];if("string"==typeof l)2===u?""!==l&&n.push(l,t[++o]):8===u&&r.push(l);else{if(!au(u))break;u=l}o++}return{attrs:n,classes:r}}(this.componentDef.selectors[0]);Et&&Ra(E,$,Et),Pn&&Pn.length>0&&bp(E,$,Pn.join(" "))}if(et=xi(De,20),void 0!==r){const Et=et.projection=[];for(let Pn=0;Pn<this.ngContentSelectors.length;Pn++){const Qn=r[Pn];Et.push(null!=Qn?Array.from(Qn):null)}}lt=function(t,n,r,o,u){const l=r[1],f=function(t,n,r){const o=Xr();t.firstCreatePass&&(r.providersResolver&&r.providersResolver(r),Gp(t,o,n,Al(t,n,1,null),r));const u=Ea(n,t,o.directiveStart,o);Fs(u,n);const l=_r(o,n);return l&&Fs(l,n),u}(l,r,n);if(o.components.push(f),t[8]=f,u&&u.forEach(E=>E(f,n)),n.contentQueries){const E=Xr();n.contentQueries(1,f,E.directiveStart)}const g=Xr();return!l.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(H(g.index),zh(r[1],g,0,g.directiveStart,g.directiveEnd,n),Um(n,f)),f}(Vt,this.componentDef,Ue,de,[Po]),kc(De,Ue,null)}finally{wa()}return new HT(this.componentType,lt,Vf(et,Ue),Ue,et)}}class HT extends class{}{constructor(n,r,o,u,l){super(),this.location=o,this._rootLView=u,this._tNode=l,this.instance=r,this.hostView=this.changeDetectorRef=new TI(u),this.componentType=n}get injector(){return new Ca(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}const $f=new Map;class qT extends Kd{constructor(n,r){super(),this._parent=r,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new wb(this);const o=Or(n),u=n[oi]||null;u&&Ev(u),this._bootstrapComponents=su(o.bootstrap),this._r3Injector=sf(n,r,[{provide:Kd,useValue:this},{provide:Lf,useValue:this.componentFactoryResolver}],Oe(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,r=qi.THROW_IF_NOT_FOUND,o=wt.Default){return n===qi||n===Kd||n===Bc?this:this._r3Injector.get(n,r,o)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class qv extends Q0{constructor(n){super(),this.moduleType=n,null!==Or(n)&&function(t){const n=new Set;!function r(o){const u=Or(o,!0),l=u.id;null!==l&&(function(t,n,r){if(n&&n!==r)throw new Error(`Duplicate module registered for ${t} - ${Oe(n)} vs ${Oe(n.name)}`)}(l,$f.get(l),o),$f.set(l,o));const f=su(u.imports);for(const g of f)n.has(g)||(n.add(g),r(g))}(t)}(n)}create(n){return new qT(this.moduleType,n)}}function zv(t){return n=>{setTimeout(t,void 0,n)}}const Ul=class extends Ie.xQ{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,r,o){var u,l,f;let g=n,E=r||(()=>null),P=o;if(n&&"object"==typeof n){const re=n;g=null===(u=re.next)||void 0===u?void 0:u.bind(re),E=null===(l=re.error)||void 0===l?void 0:l.bind(re),P=null===(f=re.complete)||void 0===f?void 0:f.bind(re)}this.__isAsync&&(E=zv(E),g&&(g=zv(g)),P&&(P=zv(P)));const $=super.subscribe({next:g,error:E,complete:P});return n instanceof ke.w&&n.add($),$}};function cD(){return this._results[Vd()]()}class Xy{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const r=Vd(),o=Xy.prototype;o[r]||(o[r]=cD)}get changes(){return this._changes||(this._changes=new Ul)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){const o=this;o.dirty=!1;const u=Ms(n);(this._changesDetected=!function(t,n,r){if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++){let u=t[o],l=n[o];if(r&&(u=r(u),l=r(l)),l!==u)return!1}return!0}(o._results,u,r))&&(o._results=u,o.length=u.length,o.last=u[this.length-1],o.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Zv{constructor(n){this.queryList=n,this.matches=null}clone(){return new Zv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wv{constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const o=null!==n.contentQueries?n.contentQueries[0]:r.length,u=[];for(let l=0;l<o;l++){const f=r.getByIndex(l);u.push(this.queries[f.indexInDeclarationView].clone())}return new Wv(u)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==Lb(n,r).matches&&this.queries[r].setDirty()}}class Rb{constructor(n,r,o=null){this.predicate=n,this.flags=r,this.read=o}}class Kv{constructor(n=[]){this.queries=n}elementStart(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let o=0;o<this.length;o++){const u=null!==r?r.length:0,l=this.getByIndex(o).embeddedTView(n,u);l&&(l.indexInDeclarationView=o,null!==r?r.push(l):r=[l])}return null!==r?new Kv(r):null}template(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Yv{constructor(n,r=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new Yv(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let u=0;u<o.length;u++){const l=o[u];this.matchTNodeWithReadOption(n,r,fD(r,l)),this.matchTNodeWithReadOption(n,r,Cu(r,n,l,!1,!1))}else o===qg?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,Cu(r,n,o,!1,!1))}matchTNodeWithReadOption(n,r,o){if(null!==o){const u=this.metadata.read;if(null!==u)if(u===Vl||u===Wy||u===qg&&4&r.type)this.addMatch(r.index,-2);else{const l=Cu(r,n,u,!1,!1);null!==l&&this.addMatch(r.index,l)}else this.addMatch(r.index,o)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function fD(t,n){const r=t.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===n)return r[o+1];return null}function gD(t,n,r,o){return-1===r?function(t,n){return 11&t.type?Vf(t,n):4&t.type?Zy(t,n):null}(n,t):-2===r?function(t,n,r){return r===Vl?Vf(n,t):r===qg?Zy(n,t):r===Wy?eb(n,t):void 0}(t,n,o):Ea(t,t[1],r,n)}function Mb(t,n,r,o){const u=n[Z].queries[o];if(null===u.matches){const l=t.data,f=r.matches,g=[];for(let E=0;E<f.length;E+=2){const P=f[E];g.push(P<0?null:gD(n,l[P],f[E+1],r.metadata.read))}u.matches=g}return u.matches}function Qv(t,n,r,o){const u=t.queries.getByIndex(r),l=u.matches;if(null!==l){const f=Mb(t,n,u,r);for(let g=0;g<l.length;g+=2){const E=l[g];if(E>0)o.push(f[g/2]);else{const P=l[g+1],$=n[-E];for(let re=10;re<$.length;re++){const de=$[re];de[17]===de[3]&&Qv(de[1],de,P,o)}if(null!==$[9]){const re=$[9];for(let de=0;de<re.length;de++){const De=re[de];Qv(De[1],De,P,o)}}}}}return o}function Pb(t){const n=bt(),r=er(),o=ta();Rs(o+1);const u=Lb(r,o);if(t.dirty&&Lo(n)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const l=u.crossesNgTemplate?Qv(r,n,o,[]):Mb(r,n,u,o);t.reset(l,$0),t.notifyOnChanges()}return!0}return!1}function Ob(t,n,r,o){const u=er();if(u.firstCreatePass){const l=Xr();(function(t,n,r){null===t.queries&&(t.queries=new Kv),t.queries.track(new Yv(n,r))})(u,new Rb(n,r,o),l.index),function(t,n){const r=t.contentQueries||(t.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(t.queries.length-1,n)}(u,t),2==(2&r)&&(u.staticContentQueries=!0)}!function(t,n,r){const o=new Xy(4==(4&r));Vm(t,n,o,o.destroy),null===n[Z]&&(n[Z]=new Wv),n[Z].queries.push(new Zv(o))}(u,bt(),r)}function Nb(){return t=bt(),n=ta(),t[Z].queries[n].queryList;var t,n}function Lb(t,n){return t.queries.getByIndex(n)}const rw=new V("Application Initializer");let qf=(()=>{class t{constructor(r){this.appInits=r,this.resolve=Hy,this.reject=Hy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,u)=>{this.resolve=o,this.reject=u})}runInitializers(){if(this.initialized)return;const r=[],o=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const l=this.appInits[u]();if(Cy(l))r.push(l);else if(Mg(l)){const f=new Promise((g,E)=>{l.subscribe({complete:g,error:E})});r.push(f)}}Promise.all(r).then(()=>{o()}).catch(u=>{this.reject(u)}),0===r.length&&o(),this.initialized=!0}}return t.\u0275fac=function(r){return new(r||t)(Xi(rw,8))},t.\u0275prov=qn({token:t,factory:t.\u0275fac}),t})();const tE=new V("AppId"),ZD={provide:tE,useFactory:function(){return`${iw()}${iw()}${iw()}`},deps:[]};function iw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const nE=new V("Platform Initializer"),rE=new V("Platform ID"),iE=new V("appBootstrapListener");let sE=(()=>{class t{log(r){console.log(r)}warn(r){console.warn(r)}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=qn({token:t,factory:t.\u0275fac}),t})();const n_=new V("LocaleId"),oE=new V("DefaultCurrencyCode");class KD{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}const sw=function(t){return new qv(t)},YD=sw,QD=function(t){return Promise.resolve(sw(t))},aE=function(t){const n=sw(t),o=su(Or(t).declarations).reduce((u,l)=>{const f=Pr(l);return f&&u.push(new Eb(f)),u},[]);return new KD(n,o)},JD=aE,XD=function(t){return Promise.resolve(aE(t))};let rm=(()=>{class t{constructor(){this.compileModuleSync=YD,this.compileModuleAsync=QD,this.compileModuleAndAllComponentsSync=JD,this.compileModuleAndAllComponentsAsync=XD}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=qn({token:t,factory:t.\u0275fac}),t})();const nA=(()=>Promise.resolve(0))();function ow(t){"undefined"==typeof Zone?nA.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class yu{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ul(!1),this.onMicrotaskEmpty=new Ul(!1),this.onStable=new Ul(!1),this.onError=new Ul(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!o&&r,u.shouldCoalesceRunChangeDetection=o,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function(){let t=yt.requestAnimationFrame,n=yt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(t){const n=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(yt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,uw(t),t.isCheckStableRunning=!0,aw(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),uw(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,o,u,l,f,g)=>{try{return uE(t),r.invokeTask(u,l,f,g)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||t.shouldCoalesceRunChangeDetection)&&n(),lE(t)}},onInvoke:(r,o,u,l,f,g,E)=>{try{return uE(t),r.invoke(u,l,f,g,E)}finally{t.shouldCoalesceRunChangeDetection&&n(),lE(t)}},onHasTask:(r,o,u,l)=>{r.hasTask(u,l),o===u&&("microTask"==l.change?(t._hasPendingMicrotasks=l.microTask,uw(t),aw(t)):"macroTask"==l.change&&(t.hasPendingMacrotasks=l.macroTask))},onHandleError:(r,o,u,l)=>(r.handleError(u,l),t.runOutsideAngular(()=>t.onError.emit(l)),!1)})}(u)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!yu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(yu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,r,o){return this._inner.run(n,r,o)}runTask(n,r,o,u){const l=this._inner,f=l.scheduleEventTask("NgZoneEvent: "+u,n,iA,Hy,Hy);try{return l.runTask(f,r,o)}finally{l.cancelTask(f)}}runGuarded(n,r,o){return this._inner.runGuarded(n,r,o)}runOutsideAngular(n){return this._outer.run(n)}}const iA={};function aw(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function uw(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function uE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function lE(t){t._nesting--,aw(t)}class aA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ul,this.onMicrotaskEmpty=new Ul,this.onStable=new Ul,this.onError=new Ul}run(n,r,o){return n.apply(r,o)}runGuarded(n,r,o){return n.apply(r,o)}runOutsideAngular(n){return n()}runTask(n,r,o,u){return n.apply(r,o)}}let cE=(()=>{class t{constructor(r){this._ngZone=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{yu.assertNotInAngularZone(),ow(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ow(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,u){let l=-1;o&&o>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==l),r(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:r,timeoutId:l,updateCb:u})}whenStable(r,o,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(r,o,u){return[]}}return t.\u0275fac=function(r){return new(r||t)(Xi(yu))},t.\u0275prov=qn({token:t,factory:t.\u0275fac}),t})(),dE=(()=>{class t{constructor(){this._applications=new Map,lw.addToWindow(this)}registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return lw.findTestabilityInTree(this,r,o)}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=qn({token:t,factory:t.\u0275fac}),t})();class uA{addToWindow(n){}findTestabilityInTree(n,r,o){return null}}function lA(t){lw=t}let lw=new uA,hE=!0,fE=!1;function cw(){return fE=!0,hE}function cA(){if(fE)throw new Error("Cannot enable prod mode after platform setup.");hE=!1}let sl;const pE=new V("AllowMultipleToken");class yA{constructor(n,r){this.name=n,this.token=r}}function gE(t,n,r=[]){const o=`Platform: ${n}`,u=new V(o);return(l=[])=>{let f=mE();if(!f||f.injector.get(pE,!1))if(t)t(r.concat(l).concat({provide:u,useValue:!0}));else{const g=r.concat(l).concat({provide:u,useValue:!0},{provide:Od,useValue:"platform"});!function(t){if(sl&&!sl.destroyed&&!sl.injector.get(pE,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");sl=t.get(yE);const n=t.get(nE,null);n&&n.forEach(r=>r())}(qi.create({providers:g,name:o}))}return function(t){const n=mE();if(!n)throw new Error("No platform exists!");if(!n.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return n}(u)}}function mE(){return sl&&!sl.destroyed?sl:null}let yE=(()=>{class t{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,o){const g=function(t,n){let r;return r="noop"===t?new aA:("zone.js"===t?void 0:t)||new yu({enableLongStackTrace:cw(),shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),r}(o?o.ngZone:void 0,{ngZoneEventCoalescing:o&&o.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:o&&o.ngZoneRunCoalescing||!1}),E=[{provide:yu,useValue:g}];return g.run(()=>{const P=qi.create({providers:E,parent:this.injector,name:r.moduleType.name}),$=r.create(P),re=$.injector.get(yn,null);if(!re)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return g.runOutsideAngular(()=>{const de=g.onError.subscribe({next:De=>{re.handleError(De)}});$.onDestroy(()=>{dw(this._modules,$),de.unsubscribe()})}),function(t,n,r){try{const o=r();return Cy(o)?o.catch(u=>{throw n.runOutsideAngular(()=>t.handleError(u)),u}):o}catch(o){throw n.runOutsideAngular(()=>t.handleError(o)),o}}(re,g,()=>{const de=$.injector.get(qf);return de.runInitializers(),de.donePromise.then(()=>(Ev($.injector.get(n_,Ly)||Ly),this._moduleDoBootstrap($),$))})})}bootstrapModule(r,o=[]){const u=_E({},o);return function(t,n,r){const o=new qv(r);return Promise.resolve(o)}(0,0,r).then(l=>this.bootstrapModuleFactory(l,u))}_moduleDoBootstrap(r){const o=r.injector.get(im);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(u=>o.bootstrap(u));else{if(!r.instance.ngDoBootstrap)throw new Error(`The module ${Oe(r.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);r.instance.ngDoBootstrap(o)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(r){return new(r||t)(Xi(qi))},t.\u0275prov=qn({token:t,factory:t.\u0275fac}),t})();function _E(t,n){return Array.isArray(n)?n.reduce(_E,t):Object.assign(Object.assign({},t),n)}let im=(()=>{class t{constructor(r,o,u,l,f){this._zone=r,this._injector=o,this._exceptionHandler=u,this._componentFactoryResolver=l,this._initStatus=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new y.y(P=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{P.next(this._stable),P.complete()})}),E=new y.y(P=>{let $;this._zone.runOutsideAngular(()=>{$=this._zone.onStable.subscribe(()=>{yu.assertNotInAngularZone(),ow(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,P.next(!0))})})});const re=this._zone.onUnstable.subscribe(()=>{yu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{P.next(!1)}))});return()=>{$.unsubscribe(),re.unsubscribe()}});this.isStable=function(...t){let n=Number.POSITIVE_INFINITY,r=null,o=t[t.length-1];return(0,S.K)(o)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof o&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof y.y?t[0]:(0,J.J)(n)((0,Ae.n)(t,r))}(g,E.pipe(t=>(0,ee.x)()(function(t,n){return function(o){let u;u="function"==typeof t?t:function(){return t};const l=Object.create(o,Qe.N);return l.source=o,l.subjectFactory=u,l}}(be)(t))))}bootstrap(r,o){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let u;u=r instanceof B0?r:this._componentFactoryResolver.resolveComponentFactory(r),this.componentTypes.push(u.componentType);const l=function(t){return t.isBoundToModule}(u)?void 0:this._injector.get(Kd),g=u.create(qi.NULL,[],o||u.selector,l),E=g.location.nativeElement,P=g.injector.get(cE,null),$=P&&g.injector.get(dE);return P&&$&&$.registerApplication(E,P),g.onDestroy(()=>{this.detachView(g.hostView),dw(this.components,g),$&&$.unregisterApplication(E)}),this._loadComponent(g),g}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(r))}finally{this._runningTick=!1}}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;dw(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(iE,[]).concat(this._bootstrapListeners).forEach(u=>u(r))}ngOnDestroy(){this._views.slice().forEach(r=>r.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(r){return new(r||t)(Xi(yu),Xi(qi),Xi(yn),Xi(Lf),Xi(qf))},t.\u0275prov=qn({token:t,factory:t.\u0275fac}),t})();function dw(t,n){const r=t.indexOf(n);r>-1&&t.splice(r,1)}class CA{}class TA{}const DA={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let AA=(()=>{class t{constructor(r,o){this._compiler=r,this._config=o||DA}load(r){return this.loadAndCompile(r)}loadAndCompile(r){let[o,u]=r.split("#");return void 0===u&&(u="default"),j(8255)(o).then(l=>l[u]).then(l=>EE(l,o,u)).then(l=>this._compiler.compileModuleAsync(l))}loadFactory(r){let[o,u]=r.split("#"),l="NgFactory";return void 0===u&&(u="default",l=""),j(8255)(this._config.factoryPathPrefix+o+this._config.factoryPathSuffix).then(f=>f[u+l]).then(f=>EE(f,o,u))}}return t.\u0275fac=function(r){return new(r||t)(Xi(rm),Xi(TA,8))},t.\u0275prov=qn({token:t,factory:t.\u0275fac}),t})();function EE(t,n,r){if(!t)throw new Error(`Cannot find '${r}' in '${n}'`);return t}const kA=function(t){return null},LA=gE(null,"core",[{provide:rE,useValue:"unknown"},{provide:yE,deps:[qi]},{provide:dE,deps:[]},{provide:sE,deps:[]}]),HA=[{provide:im,useClass:im,deps:[yu,qi,yn,Lf,qf]},{provide:UT,deps:[yu],useFactory:function(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(r){n.push(r)}}},{provide:qf,useClass:qf,deps:[[new Ba,rw]]},{provide:rm,useClass:rm,deps:[]},ZD,{provide:Gy,useFactory:function(){return OI},deps:[]},{provide:qy,useFactory:function(){return NI},deps:[]},{provide:n_,useFactory:function(t){return Ev(t=t||"undefined"!=typeof $localize&&$localize.locale||Ly),t},deps:[[new Ua(n_),new Ba,new Ka]]},{provide:oE,useValue:"USD"}];let GA=(()=>{class t{constructor(r){}}return t.\u0275fac=function(r){return new(r||t)(Xi(im))},t.\u0275mod=Rr({type:t}),t.\u0275inj=kt({providers:HA}),t})()},2965:(Pt,Le,j)=>{"use strict";j.d(Le,{nm:()=>Lt});var y=j(8797);j(639),j(2329);var $e=j(8239),dt=j(5452),it=j(6034),zt=j(3854),Ot=j(5601);const ie=new Map,ue={activated:!1,tokenObservers:[]},me={initialized:!1,enabled:!1};function ye(Xe){return ie.get(Xe)||ue}function he(Xe,Ke){ie.set(Xe,Ke)}function Ze(){return me}class It{constructor(Ke,Z,oe,ne,Pe){if(this.operation=Ke,this.retryPolicy=Z,this.getWaitDuration=oe,this.lowerBound=ne,this.upperBound=Pe,this.pending=null,this.nextErrorWaitInterval=ne,ne>Pe)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ke){var Z=this;return(0,$e.Z)(function*(){Z.stop();try{Z.pending=new zt.BH,yield(Xe=Z.getNextRun(Ke),new Promise(Ke=>{setTimeout(Ke,Xe)})),Z.pending.resolve(),yield Z.pending.promise,Z.pending=new zt.BH,yield Z.operation(),Z.pending.resolve(),yield Z.pending.promise,Z.process(!0).catch(()=>{})}catch(oe){Z.retryPolicy(oe)?Z.process(!1).catch(()=>{}):Z.stop()}var Xe})()}getNextRun(Ke){if(Ke)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Z=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Z}}}const Xt=new zt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function sr(Xe){if(!ye(Xe).activated)throw Xt.create("use-before-activation",{appName:Xe.name})}function Vn(Xe,Ke){return nn.apply(this,arguments)}function nn(){return(nn=(0,$e.Z)(function*({url:Xe,body:Ke},Z){const oe={"Content-Type":"application/json"},ne=Z.getImmediate({optional:!0});ne&&(oe["X-Firebase-Client"]=ne.getPlatformInfoString());const Pe={method:"POST",body:JSON.stringify(Ke),headers:oe};let rt,St;try{rt=yield fetch(Xe,Pe)}catch(Tn){throw Xt.create("fetch-network-error",{originalErrorMessage:Tn.message})}if(200!==rt.status)throw Xt.create("fetch-status-error",{httpStatus:rt.status});try{St=yield rt.json()}catch(Tn){throw Xt.create("fetch-parse-error",{originalErrorMessage:Tn.message})}const Qt=St.ttl.match(/^([\d.]+)(s)$/);if(!Qt||!Qt[2]||isNaN(Number(Qt[1])))throw Xt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${St.ttl}`});const Bn=1e3*Number(Qt[1]),fr=Date.now();return{token:St.attestationToken,expireTimeMillis:fr+Bn,issuedAtTimeMillis:fr}})).apply(this,arguments)}function qt(Xe,Ke){const{projectId:Z,appId:oe,apiKey:ne}=Xe.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${Z}/apps/${oe}:exchangeDebugToken?key=${ne}`,body:{debug_token:Ke}}}const Er="firebase-app-check-store";let Fr=null;function kt(){return Fr||(Fr=new Promise((Xe,Ke)=>{try{const Z=indexedDB.open("firebase-app-check-database",1);Z.onsuccess=oe=>{Xe(oe.target.result)},Z.onerror=oe=>{var ne;Ke(Xt.create("storage-open",{originalErrorMessage:null===(ne=oe.target.error)||void 0===ne?void 0:ne.message}))},Z.onupgradeneeded=oe=>{const ne=oe.target.result;switch(oe.oldVersion){case 0:ne.createObjectStore(Er,{keyPath:"compositeKey"})}}}catch(Z){Ke(Xt.create("storage-open",{originalErrorMessage:Z.message}))}}),Fr)}function Je(){return(Je=(0,$e.Z)(function*(Xe,Ke){const oe=(yield kt()).transaction(Er,"readwrite"),Pe=oe.objectStore(Er).put({compositeKey:Xe,value:Ke});return new Promise((rt,St)=>{Pe.onsuccess=Qt=>{rt()},oe.onerror=Qt=>{var Bn;St(Xt.create("storage-set",{originalErrorMessage:null===(Bn=Qt.target.error)||void 0===Bn?void 0:Bn.message}))}})})).apply(this,arguments)}const wt=new Ot.Yd("@firebase/app-check");function Zt(Xe,Ke){return(0,zt.hl)()?function(Xe,Ke){return function(Xe,Ke){return Je.apply(this,arguments)}(function(Xe){return`${Xe.options.appId}-${Xe.name}`}(Xe),Ke)}(Xe,Ke).catch(Z=>{wt.warn(`Failed to write token to IndexedDB. Error: ${Z}`)}):Promise.resolve()}function Xn(){return Ze().enabled}function En(){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,$e.Z)(function*(){const Xe=Ze();if(Xe.enabled&&Xe.token)return Xe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ve={error:"UNKNOWN_ERROR"};function Se(Xe){return zt.US.encodeString(JSON.stringify(Xe),!1)}function Re(Xe){return ut.apply(this,arguments)}function ut(){return(ut=(0,$e.Z)(function*(Xe,Ke=!1){const Z=Xe.app;sr(Z);const oe=ye(Z);let Pe,rt,ne=oe.token;if(!ne){const St=yield oe.cachedTokenPromise;St&&Un(St)&&(ne=St,he(Z,Object.assign(Object.assign({},oe),{token:ne})),zn(Z,{token:ne.token}))}if(!Ke&&ne&&Un(ne))return{token:ne.token};if(Xn()){const St=yield Vn(qt(Z,yield En()),Xe.platformLoggerProvider);return yield Zt(Z,St),he(Z,Object.assign(Object.assign({},oe),{token:St})),{token:St.token}}try{ne=yield oe.provider.getToken()}catch(St){wt.error(St),Pe=St}return ne?(rt={token:ne.token},he(Z,Object.assign(Object.assign({},oe),{token:ne})),yield Zt(Z,ne)):rt=dn(Pe),zn(Z,rt),rt})).apply(this,arguments)}function yt(Xe,Ke){const Z=ye(Xe),oe=Z.tokenObservers.filter(ne=>ne.next!==Ke);0===oe.length&&Z.tokenRefresher&&Z.tokenRefresher.isRunning()&&Z.tokenRefresher.stop(),he(Xe,Object.assign(Object.assign({},Z),{tokenObservers:oe}))}function zn(Xe,Ke){const Z=ye(Xe).tokenObservers;for(const oe of Z)try{"EXTERNAL"===oe.type&&null!=Ke.error?oe.error(Ke.error):oe.next(Ke)}catch(ne){}}function Un(Xe){return Xe.expireTimeMillis-Date.now()>0}function dn(Xe){return{token:Se(ve),error:Xe}}class Br{constructor(Ke,Z){this.app=Ke,this.platformLoggerProvider=Z}_delete(){const{tokenObservers:Ke}=ye(this.app);for(const Z of Ke)yt(this.app,Z.next);return Promise.resolve()}}const An="app-check-internal";(0,dt._registerComponent)(new it.wA("app-check",Xe=>function(Xe,Ke){return new Br(Xe,Ke)}(Xe.getProvider("app").getImmediate(),Xe.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Xe,Ke,Z)=>{Xe.getProvider(An).initialize()})),(0,dt._registerComponent)(new it.wA(An,Xe=>function(Xe){return{getToken:Ke=>Re(Xe,Ke),addTokenListener:Ke=>function(Xe,Ke,Z,oe){const{app:ne}=Xe,Pe=ye(ne),rt={next:Z,error:oe,type:Ke},St=Object.assign(Object.assign({},Pe),{tokenObservers:[...Pe.tokenObservers,rt]});if(!St.tokenRefresher){const Qt=function(Xe){const{app:Ke}=Xe;return new It((0,$e.Z)(function*(){let oe;if(oe=ye(Ke).token?yield Re(Xe,!0):yield Re(Xe),oe.error)throw oe.error}),()=>!0,()=>{const Z=ye(Ke);if(Z.token){let oe=Z.token.issuedAtTimeMillis+.5*(Z.token.expireTimeMillis-Z.token.issuedAtTimeMillis)+3e5;return oe=Math.min(oe,Z.token.expireTimeMillis-3e5),Math.max(0,oe-Date.now())}return 0},3e4,96e4)}(Xe);St.tokenRefresher=Qt}if(!St.tokenRefresher.isRunning()&&Pe.isTokenAutoRefreshEnabled&&St.tokenRefresher.start(),Pe.token&&Un(Pe.token)){const Qt=Pe.token;Promise.resolve().then(()=>Z({token:Qt.token})).catch(()=>{})}else null==Pe.token&&Pe.cachedTokenPromise.then(Qt=>{Qt&&Un(Qt)&&Z({token:Qt.token})}).catch(()=>{});he(ne,St)}(Xe,"INTERNAL",Ke),removeTokenListener:Ke=>yt(Xe.app,Ke)}}(Xe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,dt.registerVersion)("@firebase/app-check","0.4.2");class Lt{constructor(){return(0,y.vb)("app-check")}}"undefined"!=typeof window&&window},8778:(Pt,Le,j)=>{"use strict";j.d(Le,{zQ:()=>Wn,rT:()=>qn,f7:()=>kt,L6:()=>nr,_Q:()=>Er,lh:()=>Fr,Qv:()=>Ar,nw:()=>wn});var y=j(639),S=j(1827),J=j(2669),Ae=j(9753);const A=(0,Ae.d)(Tt=>function(){Tt(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ie=j(8208),ke=j(776);let Qe=(()=>{class Tt extends S.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Je){const tt=new fe(this,this);return tt.operator=Je,tt}_throwIfClosed(){if(this.closed)throw new A}next(Je){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const tt=this.observers.slice();for(const Ut of tt)Ut.next(Je)}})}error(Je){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Je;const{observers:tt}=this;for(;tt.length;)tt.shift().error(Je)}})}complete(){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Je}=this;for(;Je.length;)Je.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var Je;return(null===(Je=this.observers)||void 0===Je?void 0:Je.length)>0}_trySubscribe(Je){return this._throwIfClosed(),super._trySubscribe(Je)}_subscribe(Je){return this._throwIfClosed(),this._checkFinalizedStatuses(Je),this._innerSubscribe(Je)}_innerSubscribe(Je){const{hasError:tt,isStopped:Ut,observers:jt}=this;return tt||Ut?J.Lc:(jt.push(Je),new J.w0(()=>(0,Ie.P)(jt,Je)))}_checkFinalizedStatuses(Je){const{hasError:tt,thrownError:Ut,isStopped:jt}=this;tt?Je.error(Ut):jt&&Je.complete()}asObservable(){const Je=new S.y;return Je.source=this,Je}}return Tt.create=(vt,Je)=>new fe(vt,Je),Tt})();class fe extends Qe{constructor(vt,Je){super(),this.destination=vt,this.source=Je}next(vt){var Je,tt;null===(tt=null===(Je=this.destination)||void 0===Je?void 0:Je.next)||void 0===tt||tt.call(Je,vt)}error(vt){var Je,tt;null===(tt=null===(Je=this.destination)||void 0===Je?void 0:Je.error)||void 0===tt||tt.call(Je,vt)}complete(){var vt,Je;null===(Je=null===(vt=this.destination)||void 0===vt?void 0:vt.complete)||void 0===Je||Je.call(vt)}_subscribe(vt){var Je,tt;return null!==(tt=null===(Je=this.source)||void 0===Je?void 0:Je.subscribe(vt))&&void 0!==tt?tt:J.Lc}}var Y=j(2253),ee=j(3413);const be=new S.y(Tt=>Tt.complete());var nt=j(7375),Oe=j(1179),le=j(4323),Be=j(1373);class Me extends Qe{constructor(vt=1/0,Je=1/0,tt=Be.l){super(),this._bufferSize=vt,this._windowTime=Je,this._timestampProvider=tt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Je===1/0,this._bufferSize=Math.max(1,vt),this._windowTime=Math.max(1,Je)}next(vt){const{isStopped:Je,_buffer:tt,_infiniteTimeWindow:Ut,_timestampProvider:jt,_windowTime:wt}=this;Je||(tt.push(vt),!Ut&&tt.push(jt.now()+wt)),this._trimBuffer(),super.next(vt)}_subscribe(vt){this._throwIfClosed(),this._trimBuffer();const Je=this._innerSubscribe(vt),{_infiniteTimeWindow:tt,_buffer:Ut}=this,jt=Ut.slice();for(let wt=0;wt<jt.length&&!vt.closed;wt+=tt?1:2)vt.next(jt[wt]);return this._checkFinalizedStatuses(vt),Je}_trimBuffer(){const{_bufferSize:vt,_timestampProvider:Je,_buffer:tt,_infiniteTimeWindow:Ut}=this,jt=(Ut?1:2)*vt;if(vt<1/0&&jt<tt.length&&tt.splice(0,tt.length-jt),!Ut){const wt=Je.now();let pn=0;for(let Mt=1;Mt<tt.length&&tt[Mt]<=wt;Mt+=2)pn=Mt;pn&&tt.splice(0,pn+1)}}}var $e=j(3201),dt=j(1894);function it(Tt){return Tt<=0?()=>be:(0,$e.e)((vt,Je)=>{let tt=0;vt.subscribe(new dt.Q(Je,Ut=>{++tt<=Tt&&(Je.next(Ut),Tt<=tt&&Je.complete())}))})}var zt=j(3704);function ie(Tt,vt,...Je){return!0===vt?(Tt(),null):!1===vt?null:vt(...Je).pipe(it(1)).subscribe(()=>Tt())}function ue(Tt,vt,Je){var tt,Ut;let jt,wt=!1;return Tt&&"object"==typeof Tt?(jt=null!==(tt=Tt.bufferSize)&&void 0!==tt?tt:1/0,vt=null!==(Ut=Tt.windowTime)&&void 0!==Ut?Ut:1/0,wt=!!Tt.refCount,Je=Tt.scheduler):jt=null!=Tt?Tt:1/0,function(Tt={}){const{connector:vt=(()=>new Qe),resetOnError:Je=!0,resetOnComplete:tt=!0,resetOnRefCountZero:Ut=!0}=Tt;return jt=>{let wt=null,pn=null,Mt=null,Zt=0,Kn=!1,vr=!1;const Xn=()=>{null==pn||pn.unsubscribe(),pn=null},En=()=>{Xn(),wt=Mt=null,Kn=vr=!1},Cr=()=>{const hr=wt;En(),null==hr||hr.unsubscribe()};return(0,$e.e)((hr,ve)=>{Zt++,!vr&&!Kn&&Xn();const Se=Mt=null!=Mt?Mt:vt();ve.add(()=>{Zt--,0===Zt&&!vr&&!Kn&&(pn=ie(Cr,Ut))}),Se.subscribe(ve),wt||(wt=new zt.Hp({next:Re=>Se.next(Re),error:Re=>{vr=!0,Xn(),pn=ie(En,Je,Re),Se.error(Re)},complete:()=>{Kn=!0,Xn(),pn=ie(En,tt),Se.complete()}}),(0,Oe.D)(hr).subscribe(wt))})(jt)}}({connector:()=>new Me(jt,vt,Je),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:wt})}const me=(0,Ae.d)(Tt=>function(){Tt(this),this.name="EmptyError",this.message="no elements in sequence"});var ye=j(1971);function he(Tt){return(0,$e.e)((vt,Je)=>{let tt=!1;vt.subscribe(new dt.Q(Je,Ut=>{tt=!0,Je.next(Ut)},()=>{tt||Je.next(Tt),Je.complete()}))})}function Ze(Tt=pe){return(0,$e.e)((vt,Je)=>{let tt=!1;vt.subscribe(new dt.Q(Je,Ut=>{tt=!0,Je.next(Ut)},()=>tt?Je.complete():Je.error(Tt())))})}function pe(){return new me}var Ge=j(576),Rt=j(1926),It=j(6361);function Gt(Tt,vt){return(0,It.m)(vt)?(0,Rt.w)(()=>Tt,vt):(0,Rt.w)(()=>Tt)}var xn=j(8341),Xt=j(6885),jn=j(8127),sr=j(8797),mr=j(8939),Vn=j(8583),nn=j(2965);j(7841);const Ar=new y.OlP("angularfire2.auth.use-emulator"),nr=new y.OlP("angularfire2.auth.settings"),Er=new y.OlP("angularfire2.auth.tenant-id"),qn=new y.OlP("angularfire2.auth.langugage-code"),Fr=new y.OlP("angularfire2.auth.use-device-language"),kt=new y.OlP("angularfire.auth.persistence"),wn=(Tt,vt,Je,tt,Ut,jt,wt,pn)=>(0,mr.cc)(`${Tt.name}.auth`,"AngularFireAuth",Tt.name,()=>{const Mt=vt.runOutsideAngular(()=>Tt.auth());if(Je&&Mt.useEmulator(...Je),tt&&(Mt.tenantId=tt),Mt.languageCode=Ut,jt&&Mt.useDeviceLanguage(),wt)for(const[Zt,Kn]of Object.entries(wt))Mt.settings[Zt]=Kn;return pn&&Mt.setPersistence(pn),Mt},[Je,tt,Ut,jt,wt,pn]);let Wn=(()=>{class Tt{constructor(Je,tt,Ut,jt,wt,pn,Mt,Zt,Kn,vr,Xn,En){const Cr=new Qe,hr=(0,le.of)(void 0).pipe((0,xn.Q)(wt.outsideAngular),(0,Rt.w)(()=>jt.runOutsideAngular(()=>Promise.resolve().then(j.bind(j,4671)))),(0,Xt.U)(()=>(0,mr.on)(Je,jt,tt)),(0,Xt.U)(ve=>wn(ve,jt,pn,Zt,Kn,vr,Mt,Xn)),ue({bufferSize:1,refCount:!1}));if((0,Vn.PM)(Ut))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,le.of)(null);else{hr.pipe(function(Tt,vt){const Je=arguments.length>=2;return tt=>tt.pipe(Tt?(0,ye.h)((Ut,jt)=>Tt(Ut,jt,tt)):Ge.y,it(1),Je?he(vt):Ze(()=>new me))}()).subscribe();const Se=hr.pipe((0,Rt.w)(He=>He.getRedirectResult().then(yt=>yt,()=>null)),sr.iC,ue({bufferSize:1,refCount:!1})),Re=hr.pipe((0,Rt.w)(He=>new S.y(yt=>({unsubscribe:jt.runOutsideAngular(()=>He.onAuthStateChanged(en=>yt.next(en),en=>yt.error(en),()=>yt.complete()))})))),ut=hr.pipe((0,Rt.w)(He=>new S.y(yt=>({unsubscribe:jt.runOutsideAngular(()=>He.onIdTokenChanged(en=>yt.next(en),en=>yt.error(en),()=>yt.complete()))}))));this.authState=Se.pipe(Gt(Re),(0,jn.R)(wt.outsideAngular),(0,xn.Q)(wt.insideAngular)),this.user=Se.pipe(Gt(ut),(0,jn.R)(wt.outsideAngular),(0,xn.Q)(wt.insideAngular)),this.idToken=this.user.pipe((0,Rt.w)(He=>He?(0,Oe.D)(He.getIdToken()):(0,le.of)(null))),this.idTokenResult=this.user.pipe((0,Rt.w)(He=>He?(0,Oe.D)(He.getIdTokenResult()):(0,le.of)(null))),this.credential=function(...Tt){const vt=(0,nt.yG)(Tt),Je=(0,nt._6)(Tt,1/0),tt=Tt;return tt.length?1===tt.length?(0,ee.Xf)(tt[0]):(0,Y.J)(Je)((0,Oe.D)(tt,vt)):be}(Se,Cr,this.authState.pipe((0,ye.h)(He=>!He))).pipe((0,Xt.U)(He=>(null==He?void 0:He.user)?He:null),(0,jn.R)(wt.outsideAngular),(0,xn.Q)(wt.insideAngular))}return(0,mr.pX)(this,hr,jt,{spy:{apply:(ve,Se,Re)=>{(ve.startsWith("signIn")||ve.startsWith("createUser"))&&Re.then(ut=>Cr.next(ut))}}})}}return Tt.\u0275fac=function(Je){return new(Je||Tt)(y.LFG(mr.Dh),y.LFG(mr.xv,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(sr.HU),y.LFG(Ar,8),y.LFG(nr,8),y.LFG(Er,8),y.LFG(qn,8),y.LFG(Fr,8),y.LFG(kt,8),y.LFG(nn.nm,8))},Tt.\u0275prov=y.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"any"}),Tt})()},743:(Pt,Le,j)=>{"use strict";j.d(Le,{ST:()=>_v});var y=j(639),S=j(4346),J=j(1827),Ae=j(1179),A=j(4323),Ie=j(8797),ke=j(2253),fe=j(7375);function Y(...s){return(0,ke.J)(1)((0,Ae.D)(s,(0,fe.yG)(s)))}var ee=j(3201);function be(...s){const e=(0,fe.yG)(s);return(0,ee.e)((i,a)=>{(e?Y(s,i,e):Y(s,i)).subscribe(a)})}var ze=j(1894);function Fe(){return(0,ee.e)((s,e)=>{let i,a=!1;s.subscribe(new ze.Q(e,c=>{const p=i;i=c,a&&e.next([p,c]),a=!0}))})}function nt(s,e,i,a,c){return(p,w)=>{let k=i,z=e,ce=0;p.subscribe(new ze.Q(w,we=>{const je=ce++;z=k?s(z,we,je):(k=!0,we),a&&w.next(z)},c&&(()=>{k&&w.next(z),w.complete()})))}}function Oe(s,e){return(0,ee.e)(nt(s,e,arguments.length>=2,!0))}var Ve=j(576);function Be(s,e){return s===e}var Ge,Me=j(6885),$e=j(1971),dt=j(8939),it=j(8583),Ot=(j(4671),j(4486)),ie=j(8239),ue=j(5452),me=j(6034),ye=j(5601),he=j(3854),Ze="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},pe={},Ht=Ht||{},Rt=Ze||self;function It(){}function Gt(s){var e=typeof s;return"array"==(e="object"!=e?e:s?Array.isArray(s)?"array":e:"null")||"object"==e&&"number"==typeof s.length}function xn(s){var e=typeof s;return"object"==e&&null!=s||"function"==e}var jn="closure_uid_"+(1e9*Math.random()>>>0),sr=0;function mr(s,e,i){return s.call.apply(s.bind,arguments)}function Vn(s,e,i){if(!s)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,a),s.apply(e,c)}}return function(){return s.apply(e,arguments)}}function nn(s,e,i){return(nn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?mr:Vn).apply(null,arguments)}function Mn(s,e){var i=Array.prototype.slice.call(arguments,1);return function(){var a=i.slice();return a.push.apply(a,arguments),s.apply(this,a)}}function qt(s,e){function i(){}i.prototype=e.prototype,s.Z=e.prototype,s.prototype=new i,s.prototype.constructor=s,s.Vb=function(a,c,p){for(var w=Array(arguments.length-2),k=2;k<arguments.length;k++)w[k-2]=arguments[k];return e.prototype[c].apply(a,w)}}function Ar(){this.s=this.s,this.o=this.o}var Er={};Ar.prototype.s=!1,Ar.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var s=function(s){return Object.prototype.hasOwnProperty.call(s,jn)&&s[jn]||(s[jn]=++sr)}(this);delete Er[s]}},Ar.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qn=Array.prototype.indexOf?function(s,e){return Array.prototype.indexOf.call(s,e,void 0)}:function(s,e){if("string"==typeof s)return"string"!=typeof e||1!=e.length?-1:s.indexOf(e,0);for(let i=0;i<s.length;i++)if(i in s&&s[i]===e)return i;return-1},Fr=Array.prototype.forEach?function(s,e,i){Array.prototype.forEach.call(s,e,i)}:function(s,e,i){const a=s.length,c="string"==typeof s?s.split(""):s;for(let p=0;p<a;p++)p in c&&e.call(i,c[p],p,s)};function wn(s){return Array.prototype.concat.apply([],arguments)}function Wn(s){const e=s.length;if(0<e){const i=Array(e);for(let a=0;a<e;a++)i[a]=s[a];return i}return[]}function Jn(s){return/^[\s\xa0]*$/.test(s)}var tt,Tt=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function vt(s,e){return-1!=s.indexOf(e)}function Je(s,e){return s<e?-1:s>e?1:0}e:{var Ut=Rt.navigator;if(Ut){var jt=Ut.userAgent;if(jt){tt=jt;break e}}tt=""}function wt(s,e,i){for(const a in s)e.call(i,s[a],a,s)}function pn(s){const e={};for(const i in s)e[i]=s[i];return e}var Mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zt(s,e){let i,a;for(let c=1;c<arguments.length;c++){for(i in a=arguments[c],a)s[i]=a[i];for(let p=0;p<Mt.length;p++)i=Mt[p],Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i])}}function Kn(s){return Kn[" "](s),s}Kn[" "]=It;var ut,s,Xn=vt(tt,"Opera"),En=vt(tt,"Trident")||vt(tt,"MSIE"),Cr=vt(tt,"Edge"),hr=Cr||En,ve=vt(tt,"Gecko")&&!(vt(tt.toLowerCase(),"webkit")&&!vt(tt,"Edge"))&&!(vt(tt,"Trident")||vt(tt,"MSIE"))&&!vt(tt,"Edge"),Se=vt(tt.toLowerCase(),"webkit")&&!vt(tt,"Edge");function Re(){var s=Rt.document;return s?s.documentMode:void 0}e:{var He="",yt=(s=tt,ve?/rv:([^\);]+)(\)|;)/.exec(s):Cr?/Edge\/([\d\.]+)/.exec(s):En?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):Se?/WebKit\/(\S+)/.exec(s):Xn?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(yt&&(He=yt?yt[1]:""),En){var en=Re();if(null!=en&&en>parseFloat(He)){ut=String(en);break e}}ut=He}var zn={};function Un(){return e=zn,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let s=0;const e=Tt(String(ut)).split("."),i=Tt("9").split("."),a=Math.max(e.length,i.length);for(let w=0;0==s&&w<a;w++){var c=e[w]||"",p=i[w]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],0==c[0].length&&0==p[0].length)break;s=Je(0==c[1].length?0:parseInt(c[1],10),0==p[1].length?0:parseInt(p[1],10))||Je(0==c[2].length,0==p[2].length)||Je(c[2],p[2]),c=c[3],p=p[3]}while(0==s)}return 0<=s}();var e}var kn=Rt.document&&En&&(Re()||parseInt(ut,10))||void 0,jr=function(){if(!Rt.addEventListener||!Object.defineProperty)return!1;var s=!1,e=Object.defineProperty({},"passive",{get:function(){s=!0}});try{Rt.addEventListener("test",It,e),Rt.removeEventListener("test",It,e)}catch(i){}return s}();function Rn(s,e){this.type=s,this.g=this.target=e,this.defaultPrevented=!1}function oi(s,e){if(Rn.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var i=this.type=s.type,a=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=e,e=s.relatedTarget){if(ve){e:{try{Kn(e.nodeName);var c=!0;break e}catch(p){}c=!1}c||(e=null)}}else"mouseover"==i?e=s.fromElement:"mouseout"==i&&(e=s.toElement);this.relatedTarget=e,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:hn[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&oi.Z.h.call(this)}}Rn.prototype.h=function(){this.defaultPrevented=!0},qt(oi,Rn);var hn={2:"touch",3:"pen",4:"mouse"};oi.prototype.h=function(){oi.Z.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var ti="closure_listenable_"+(1e6*Math.random()|0),zi=0;function Ei(s,e,i,a,c){this.listener=s,this.proxy=null,this.src=e,this.type=i,this.capture=!!a,this.ia=c,this.key=++zi,this.ca=this.fa=!1}function Ci(s){s.ca=!0,s.listener=null,s.proxy=null,s.src=null,s.ia=null}function mi(s){this.src=s,this.g={},this.h=0}function Ir(s,e){var i=e.type;if(i in s.g){var p,a=s.g[i],c=qn(a,e);(p=0<=c)&&Array.prototype.splice.call(a,c,1),p&&(Ci(e),0==s.g[i].length&&(delete s.g[i],s.h--))}}function rn(s,e,i,a){for(var c=0;c<s.length;++c){var p=s[c];if(!p.ca&&p.listener==e&&p.capture==!!i&&p.ia==a)return c}return-1}mi.prototype.add=function(s,e,i,a,c){var p=s.toString();(s=this.g[p])||(s=this.g[p]=[],this.h++);var w=rn(s,e,a,c);return-1<w?(e=s[w],i||(e.fa=!1)):((e=new Ei(e,this.src,p,!!a,c)).fa=i,s.push(e)),e};var Rr="closure_lm_"+(1e6*Math.random()|0),Zr={};function Mr(s,e,i,a,c){if(a&&a.once)return Pr(s,e,i,a,c);if(Array.isArray(e)){for(var p=0;p<e.length;p++)Mr(s,e[p],i,a,c);return null}return i=on(i),s&&s[ti]?s.N(e,i,xn(a)?!!a.capture:!!a,c):ns(s,e,i,!1,a,c)}function ns(s,e,i,a,c,p){if(!e)throw Error("Invalid event type");var w=xn(c)?!!c.capture:!!c,k=Lr(s);if(k||(s[Rr]=k=new mi(s)),(i=k.add(e,i,a,w,p)).proxy)return i;if(a=function(){var e=ni;return function s(i){return e.call(s.src,s.listener,i)}}(),i.proxy=a,a.src=s,a.listener=i,s.addEventListener)jr||(c=w),void 0===c&&(c=!1),s.addEventListener(e.toString(),a,c);else if(s.attachEvent)s.attachEvent(Or(e.toString()),a);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(a)}return i}function Pr(s,e,i,a,c){if(Array.isArray(e)){for(var p=0;p<e.length;p++)Pr(s,e[p],i,a,c);return null}return i=on(i),s&&s[ti]?s.O(e,i,xn(a)?!!a.capture:!!a,c):ns(s,e,i,!0,a,c)}function or(s,e,i,a,c){if(Array.isArray(e))for(var p=0;p<e.length;p++)or(s,e[p],i,a,c);else a=xn(a)?!!a.capture:!!a,i=on(i),s&&s[ti]?(s=s.i,(e=String(e).toString())in s.g&&-1<(i=rn(p=s.g[e],i,a,c))&&(Ci(p[i]),Array.prototype.splice.call(p,i,1),0==p.length&&(delete s.g[e],s.h--))):s&&(s=Lr(s))&&(e=s.g[e.toString()],s=-1,e&&(s=rn(e,i,a,c)),(i=-1<s?e[s]:null)&&An(i))}function An(s){if("number"!=typeof s&&s&&!s.ca){var e=s.src;if(e&&e[ti])Ir(e.i,s);else{var i=s.type,a=s.proxy;e.removeEventListener?e.removeEventListener(i,a,s.capture):e.detachEvent?e.detachEvent(Or(i),a):e.addListener&&e.removeListener&&e.removeListener(a),(i=Lr(e))?(Ir(i,s),0==i.h&&(i.src=null,e[Rr]=null)):Ci(s)}}}function Or(s){return s in Zr?Zr[s]:Zr[s]="on"+s}function ni(s,e){if(s.ca)s=!0;else{e=new oi(e,this);var i=s.listener,a=s.ia||s.src;s.fa&&An(s),s=i.call(a,e)}return s}function Lr(s){return(s=s[Rr])instanceof mi?s:null}var Lt="__closure_events_fn_"+(1e9*Math.random()>>>0);function on(s){return"function"==typeof s?s:(s[Lt]||(s[Lt]=function(e){return s.handleEvent(e)}),s[Lt])}function an(){Ar.call(this),this.i=new mi(this),this.P=this,this.I=null}function Cn(s,e){var i,a=s.I;if(a)for(i=[];a;a=a.I)i.push(a);if(s=s.P,a=e.type||e,"string"==typeof e)e=new Rn(e,s);else if(e instanceof Rn)e.target=e.target||s;else{var c=e;Zt(e=new Rn(a,s),c)}if(c=!0,i)for(var p=i.length-1;0<=p;p--){var w=e.g=i[p];c=Yr(w,a,!0,e)&&c}if(c=Yr(w=e.g=s,a,!0,e)&&c,c=Yr(w,a,!1,e)&&c,i)for(p=0;p<i.length;p++)c=Yr(w=e.g=i[p],a,!1,e)&&c}function Yr(s,e,i,a){if(!(e=s.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,p=0;p<e.length;++p){var w=e[p];if(w&&!w.ca&&w.capture==i){var k=w.listener,z=w.ia||w.src;w.fa&&Ir(s.i,w),c=!1!==k.call(z,a)&&c}}return c&&!a.defaultPrevented}qt(an,Ar),an.prototype[ti]=!0,an.prototype.removeEventListener=function(s,e,i,a){or(this,s,e,i,a)},an.prototype.M=function(){if(an.Z.M.call(this),this.i){var e,s=this.i;for(e in s.g){for(var i=s.g[e],a=0;a<i.length;a++)Ci(i[a]);delete s.g[e],s.h--}}this.I=null},an.prototype.N=function(s,e,i,a){return this.i.add(String(s),e,!1,i,a)},an.prototype.O=function(s,e,i,a){return this.i.add(String(s),e,!0,i,a)};var Ln=Rt.JSON.stringify;function ji(){var s=rr;let e=null;return s.g&&(e=s.g,s.g=s.g.next,s.g||(s.h=null),e.next=null),e}var ui,Qr=new class{constructor(s,e){this.i=s,this.j=e,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}(()=>new Hr,s=>s.reset());class Hr{constructor(){this.next=this.g=this.h=null}set(e,i){this.h=e,this.g=i,this.next=null}reset(){this.next=this.g=this.h=null}}function vn(s){Rt.setTimeout(()=>{throw s},0)}function ai(s,e){ui||function(){var s=Rt.Promise.resolve(void 0);ui=function(){s.then(Xe)}}(),mn||(ui(),mn=!0),rr.add(s,e)}var mn=!1,rr=new class{constructor(){this.h=this.g=null}add(e,i){const a=Qr.get();a.set(e,i),this.h?this.h.next=a:this.g=a,this.h=a}};function Xe(){for(var s;s=ji();){try{s.h.call(s.g)}catch(i){vn(i)}var e=Qr;e.j(s),100>e.h&&(e.h++,s.next=e.g,e.g=s)}mn=!1}function Ke(s,e){an.call(this),this.h=s||1,this.g=e||Rt,this.j=nn(this.kb,this),this.l=Date.now()}function Z(s){s.da=!1,s.S&&(s.g.clearTimeout(s.S),s.S=null)}function oe(s,e,i){if("function"==typeof s)i&&(s=nn(s,i));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=nn(s.handleEvent,s)}return 2147483647<Number(e)?-1:Rt.setTimeout(s,e||0)}function ne(s){s.g=oe(()=>{s.g=null,s.i&&(s.i=!1,ne(s))},s.j);const e=s.h;s.h=null,s.m.apply(null,e)}qt(Ke,an),(Ge=Ke.prototype).da=!1,Ge.S=null,Ge.kb=function(){if(this.da){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-s):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Cn(this,"tick"),this.da&&(Z(this),this.start()))}},Ge.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ge.M=function(){Ke.Z.M.call(this),Z(this),delete this.g};class Pe extends Ar{constructor(e,i){super(),this.m=e,this.j=i,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ne(this)}M(){super.M(),this.g&&(Rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rt(s){Ar.call(this),this.h=s,this.g={}}qt(rt,Ar);var St=[];function Qt(s,e,i,a){Array.isArray(i)||(i&&(St[0]=i.toString()),i=St);for(var c=0;c<i.length;c++){var p=Mr(e,i[c],a||s.handleEvent,!1,s.h||s);if(!p)break;s.g[p.key]=p}}function Bn(s){wt(s.g,function(e,i){this.g.hasOwnProperty(i)&&An(e)},s),s.g={}}function fr(){this.g=!0}function Kr(s,e,i,a){s.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(s,e){if(!s.g)return e;if(!e)return null;try{var i=JSON.parse(e);if(i)for(s=0;s<i.length;s++)if(Array.isArray(i[s])){var a=i[s];if(!(2>a.length)){var c=a[1];if(Array.isArray(c)&&!(1>c.length)){var p=c[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var w=1;w<c.length;w++)c[w]=""}}}return Ln(i)}catch(k){return e}}(s,i)+(a?" "+a:"")})}rt.prototype.M=function(){rt.Z.M.call(this),Bn(this)},rt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fr.prototype.Aa=function(){this.g=!1},fr.prototype.info=function(){};var Pi={},Oi=null;function Nr(){return Oi=Oi||new an}function yi(s){Rn.call(this,Pi.Ma,s)}function rs(s){const e=Nr();Cn(e,new yi(e,s))}function Zs(s,e){Rn.call(this,Pi.STAT_EVENT,s),this.stat=e}function li(s){const e=Nr();Cn(e,new Zs(e,s))}function oo(s,e){Rn.call(this,Pi.Na,s),this.size=e}function _i(s,e){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return Rt.setTimeout(function(){s()},e)}Pi.Ma="serverreachability",qt(yi,Rn),Pi.STAT_EVENT="statevent",qt(Zs,Rn),Pi.Na="timingevent",qt(oo,Rn);var cs={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ao={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Wr(){}function ys(){}Wr.prototype.h=null;var is,Ii={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Wi(){Rn.call(this,"d")}function ci(){Rn.call(this,"c")}function js(){}function Ki(s,e,i,a){this.l=s,this.j=e,this.m=i,this.X=a||1,this.V=new rt(this),this.P=Hi,this.W=new Ke(s=hr?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new uo}function uo(){this.i=null,this.g="",this.h=!1}qt(Wi,Rn),qt(ci,Rn),qt(js,Wr),js.prototype.g=function(){return new XMLHttpRequest},js.prototype.i=function(){return{}},is=new js;var Hi=45e3,Hs={},Si={};function di(s,e,i){s.K=1,s.v=un(O(e)),s.s=i,s.U=!0,_s(s,null)}function _s(s,e){s.F=Date.now(),vs(s),s.A=O(s.v);var i=s.A,a=s.X;Array.isArray(a)||(a=[String(a)]),Vo(i.h,"t",a),s.C=0,i=s.l.H,s.h=new uo,s.g=Yn(s.l,i?e:null,!s.s),0<s.O&&(s.L=new Pe(nn(s.Ia,s,s.g),s.O)),Qt(s.V,s.g,"readystatechange",s.gb),e=s.H?pn(s.H):{},s.s?(s.u||(s.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.s,e)):(s.u="GET",s.g.ea(s.A,s.u,null,e)),rs(1),function(s,e,i,a,c,p){s.info(function(){if(s.g)if(p)for(var w="",k=p.split("&"),z=0;z<k.length;z++){var ce=k[z].split("=");if(1<ce.length){var we=ce[0];ce=ce[1];var je=we.split("_");w=2<=je.length&&"type"==je[1]?w+(we+"=")+ce+"&":w+(we+"=redacted&")}}else w=null;else w=p;return"XMLHTTP REQ ("+a+") [attempt "+c+"]: "+e+"\n"+i+"\n"+w})}(s.j,s.u,s.A,s.m,s.X,s.s)}function hi(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Ba}function ri(s,e,i){let c,a=!0;for(;!s.I&&s.C<i.length;){if(c=ds(s,i),c==Si){4==e&&(s.o=4,li(14),a=!1),Kr(s.j,s.m,null,"[Incomplete Response]");break}if(c==Hs){s.o=4,li(15),Kr(s.j,s.m,i,"[Invalid Chunk]"),a=!1;break}Kr(s.j,s.m,c,null),hs(s,c)}hi(s)&&c!=Si&&c!=Hs&&(s.h.g="",s.C=0),4!=e||0!=i.length||s.h.h||(s.o=1,li(16),a=!1),s.i=s.i&&a,a?0<i.length&&!s.aa&&(s.aa=!0,(e=s.l).g==s&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+i.length),fn(e),e.L=!0,li(11))):(Kr(s.j,s.m,i,"[Invalid Chunked Response]"),ki(s),Ni(s))}function ds(s,e){var i=s.C,a=e.indexOf("\n",i);return-1==a?Si:(i=Number(e.substring(i,a)),isNaN(i)?Hs:(a+=1)+i>e.length?Si:(e=e.substr(a,i),s.C=a+i,e))}function vs(s){s.Y=Date.now()+s.P,ws(s,s.P)}function ws(s,e){if(null!=s.B)throw Error("WatchDog timer not null");s.B=_i(nn(s.eb,s),e)}function Yi(s){s.B&&(Rt.clearTimeout(s.B),s.B=null)}function Ni(s){0==s.l.G||s.I||D(s.l,s)}function ki(s){Yi(s);var e=s.L;e&&"function"==typeof e.na&&e.na(),s.L=null,Z(s.W),Bn(s.V),s.g&&(e=s.g,s.g=null,e.abort(),e.na())}function hs(s,e){try{var i=s.l;if(0!=i.G&&(i.g==s||er(i.i,s)))if(i.I=s.N,!s.J&&er(i.i,s)&&3==i.G){try{var a=i.Ca.g.parse(e)}catch(ce){a=null}if(Array.isArray(a)&&3==a.length){var c=a;if(0==c[0])e:if(i.u)i.ta=c[1],0<i.ta-i.U&&37500>c[2]&&i.N&&0==i.A&&!i.v&&(i.v=_i(nn(i.ab,i),6e3));else{if(i.g){if(!(i.g.F+3e3<s.F))break e;I(i),U(i)}_n(i),li(18)}if(1>=bt(i.i)&&i.ka){try{i.ka()}catch(ce){}i.ka=void 0}}else Ee(i,11)}else if((s.J||i.g==s)&&I(i),!Jn(e))for(c=i.Ca.g.parse(e),e=0;e<c.length;e++){let ce=c[e];if(i.U=ce[0],ce=ce[1],2==i.G)if("c"==ce[0]){i.J=ce[1],i.la=ce[2];const we=ce[3];null!=we&&(i.ma=we,i.h.info("VER="+i.ma));const je=ce[4];null!=je&&(i.za=je,i.h.info("SVER="+i.za));const ht=ce[5];null!=ht&&"number"==typeof ht&&0<ht&&(i.K=a=1.5*ht,i.h.info("backChannelRequestTimeoutMs_="+a)),a=i;const Ct=s.g;if(Ct){const Yt=Ct.g?Ct.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yt){var p=a.i;!p.g&&(vt(Yt,"spdy")||vt(Yt,"quic")||vt(Yt,"h2"))&&(p.j=p.l,p.g=new Set,p.h&&(Bo(p,p.h),p.h=null))}if(a.D){const Sn=Ct.g?Ct.g.getResponseHeader("X-HTTP-Session-Id"):null;Sn&&(a.sa=Sn,ft(a.F,a.D,Sn))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-s.F,i.h.info("Handshake RTT: "+i.O+"ms"));var w=s;if((a=i).oa=Wt(a,a.H?a.la:null,a.W),w.J){Xr(a.i,w);var k=w,z=a.K;z&&k.setTimeout(z),k.B&&(Yi(k),vs(k)),a.g=w}else Ft(a);0<i.l.length&&se(i)}else"stop"!=ce[0]&&"close"!=ce[0]||Ee(i,7);else 3==i.G&&("stop"==ce[0]||"close"==ce[0]?"stop"==ce[0]?Ee(i,7):qo(i):"noop"!=ce[0]&&i.j&&i.j.wa(ce),i.A=0)}rs(4)}catch(ce){}}function F(s,e){if(s.forEach&&"function"==typeof s.forEach)s.forEach(e,void 0);else if(Gt(s)||"string"==typeof s)Fr(s,e,void 0);else{if(s.T&&"function"==typeof s.T)var i=s.T();else if(s.R&&"function"==typeof s.R)i=void 0;else if(Gt(s)||"string"==typeof s){i=[];for(var a=s.length,c=0;c<a;c++)i.push(c)}else for(c in i=[],a=0,s)i[a++]=c;c=(a=function(s){if(s.R&&"function"==typeof s.R)return s.R();if("string"==typeof s)return s.split("");if(Gt(s)){for(var e=[],i=s.length,a=0;a<i;a++)e.push(s[a]);return e}for(a in e=[],i=0,s)e[i++]=s[a];return e}(s)).length;for(var p=0;p<c;p++)e.call(void 0,a[p],i&&i[p],s)}}function K(s,e){this.h={},this.g=[],this.i=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var a=0;a<i;a+=2)this.set(arguments[a],arguments[a+1])}else if(s)if(s instanceof K)for(i=s.T(),a=0;a<i.length;a++)this.set(i[a],s.get(i[a]));else for(a in s)this.set(a,s[a])}function L(s){if(s.i!=s.g.length){for(var e=0,i=0;e<s.g.length;){var a=s.g[e];te(s.h,a)&&(s.g[i++]=a),e++}s.g.length=i}if(s.i!=s.g.length){var c={};for(i=e=0;e<s.g.length;)te(c,a=s.g[e])||(s.g[i++]=a,c[a]=1),e++;s.g.length=i}}function te(s,e){return Object.prototype.hasOwnProperty.call(s,e)}(Ge=Ki.prototype).setTimeout=function(s){this.P=s},Ge.gb=function(s){s=s.target;const e=this.L;e&&3==$i(s)?e.l():this.Ia(s)},Ge.Ia=function(s){try{if(s==this.g)e:{const we=$i(this.g);var e=this.g.Da();const je=this.g.ba();if(!(3>we)&&(3!=we||hr||this.g&&(this.h.h||this.g.ga()||Za(this.g)))){this.I||4!=we||7==e||rs(8==e||0>=je?3:2),Yi(this);var i=this.g.ba();this.N=i;t:if(hi(this)){var a=Za(this.g);s="";var c=a.length,p=4==$i(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ki(this),Ni(this);var w="";break t}this.h.i=new Rt.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,s+=this.h.i.decode(a[e],{stream:p&&e==c-1});a.splice(0,c),this.h.g+=s,this.C=0,w=this.h.g}else w=this.g.ga();if(this.i=200==i,function(s,e,i,a,c,p,w){s.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+c+"]: "+e+"\n"+i+"\n"+p+" "+w})}(this.j,this.u,this.A,this.m,this.X,we,i),this.i){if(this.$&&!this.J){t:{if(this.g){var k,z=this.g;if((k=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jn(k)){var ce=k;break t}}ce=null}if(!(i=ce)){this.i=!1,this.o=3,li(12),ki(this),Ni(this);break e}Kr(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,hs(this,i)}this.U?(ri(this,we,w),hr&&this.i&&3==we&&(Qt(this.V,this.W,"tick",this.fb),this.W.start())):(Kr(this.j,this.m,w,null),hs(this,w)),4==we&&ki(this),this.i&&!this.I&&(4==we?D(this.l,this):(this.i=!1,vs(this)))}else 400==i&&0<w.indexOf("Unknown SID")?(this.o=3,li(12)):(this.o=0,li(13)),ki(this),Ni(this)}}}catch(we){}},Ge.fb=function(){if(this.g){var s=$i(this.g),e=this.g.ga();this.C<e.length&&(Yi(this),ri(this,s,e),this.i&&4!=s&&vs(this))}},Ge.cancel=function(){this.I=!0,ki(this)},Ge.eb=function(){this.B=null;const s=Date.now();0<=s-this.Y?(function(s,e){s.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(rs(3),li(17)),ki(this),this.o=2,Ni(this)):ws(this,this.Y-s)},(Ge=K.prototype).R=function(){L(this);for(var s=[],e=0;e<this.g.length;e++)s.push(this.h[this.g[e]]);return s},Ge.T=function(){return L(this),this.g.concat()},Ge.get=function(s,e){return te(this.h,s)?this.h[s]:e},Ge.set=function(s,e){te(this.h,s)||(this.i++,this.g.push(s)),this.h[s]=e},Ge.forEach=function(s,e){for(var i=this.T(),a=0;a<i.length;a++){var c=i[a],p=this.get(c);s.call(e,p,c,this)}};var xe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _t(s,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,s instanceof _t){this.g=void 0!==e?e:s.g,x(this,s.j),this.s=s.s,T(this,s.i),W(this,s.m),this.l=s.l,e=s.h;var i=new Vr;i.i=e.i,e.g&&(i.g=new K(e.g),i.h=e.h),qe(this,i),this.o=s.o}else s&&(i=String(s).match(xe))?(this.g=!!e,x(this,i[1]||"",!0),this.s=_r(i[2]||""),T(this,i[3]||"",!0),W(this,i[4]),this.l=_r(i[5]||"",!0),qe(this,i[6]||"",!0),this.o=_r(i[7]||"")):(this.g=!!e,this.h=new Vr(null,this.g))}function O(s){return new _t(s)}function x(s,e,i){s.j=i?_r(e,!0):e,s.j&&(s.j=s.j.replace(/:$/,""))}function T(s,e,i){s.i=i?_r(e,!0):e}function W(s,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);s.m=e}else s.m=null}function qe(s,e,i){e instanceof Vr?(s.h=e,function(s,e){e&&!s.j&&(Ri(s),s.i=null,s.g.forEach(function(i,a){var c=a.toLowerCase();a!=c&&($s(this,a),Vo(this,c,i))},s)),s.j=e}(s.h,s.g)):(i||(e=kr(e,bo)),s.h=new Vr(e,s.g))}function ft(s,e,i){s.h.set(e,i)}function un(s){return ft(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function _r(s,e){return s?e?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function kr(s,e,i){return"string"==typeof s?(s=encodeURI(s).replace(e,xi),i&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function xi(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}_t.prototype.toString=function(){var s=[],e=this.j;e&&s.push(kr(e,ii,!0),":");var i=this.i;return(i||"file"==e)&&(s.push("//"),(e=this.s)&&s.push(kr(e,ii,!0),"@"),s.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&s.push(":",String(i))),(i=this.l)&&(this.i&&"/"!=i.charAt(0)&&s.push("/"),s.push(kr(i,"/"==i.charAt(0)?Lo:fi,!0))),(i=this.h.toString())&&s.push("?",i),(i=this.o)&&s.push("#",kr(i,xa)),s.join("")};var ii=/[#\/\?@]/g,fi=/[#\?:]/g,Lo=/[#\?]/g,bo=/[#\?@]/g,xa=/#/g;function Vr(s,e){this.h=this.g=null,this.i=s||null,this.j=!!e}function Ri(s){s.g||(s.g=new K,s.h=0,s.i&&function(s,e){if(s){s=s.split("&");for(var i=0;i<s.length;i++){var a=s[i].indexOf("="),c=null;if(0<=a){var p=s[i].substring(0,a);c=s[i].substring(a+1)}else p=s[i];e(p,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(s.i,function(e,i){s.add(decodeURIComponent(e.replace(/\+/g," ")),i)}))}function $s(s,e){Ri(s),e=Eo(s,e),te(s.g.h,e)&&(s.i=null,s.h-=s.g.get(e).length,te((s=s.g).h,e)&&(delete s.h[e],s.i--,s.g.length>2*s.i&&L(s)))}function In(s,e){return Ri(s),e=Eo(s,e),te(s.g.h,e)}function Vo(s,e,i){$s(s,e),0<i.length&&(s.i=null,s.g.set(Eo(s,e),Wn(i)),s.h+=i.length)}function Eo(s,e){return e=String(e),s.j&&(e=e.toLowerCase()),e}function Co(s){this.l=s||za,s=Rt.PerformanceNavigationTiming?0<(s=Rt.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(Rt.g&&Rt.g.Ea&&Rt.g.Ea()&&Rt.g.Ea().Zb),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ge=Vr.prototype).add=function(s,e){Ri(this),this.i=null,s=Eo(this,s);var i=this.g.get(s);return i||this.g.set(s,i=[]),i.push(e),this.h+=1,this},Ge.forEach=function(s,e){Ri(this),this.g.forEach(function(i,a){Fr(i,function(c){s.call(e,c,a,this)},this)},this)},Ge.T=function(){Ri(this);for(var s=this.g.R(),e=this.g.T(),i=[],a=0;a<e.length;a++)for(var c=s[a],p=0;p<c.length;p++)i.push(e[a]);return i},Ge.R=function(s){Ri(this);var e=[];if("string"==typeof s)In(this,s)&&(e=wn(e,this.g.get(Eo(this,s))));else{s=this.g.R();for(var i=0;i<s.length;i++)e=wn(e,s[i])}return e},Ge.set=function(s,e){return Ri(this),this.i=null,In(this,s=Eo(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[e]),this.h+=1,this},Ge.get=function(s,e){return s&&0<(s=this.R(s)).length?String(s[0]):e},Ge.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var s=[],e=this.g.T(),i=0;i<e.length;i++){var a=e[i],c=encodeURIComponent(String(a));a=this.R(a);for(var p=0;p<a.length;p++){var w=c;""!==a[p]&&(w+="="+encodeURIComponent(String(a[p]))),s.push(w)}}return this.i=s.join("&")};var za=10;function Uo(s){return!!s.h||!!s.g&&s.g.size>=s.j}function bt(s){return s.h?1:s.g?s.g.size:0}function er(s,e){return s.h?s.h==e:!!s.g&&s.g.has(e)}function Bo(s,e){s.g?s.g.add(e):s.h=e}function Xr(s,e){s.h&&s.h==e?s.h=null:s.g&&s.g.has(e)&&s.g.delete(e)}function co(s){if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){let e=s.i;for(const i of s.g.values())e=e.concat(i.D);return e}return Wn(s.i)}function ss(){}function fs(){this.g=new ss}function Ws(s,e,i){const a=i||"";try{F(s,function(c,p){let w=c;xn(c)&&(w=Ln(c)),e.push(a+p+"="+encodeURIComponent(w))})}catch(c){throw e.push(a+"type="+encodeURIComponent("_badmap")),c}}function Gs(s,e,i,a,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(a)}catch(p){}}function Ks(s){this.l=s.$b||null,this.j=s.ib||!1}function Qi(s,e){an.call(this),this.D=s,this.u=e,this.m=void 0,this.readyState=Ys,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Co.prototype.cancel=function(){if(this.i=co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const s of this.g.values())s.cancel();this.g.clear()}},ss.prototype.stringify=function(s){return Rt.JSON.stringify(s,void 0)},ss.prototype.parse=function(s){return Rt.JSON.parse(s,void 0)},qt(Ks,Wr),Ks.prototype.g=function(){return new Qi(this.l,this.j)},Ks.prototype.i=function(s){return function(){return s}}({}),qt(Qi,an);var Ys=0;function si(s){s.j.read().then(s.Sa.bind(s)).catch(s.ha.bind(s))}function Fi(s){s.readyState=4,s.l=null,s.j=null,s.A=null,xs(s)}function xs(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(Ge=Qi.prototype).open=function(s,e){if(this.readyState!=Ys)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=e,this.readyState=1,xs(this)},Ge.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(e.body=s),(this.D||Rt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ge.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fi(this)),this.readyState=Ys},Ge.Va=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,xs(this)),this.g&&(this.readyState=3,xs(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Rt.ReadableStream&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;si(this)}else s.text().then(this.Ua.bind(this),this.ha.bind(this))},Ge.Sa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var e=s.value?s.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!s.done}))&&(this.response=this.responseText+=e)}s.done?Fi(this):xs(this),3==this.readyState&&si(this)}},Ge.Ua=function(s){this.g&&(this.response=this.responseText=s,Fi(this))},Ge.Ta=function(s){this.g&&(this.response=s,Fi(this))},Ge.ha=function(){this.g&&Fi(this)},Ge.setRequestHeader=function(s,e){this.v.append(s,e)},Ge.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},Ge.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],e=this.h.entries();for(var i=e.next();!i.done;)s.push((i=i.value)[0]+": "+i[1]),i=e.next();return s.join("\r\n")},Object.defineProperty(Qi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var Qs=Rt.JSON.parse;function wr(s){an.call(this),this.headers=new K,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=jo,this.K=this.L=!1}qt(wr,an);var jo="",Io=/^https?$/i,Ho=["POST","PUT"];function ea(s){return"content-type"==s.toLowerCase()}function fo(s,e){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=e,s.m=5,ta(s),po(s)}function ta(s){s.D||(s.D=!0,Cn(s,"complete"),Cn(s,"error"))}function Rs(s){if(s.h&&void 0!==Ht&&(!s.C[1]||4!=$i(s)||2!=s.ba()))if(s.v&&4==$i(s))oe(s.Fa,0,s);else if(Cn(s,"readystatechange"),4==$i(s)){s.h=!1;try{const k=s.ba();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var i;if(!(i=e)){var a;if(a=0===k){var c=String(s.H).match(xe)[1]||null;if(!c&&Rt.self&&Rt.self.location){var p=Rt.self.location.protocol;c=p.substr(0,p.length-1)}a=!Io.test(c?c.toLowerCase():"")}i=a}if(i)Cn(s,"complete"),Cn(s,"success");else{s.m=6;try{var w=2<$i(s)?s.g.statusText:""}catch(z){w=""}s.j=w+" ["+s.ba()+"]",ta(s)}}finally{po(s)}}}function po(s,e){if(s.g){$o(s);const i=s.g,a=s.C[0]?It:null;s.g=null,s.C=null,e||Cn(s,"ready");try{i.onreadystatechange=a}catch(c){}}}function $o(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(Rt.clearTimeout(s.A),s.A=null)}function $i(s){return s.g?s.g.readyState:0}function Za(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case jo:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Go(s,e,i){e:{for(a in i){var a=!1;break e}a=!0}a||(i=function(s){let e="";return wt(s,function(i,a){e+=a,e+=":",e+=i,e+="\r\n"}),e}(i),"string"==typeof s?null!=i&&encodeURIComponent(String(i)):ft(s,e,i))}function va(s,e,i){return i&&i.internalChannelParams&&i.internalChannelParams[s]||e}function wa(s){this.za=0,this.l=[],this.h=new fr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=va("failFast",!1,s),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=va("baseRetryDelayMs",5e3,s),this.$a=va("retryDelaySeedMs",1e4,s),this.Ya=va("forwardChannelMaxRetries",2,s),this.ra=va("forwardChannelRequestTimeoutMs",2e4,s),this.qa=s&&s.xmlHttpFactory||void 0,this.Ba=s&&s.Yb||!1,this.K=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.J="",this.i=new Co(s&&s.concurrentRequestLimit),this.Ca=new fs,this.ja=s&&s.fastHandshake||!1,this.Ra=s&&s.Wb||!1,s&&s.Aa&&this.h.Aa(),s&&s.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&s&&s.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!s||!1!==s.Xb}function qo(s){if(N(s),3==s.G){var e=s.V++,i=O(s.F);ft(i,"SID",s.J),ft(i,"RID",e),ft(i,"TYPE","terminate"),pt(s,i),(e=new Ki(s,s.h,e,void 0)).K=2,e.v=un(O(i)),i=!1,Rt.navigator&&Rt.navigator.sendBeacon&&(i=Rt.navigator.sendBeacon(e.v.toString(),"")),!i&&Rt.Image&&((new Image).src=e.v,i=!0),i||(e.g=Yn(e.l,null),e.g.ea(e.v)),e.F=Date.now(),vs(e)}mt(s)}function U(s){s.g&&(fn(s),s.g.cancel(),s.g=null)}function N(s){U(s),s.u&&(Rt.clearTimeout(s.u),s.u=null),I(s),s.i.cancel(),s.m&&("number"==typeof s.m&&Rt.clearTimeout(s.m),s.m=null)}function H(s,e){s.l.push(new class{constructor(s,e){this.h=s,this.g=e}}(s.Za++,e)),3==s.G&&se(s)}function se(s){Uo(s.i)||s.m||(s.m=!0,ai(s.Ha,s),s.C=0)}function Ye(s,e){var i;i=e?e.m:s.V++;const a=O(s.F);ft(a,"SID",s.J),ft(a,"RID",i),ft(a,"AID",s.U),pt(s,a),s.o&&s.s&&Go(a,s.o,s.s),i=new Ki(s,s.h,i,s.C+1),null===s.o&&(i.H=s.s),e&&(s.l=e.D.concat(s.l)),e=Kt(s,i,1e3),i.setTimeout(Math.round(.5*s.ra)+Math.round(.5*s.ra*Math.random())),Bo(s.i,i),di(i,a,e)}function pt(s,e){s.j&&F({},function(i,a){ft(e,a,i)})}function Kt(s,e,i){i=Math.min(s.l.length,i);var a=s.j?nn(s.j.Oa,s.j,s):null;e:{var c=s.l;let p=-1;for(;;){const w=["count="+i];-1==p?0<i?(p=c[0].h,w.push("ofs="+p)):p=0:w.push("ofs="+p);let k=!0;for(let z=0;z<i;z++){let ce=c[z].h;const we=c[z].g;if(ce-=p,0>ce)p=Math.max(0,c[z].h-100),k=!1;else try{Ws(we,w,"req"+ce+"_")}catch(je){a&&a(we)}}if(k){a=w.join("&");break e}}}return s=s.l.splice(0,i),e.D=s,a}function Ft(s){s.g||s.u||(s.Y=1,ai(s.Ga,s),s.A=0)}function _n(s){return!(s.g||s.u||3<=s.A||(s.Y++,s.u=_i(nn(s.Ga,s),q(s,s.A)),s.A++,0))}function fn(s){null!=s.B&&(Rt.clearTimeout(s.B),s.B=null)}function Hn(s){s.g=new Ki(s,s.h,"rpc",s.Y),null===s.o&&(s.g.H=s.s),s.g.O=0;var e=O(s.oa);ft(e,"RID","rpc"),ft(e,"SID",s.J),ft(e,"CI",s.N?"0":"1"),ft(e,"AID",s.U),pt(s,e),ft(e,"TYPE","xmlhttp"),s.o&&s.s&&Go(e,s.o,s.s),s.K&&s.g.setTimeout(s.K);var i=s.g;s=s.la,i.K=1,i.v=un(O(e)),i.s=null,i.U=!0,_s(i,s)}function I(s){null!=s.v&&(Rt.clearTimeout(s.v),s.v=null)}function D(s,e){var i=null;if(s.g==e){I(s),fn(s),s.g=null;var a=2}else{if(!er(s.i,e))return;i=e.D,Xr(s.i,e),a=1}if(s.I=e.N,0!=s.G)if(e.i)if(1==a){i=e.s?e.s.length:0,e=Date.now()-e.F;var c=s.C;Cn(a=Nr(),new oo(a,i,e,c)),se(s)}else Ft(s);else if(3==(c=e.o)||0==c&&0<s.I||!(1==a&&function(s,e){return!(bt(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.l=e.D.concat(s.l),0):1==s.G||2==s.G||s.C>=(s.Xa?0:s.Ya)||(s.m=_i(nn(s.Ha,s,e),q(s,s.C)),s.C++,0)))}(s,e)||2==a&&_n(s)))switch(i&&0<i.length&&(e=s.i,e.i=e.i.concat(i)),c){case 1:Ee(s,5);break;case 4:Ee(s,10);break;case 3:Ee(s,6);break;default:Ee(s,2)}}function q(s,e){let i=s.Pa+Math.floor(Math.random()*s.$a);return s.j||(i*=2),i*e}function Ee(s,e){if(s.h.info("Error code "+e),2==e){var i=null;s.j&&(i=null);var a=nn(s.jb,s);i||(i=new _t("//www.google.com/images/cleardot.gif"),Rt.location&&"http"==Rt.location.protocol||x(i,"https"),un(i)),function(s,e){const i=new fr;if(Rt.Image){const a=new Image;a.onload=Mn(Gs,i,a,"TestLoadImage: loaded",!0,e),a.onerror=Mn(Gs,i,a,"TestLoadImage: error",!1,e),a.onabort=Mn(Gs,i,a,"TestLoadImage: abort",!1,e),a.ontimeout=Mn(Gs,i,a,"TestLoadImage: timeout",!1,e),Rt.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=s}else e(!1)}(i.toString(),a)}else li(2);s.G=0,s.j&&s.j.va(e),mt(s),N(s)}function mt(s){s.G=0,s.I=-1,s.j&&((0!=co(s.i).length||0!=s.l.length)&&(s.i.i.length=0,Wn(s.l),s.l.length=0),s.j.ua())}function Wt(s,e,i){let a=function(s){return s instanceof _t?O(s):new _t(s,void 0)}(i);if(""!=a.i)e&&T(a,e+"."+a.i),W(a,a.m);else{const c=Rt.location;a=function(s,e,i,a){var c=new _t(null,void 0);return s&&x(c,s),e&&T(c,e),i&&W(c,i),a&&(c.l=a),c}(c.protocol,e?e+"."+c.hostname:c.hostname,+c.port,i)}return s.aa&&wt(s.aa,function(c,p){ft(a,p,c)}),i=s.sa,(e=s.D)&&i&&ft(a,e,i),ft(a,"VER",s.ma),pt(s,a),a}function Yn(s,e,i){if(e&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new wr(i&&s.Ba&&!s.qa?new Ks({ib:!0}):s.qa)).L=s.H,e}function Gr(){}function $n(){if(En&&!(10<=Number(kn)))throw Error("Environmental error: no available transport.")}function Dr(s,e){an.call(this),this.g=new wa(e),this.l=s,this.h=e&&e.messageUrlParams||null,s=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(s?s["X-WebChannel-Content-Type"]=e.messageContentType:s={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(s?s["X-WebChannel-Client-Profile"]=e.ya:s={"X-WebChannel-Client-Profile":e.ya}),this.g.P=s,(s=e&&e.httpHeadersOverwriteParam)&&!Jn(s)&&(this.g.o=s),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Jn(e)&&(this.g.D=e,null!==(s=this.h)&&e in s&&e in(s=this.h)&&delete s[e]),this.j=new Cs(this)}function qs(s){Wi.call(this);var e=s.__sm__;if(e){e:{for(const i in e){s=i;break e}s=void 0}(this.i=s)&&(s=this.i,e=null!==e&&s in e?e[s]:void 0),this.data=e}else this.data=s}function pi(){ci.call(this),this.status=1}function Cs(s){this.g=s}(Ge=wr.prototype).ea=function(s,e,i,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);e=e?e.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():is.g(),this.C=function(s){return s.h||(s.h=s.i())}(this.u?this.u:is),this.g.onreadystatechange=nn(this.Fa,this);try{this.F=!0,this.g.open(e,String(s),!0),this.F=!1}catch(p){return void fo(this,p)}s=i||"";const c=new K(this.headers);a&&F(a,function(p,w){c.set(w,p)}),a=function(s){e:{var e=ea;const i=s.length,a="string"==typeof s?s.split(""):s;for(let c=0;c<i;c++)if(c in a&&e.call(void 0,a[c],c,s)){e=c;break e}e=-1}return 0>e?null:"string"==typeof s?s.charAt(e):s[e]}(c.T()),i=Rt.FormData&&s instanceof Rt.FormData,!(0<=qn(Ho,e))||a||i||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),c.forEach(function(p,w){this.g.setRequestHeader(w,p)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{$o(this),0<this.B&&((this.K=function(s){return En&&Un()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=nn(this.pa,this)):this.A=oe(this.pa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(p){fo(this,p)}},Ge.pa=function(){void 0!==Ht&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Cn(this,"timeout"),this.abort(8))},Ge.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,Cn(this,"complete"),Cn(this,"abort"),po(this))},Ge.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),po(this,!0)),wr.Z.M.call(this)},Ge.Fa=function(){this.s||(this.F||this.v||this.l?Rs(this):this.cb())},Ge.cb=function(){Rs(this)},Ge.ba=function(){try{return 2<$i(this)?this.g.status:-1}catch(s){return-1}},Ge.ga=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},Ge.Qa=function(s){if(this.g){var e=this.g.responseText;return s&&0==e.indexOf(s)&&(e=e.substring(s.length)),Qs(e)}},Ge.Da=function(){return this.m},Ge.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ge=wa.prototype).ma=8,Ge.G=1,Ge.hb=function(s){try{this.h.info("Origin Trials invoked: "+s)}catch(e){}},Ge.Ha=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.V=Math.floor(1e5*Math.random()),s=this.V++;const c=new Ki(this,this.h,s,void 0);let p=this.s;if(this.P&&(p?(p=pn(p),Zt(p,this.P)):p=this.P),null===this.o&&(c.H=p),this.ja)e:{for(var e=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(e+=a)){e=i;break e}if(4096===e||i===this.l.length-1){e=i+1;break e}}e=1e3}else e=1e3;e=Kt(this,c,e),ft(i=O(this.F),"RID",s),ft(i,"CVER",22),this.D&&ft(i,"X-HTTP-Session-Id",this.D),pt(this,i),this.o&&p&&Go(i,this.o,p),Bo(this.i,c),this.Ra&&ft(i,"TYPE","init"),this.ja?(ft(i,"$req",e),ft(i,"SID","null"),c.$=!0,di(c,i,null)):di(c,i,e),this.G=2}}else 3==this.G&&(s?Ye(this,s):0==this.l.length||Uo(this.i)||Ye(this))},Ge.Ga=function(){if(this.u=null,Hn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var s=2*this.O;this.h.info("BP detection timer enabled: "+s),this.B=_i(nn(this.bb,this),s)}},Ge.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,li(10),U(this),Hn(this))},Ge.ab=function(){null!=this.v&&(this.v=null,U(this),_n(this),li(19))},Ge.jb=function(s){s?(this.h.info("Successfully pinged google.com"),li(2)):(this.h.info("Failed to ping google.com"),li(1))},(Ge=Gr.prototype).xa=function(){},Ge.wa=function(){},Ge.va=function(){},Ge.ua=function(){},Ge.Oa=function(){},$n.prototype.g=function(s,e){return new Dr(s,e)},qt(Dr,an),Dr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var s=this.g,e=this.l,i=this.h||void 0;s.Wa&&(s.h.info("Origin Trials enabled."),ai(nn(s.hb,s,e))),li(0),s.W=e,s.aa=i||{},s.N=s.X,s.F=Wt(s,null,s.W),se(s)},Dr.prototype.close=function(){qo(this.g)},Dr.prototype.u=function(s){if("string"==typeof s){var e={};e.__data__=s,H(this.g,e)}else this.v?((e={}).__data__=Ln(s),H(this.g,e)):H(this.g,s)},Dr.prototype.M=function(){this.g.j=null,delete this.j,qo(this.g),delete this.g,Dr.Z.M.call(this)},qt(qs,Wi),qt(pi,ci),qt(Cs,Gr),Cs.prototype.xa=function(){Cn(this.g,"a")},Cs.prototype.wa=function(s){Cn(this.g,new qs(s))},Cs.prototype.va=function(s){Cn(this.g,new pi(s))},Cs.prototype.ua=function(){Cn(this.g,"b")},$n.prototype.createWebChannel=$n.prototype.g,Dr.prototype.send=Dr.prototype.u,Dr.prototype.open=Dr.prototype.m,Dr.prototype.close=Dr.prototype.close,cs.NO_ERROR=0,cs.TIMEOUT=8,cs.HTTP_ERROR=6,ao.COMPLETE="complete",ys.EventType=Ii,Ii.OPEN="a",Ii.CLOSE="b",Ii.ERROR="c",Ii.MESSAGE="d",an.prototype.listen=an.prototype.N,wr.prototype.listenOnce=wr.prototype.O,wr.prototype.getLastError=wr.prototype.La,wr.prototype.getLastErrorCode=wr.prototype.Da,wr.prototype.getStatus=wr.prototype.ba,wr.prototype.getResponseJson=wr.prototype.Qa,wr.prototype.getResponseText=wr.prototype.ga,wr.prototype.send=wr.prototype.ea;var ba=pe.createWebChannelTransport=function(){return new $n},Ra=pe.getStatEventTarget=function(){return Nr()},Js=pe.ErrorCode=cs,Wa=pe.EventType=ao,vu=pe.Event=Pi,wu=pe.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ul=pe.FetchXmlHttpFactory=Ks,zs=pe.WebChannel=ys,bu=pe.XhrIo=wr;const go="@firebase/firestore";class ar{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ar.UNAUTHENTICATED=new ar(null),ar.GOOGLE_CREDENTIALS=new ar("google-credentials-uid"),ar.FIRST_PARTY=new ar("first-party-uid"),ar.MOCK_USER=new ar("mock-user");let zo="9.1.3";const Li=new ye.Yd("@firebase/firestore");function Zo(){return Li.logLevel}function Nt(s,...e){if(Li.logLevel<=ye.in.DEBUG){const i=e.map(yo);Li.debug(`Firestore (${zo}): ${s}`,...i)}}function vi(s,...e){if(Li.logLevel<=ye.in.ERROR){const i=e.map(yo);Li.error(`Firestore (${zo}): ${s}`,...i)}}function mo(s,...e){if(Li.logLevel<=ye.in.WARN){const i=e.map(yo);Li.warn(`Firestore (${zo}): ${s}`,...i)}}function yo(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch(i){return s}}function gn(s="Unexpected state"){const e=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: `+s;throw vi(e),new Error(e)}function On(s,e){s||gn()}function Jt(s,e){return s}const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Dt extends Error{constructor(e,i){super(i),this.code=e,this.message=i,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vi{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}class _o{constructor(e,i){this.user=i,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class Bu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(ar.UNAUTHENTICATED))}shutdown(){}}class Eu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Cu{constructor(e){this.t=e,this.currentUser=ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){var a=this;let c=this.i;const p=ce=>this.i!==c?(c=this.i,i(ce)):Promise.resolve();let w=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),w.resolve(),w=new Vi,e.enqueueRetryable(()=>p(this.currentUser))};const k=()=>{const ce=w;e.enqueueRetryable((0,ie.Z)(function*(){yield ce.promise,yield p(a.currentUser)}))},z=ce=>{Nt("FirebaseCredentialsProvider","Auth detected"),this.auth=ce,this.auth.addAuthTokenListener(this.o),k()};this.t.onInit(ce=>z(ce)),setTimeout(()=>{if(!this.auth){const ce=this.t.getImmediate({optional:!0});ce?z(ce):(Nt("FirebaseCredentialsProvider","Auth not yet detected"),w.resolve(),w=new Vi)}},0),k()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(Nt("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(On("string"==typeof a.accessToken),new _o(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return On(null===e||"string"==typeof e),new ar(e)}}class Ea{constructor(e,i,a){this.h=e,this.l=i,this.m=a,this.type="FirstParty",this.user=ar.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},i=this.h.auth.getAuthHeaderValueForFirstParty([]);return i&&(e.Authorization=i),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class Iu{constructor(e,i,a){this.h=e,this.l=i,this.m=a}getToken(){return Promise.resolve(new Ea(this.h,this.l,this.m))}start(e,i){e.enqueueRetryable(()=>i(ar.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ps{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.g(a),this.p=a=>i.writeSequenceNumber(a))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function Bl(s){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}ps.T=-1;class Ca{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length;let a="";for(;a.length<20;){const c=Bl(40);for(let p=0;p<c.length;++p)a.length<20&&c[p]<i&&(a+=e.charAt(c[p]%e.length))}return a}}function tr(s,e){return s<e?-1:s>e?1:0}function Do(s,e,i){return s.length===e.length&&s.every((a,c)=>i(a,e[c]))}function ju(s){return s+"\0"}class Ti{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new Dt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Dt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new Dt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Dt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ti.fromMillis(Date.now())}static fromDate(e){return Ti.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*i));return new Ti(i,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tr(this.nanoseconds,e.nanoseconds):tr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Fn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Fn(e)}static min(){return new Fn(new Ti(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Ma(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Xs(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Pa(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class eo{constructor(e,i,a){void 0===i?i=0:i>e.length&&gn(),void 0===a?a=e.length-i:a>e.length-i&&gn(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return 0===eo.comparator(this,e)}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof eo?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let c=0;c<a;c++){const p=e.get(c),w=i.get(c);if(p<w)return-1;if(p>w)return 1}return e.length<i.length?-1:e.length>i.length?1:0}}class qr extends eo{construct(e,i,a){return new qr(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new Dt(at.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(c=>c.length>0))}return new qr(i)}static emptyPath(){return new qr([])}}const C=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class v extends eo{construct(e,i,a){return new v(e,i,a)}static isValidIdentifier(e){return C.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),v.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new v(["__name__"])}static fromServerFormat(e){const i=[];let a="",c=0;const p=()=>{if(0===a.length)throw new Dt(at.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let w=!1;for(;c<e.length;){const k=e[c];if("\\"===k){if(c+1===e.length)throw new Dt(at.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const z=e[c+1];if("\\"!==z&&"."!==z&&"`"!==z)throw new Dt(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=z,c+=2}else"`"===k?(w=!w,c++):"."!==k||w?(a+=k,c++):(p(),c++)}if(p(),w)throw new Dt(at.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new v(i)}static emptyPath(){return new v([])}}class m{constructor(e){this.fields=e,e.sort(v.comparator)}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Do(this.fields,e.fields,(i,a)=>i.isEqual(a))}}class V{constructor(e){this.binaryString=e}static fromBase64String(e){const i=atob(e);return new V(i)}static fromUint8Array(e){const i=function(a){let c="";for(let p=0;p<a.length;++p)c+=String.fromCharCode(a[p]);return c}(e);return new V(i)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}V.EMPTY_BYTE_STRING=new V("");const X=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _e(s){if(On(!!s),"string"==typeof s){let e=0;const i=X.exec(s);if(On(!!i),i[1]){let c=i[1];c=(c+"000000000").substr(0,9),e=Number(c)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Te(s.seconds),nanos:Te(s.nanos)}}function Te(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function gt(s){return"string"==typeof s?V.fromBase64String(s):V.fromUint8Array(s)}function sn(s){var e,i;return"server_timestamp"===(null===(i=((null===(e=null==s?void 0:s.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function br(s){const e=s.mapValue.fields.__previous_value__;return sn(e)?br(e):e}function bn(s){const e=_e(s.mapValue.fields.__local_write_time__.timestampValue);return new Ti(e.seconds,e.nanos)}function ur(s){return null==s}function lr(s){return 0===s&&1/s==-1/0}function ia(s){return"number"==typeof s&&Number.isInteger(s)&&!lr(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}class ln{constructor(e){this.path=e}static fromPath(e){return new ln(qr.fromString(e))}static fromName(e){return new ln(qr.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===qr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,i){return qr.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ln(new qr(e.slice()))}}function Di(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?sn(s)?4:10:gn()}function gs(s,e){const i=Di(s);if(i!==Di(e))return!1;switch(i){case 0:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return bn(s).isEqual(bn(e));case 3:return function(a,c){if("string"==typeof a.timestampValue&&"string"==typeof c.timestampValue&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const p=_e(a.timestampValue),w=_e(c.timestampValue);return p.seconds===w.seconds&&p.nanos===w.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return c=e,gt(s.bytesValue).isEqual(gt(c.bytesValue));case 7:return s.referenceValue===e.referenceValue;case 8:return function(a,c){return Te(a.geoPointValue.latitude)===Te(c.geoPointValue.latitude)&&Te(a.geoPointValue.longitude)===Te(c.geoPointValue.longitude)}(s,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return Te(a.integerValue)===Te(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const p=Te(a.doubleValue),w=Te(c.doubleValue);return p===w?lr(p)===lr(w):isNaN(p)&&isNaN(w)}return!1}(s,e);case 9:return Do(s.arrayValue.values||[],e.arrayValue.values||[],gs);case 10:return function(a,c){const p=a.mapValue.fields||{},w=c.mapValue.fields||{};if(Ma(p)!==Ma(w))return!1;for(const k in p)if(p.hasOwnProperty(k)&&(void 0===w[k]||!gs(p[k],w[k])))return!1;return!0}(s,e);default:return gn()}var c}function Sr(s,e){return void 0!==(s.values||[]).find(i=>gs(i,e))}function os(s,e){const i=Di(s),a=Di(e);if(i!==a)return tr(i,a);switch(i){case 0:return 0;case 1:return tr(s.booleanValue,e.booleanValue);case 2:return function(c,p){const w=Te(c.integerValue||c.doubleValue),k=Te(p.integerValue||p.doubleValue);return w<k?-1:w>k?1:w===k?0:isNaN(w)?isNaN(k)?0:-1:1}(s,e);case 3:return Wo(s.timestampValue,e.timestampValue);case 4:return Wo(bn(s),bn(e));case 5:return tr(s.stringValue,e.stringValue);case 6:return function(c,p){const w=gt(c),k=gt(p);return w.compareTo(k)}(s.bytesValue,e.bytesValue);case 7:return function(c,p){const w=c.split("/"),k=p.split("/");for(let z=0;z<w.length&&z<k.length;z++){const ce=tr(w[z],k[z]);if(0!==ce)return ce}return tr(w.length,k.length)}(s.referenceValue,e.referenceValue);case 8:return function(c,p){const w=tr(Te(c.latitude),Te(p.latitude));return 0!==w?w:tr(Te(c.longitude),Te(p.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return function(c,p){const w=c.values||[],k=p.values||[];for(let z=0;z<w.length&&z<k.length;++z){const ce=os(w[z],k[z]);if(ce)return ce}return tr(w.length,k.length)}(s.arrayValue,e.arrayValue);case 10:return function(c,p){const w=c.fields||{},k=Object.keys(w),z=p.fields||{},ce=Object.keys(z);k.sort(),ce.sort();for(let we=0;we<k.length&&we<ce.length;++we){const je=tr(k[we],ce[we]);if(0!==je)return je;const ht=os(w[k[we]],z[ce[we]]);if(0!==ht)return ht}return tr(k.length,ce.length)}(s.mapValue,e.mapValue);default:throw gn()}}function Wo(s,e){if("string"==typeof s&&"string"==typeof e&&s.length===e.length)return tr(s,e);const i=_e(s),a=_e(e),c=tr(i.seconds,a.seconds);return 0!==c?c:tr(i.nanos,a.nanos)}function Tu(s){return yc(s)}function yc(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(a){const c=_e(a);return`time(${c.seconds},${c.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?gt(s.bytesValue).toBase64():"referenceValue"in s?ln.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(e=s.geoPointValue).latitude},${e.longitude})`:"arrayValue"in s?function(a){let c="[",p=!0;for(const w of a.values||[])p?p=!1:c+=",",c+=yc(w);return c+"]"}(s.arrayValue):"mapValue"in s?function(a){const c=Object.keys(a.fields||{}).sort();let p="{",w=!0;for(const k of c)w?w=!1:p+=",",p+=`${k}:${yc(a.fields[k])}`;return p+"}"}(s.mapValue):gn();var e}function Ms(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Ko(s){return!!s&&"integerValue"in s}function Oa(s){return!!s&&"arrayValue"in s}function sa(s){return!!s&&"nullValue"in s}function to(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Na(s){return!!s&&"mapValue"in s}function Hu(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Xs(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Hu(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Hu(s.arrayValue.values[i]);return e}return Object.assign({},s)}class Ps{constructor(e){this.value=e}static empty(){return new Ps({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Na(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hu(i)}setAll(e){let i=v.emptyPath(),a={},c=[];e.forEach((w,k)=>{if(!i.isImmediateParentOf(k)){const z=this.getFieldsMap(i);this.applyChanges(z,a,c),a={},c=[],i=k.popLast()}w?a[k.lastSegment()]=Hu(w):c.push(k.lastSegment())});const p=this.getFieldsMap(i);this.applyChanges(p,a,c)}delete(e){const i=this.field(e.popLast());Na(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return gs(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let c=i.mapValue.fields[e.get(a)];Na(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=c),i=c}return i.mapValue.fields}applyChanges(e,i,a){Xs(i,(c,p)=>e[c]=p);for(const c of a)delete e[c]}clone(){return new Ps(Hu(this.value))}}function Ia(s){const e=[];return Xs(s.fields,(i,a)=>{const c=new v([i]);if(Na(a)){const p=Ia(a.mapValue).fields;if(0===p.length)e.push(c);else for(const w of p)e.push(c.child(w))}else e.push(c)}),new m(e)}class wi{constructor(e,i,a,c,p){this.key=e,this.documentType=i,this.version=a,this.data=c,this.documentState=p}static newInvalidDocument(e){return new wi(e,0,Fn.min(),Ps.empty(),0)}static newFoundDocument(e,i,a){return new wi(e,1,i,a,0)}static newNoDocument(e,i){return new wi(e,2,i,Ps.empty(),0)}static newUnknownDocument(e,i){return new wi(e,3,i,Ps.empty(),2)}convertToFoundDocument(e,i){return this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ps.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ps.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new wi(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class oa{constructor(e,i=null,a=[],c=[],p=null,w=null,k=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=c,this.limit=p,this.startAt=w,this.endAt=k,this.A=null}}function no(s,e=null,i=[],a=[],c=null,p=null,w=null){return new oa(s,e,i,a,c,p,w)}function ka(s){const e=Jt(s);if(null===e.A){let i=e.path.canonicalString();null!==e.collectionGroup&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>function(s){return s.field.canonicalString()+s.op.toString()+Tu(s.value)}(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>{return(c=a).field.canonicalString()+c.dir;var c}).join(","),ur(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=xr(e.startAt)),e.endAt&&(i+="|ub:",i+=xr(e.endAt)),e.A=i}return e.A}function jl(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let c=0;c<s.orderBy.length;c++)if(!Ao(s.orderBy[c],e.orderBy[c]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let c=0;c<s.filters.length;c++)if((i=s.filters[c]).op!==(a=e.filters[c]).op||!i.field.isEqual(a.field)||!gs(i.value,a.value))return!1;var i,a;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!La(s.startAt,e.startAt)&&La(s.endAt,e.endAt)}function $u(s){return ln.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}class Os extends class{}{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?"in"===i||"not-in"===i?this.R(e,i,a):new B(e,i,a):"array-contains"===i?new st(e,a):"in"===i?new At(e,a):"not-in"===i?new cn(e,a):"array-contains-any"===i?new $t(e,a):new Os(e,i,a)}static R(e,i,a){return"in"===i?new Q(e,a):new ge(e,a)}matches(e){const i=e.data.field(this.field);return"!="===this.op?null!==i&&this.P(os(i,this.value)):null!==i&&Di(this.value)===Di(i)&&this.P(os(i,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gn()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class B extends Os{constructor(e,i,a){super(e,i,a),this.key=ln.fromName(a.referenceValue)}matches(e){const i=ln.comparator(e.key,this.key);return this.P(i)}}class Q extends Os{constructor(e,i){super(e,"in",i),this.keys=We(0,i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class ge extends Os{constructor(e,i){super(e,"not-in",i),this.keys=We(0,i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function We(s,e){var i;return((null===(i=e.arrayValue)||void 0===i?void 0:i.values)||[]).map(a=>ln.fromName(a.referenceValue))}class st extends Os{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Oa(i)&&Sr(i.arrayValue,this.value)}}class At extends Os{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return null!==i&&Sr(this.value.arrayValue,i)}}class cn extends Os{constructor(e,i){super(e,"not-in",i)}matches(e){if(Sr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return null!==i&&!Sr(this.value.arrayValue,i)}}class $t extends Os{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Oa(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Sr(this.value.arrayValue,a))}}class Nn{constructor(e,i){this.position=e,this.before=i}}function xr(s){return`${s.before?"b":"a"}:${s.position.map(e=>Tu(e)).join(",")}`}class Ji{constructor(e,i="asc"){this.field=e,this.dir=i}}function Ao(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}function as(s,e,i){let a=0;for(let c=0;c<s.position.length;c++){const p=e[c],w=s.position[c];if(a=p.field.isKeyField()?ln.comparator(ln.fromName(w.referenceValue),i.key):os(w,i.data.field(p.field)),"desc"===p.dir&&(a*=-1),0!==a)break}return s.before?a<=0:a<0}function La(s,e){if(null===s)return null===e;if(null===e||s.before!==e.before||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!gs(s.position[i],e.position[i]))return!1;return!0}class Yo{constructor(e,i=null,a=[],c=[],p=null,w="F",k=null,z=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=c,this.limit=p,this.limitType=w,this.startAt=k,this.endAt=z,this.V=null,this.S=null}}function Va(s,e,i,a,c,p,w,k){return new Yo(s,e,i,a,c,p,w,k)}function Is(s){return new Yo(s)}function Ns(s){return!ur(s.limit)&&"F"===s.limitType}function Gu(s){return!ur(s.limit)&&"L"===s.limitType}function Xi(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function _c(s){for(const e of s.filters)if(e.v())return e.field;return null}function vc(s){return null!==s.collectionGroup}function aa(s){const e=Jt(s);if(null===e.V){e.V=[];const i=_c(e),a=Xi(e);if(null!==i&&null===a)i.isKeyField()||e.V.push(new Ji(i)),e.V.push(new Ji(v.keyField(),"asc"));else{let c=!1;for(const p of e.explicitOrderBy)e.V.push(p),p.field.isKeyField()&&(c=!0);if(!c){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new Ji(v.keyField(),p))}}}return e.V}function ro(s){const e=Jt(s);if(!e.S)if("F"===e.limitType)e.S=no(e.path,e.collectionGroup,aa(e),e.filters,e.limit,e.startAt,e.endAt);else{const i=[];for(const p of aa(e))i.push(new Ji(p.field,"desc"===p.dir?"asc":"desc"));const a=e.endAt?new Nn(e.endAt.position,!e.endAt.before):null,c=e.startAt?new Nn(e.startAt.position,!e.startAt.before):null;e.S=no(e.path,e.collectionGroup,i,e.filters,e.limit,a,c)}return e.S}function rd(s,e,i){return new Yo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function ll(s,e){return jl(ro(s),ro(e))&&s.limitType===e.limitType}function cl(s){return`${ka(ro(s))}|lt:${s.limitType}`}function eh(s){return`Query(target=${function(s){let e=s.path.canonicalString();return null!==s.collectionGroup&&(e+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(e+=`, filters: [${s.filters.map(i=>{return`${(a=i).field.canonicalString()} ${a.op} ${Tu(a.value)}`;var a}).join(", ")}]`),ur(s.limit)||(e+=", limit: "+s.limit),s.orderBy.length>0&&(e+=`, orderBy: [${s.orderBy.map(i=>{return`${(a=i).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),s.startAt&&(e+=", startAt: "+xr(s.startAt)),s.endAt&&(e+=", endAt: "+xr(s.endAt)),`Target(${e})`}(ro(s))}; limitType=${s.limitType})`}function Ua(s,e){return e.isFoundDocument()&&function(i,a){const c=a.key.path;return null!==i.collectionGroup?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):ln.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(s,e)&&function(i,a){for(const c of i.explicitOrderBy)if(!c.field.isKeyField()&&null===a.data.field(c.field))return!1;return!0}(s,e)&&function(i,a){for(const c of i.filters)if(!c.matches(a))return!1;return!0}(s,e)&&(a=e,!((i=s).startAt&&!as(i.startAt,aa(i),a)||i.endAt&&as(i.endAt,aa(i),a)));var i,a}function Ba(s){return(e,i)=>{let a=!1;for(const c of aa(s)){const p=wc(c,e,i);if(0!==p)return p;a=a||c.field.isKeyField()}return 0}}function wc(s,e,i){const a=s.field.isKeyField()?ln.comparator(e.key,i.key):function(c,p,w){const k=p.data.field(c),z=w.data.field(c);return null!==k&&null!==z?os(k,z):gn()}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return gn()}}function Ka(s,e){if(s.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lr(e)?"-0":e}}function th(s){return{integerValue:""+s}}function id(s,e){return ia(e)?th(e):Ka(s,e)}class dl{constructor(){this._=void 0}}function hl(s,e,i){return s instanceof fl?function(a,c){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&(p.fields.__previous_value__=c),{mapValue:p}}(i,e):s instanceof ua?pl(s,e):s instanceof Du?Qf(s,e):function(a,c){const p=rh(a,c),w=ih(p)+ih(a.C);return Ko(p)&&Ko(a.C)?th(w):Ka(a.N,w)}(s,e)}function nh(s,e,i){return s instanceof ua?pl(s,e):s instanceof Du?Qf(s,e):i}function rh(s,e){return s instanceof qu?Ko(i=e)||(a=i)&&"doubleValue"in a?e:{integerValue:0}:null;var a,i}class fl extends dl{}class ua extends dl{constructor(e){super(),this.elements=e}}function pl(s,e){const i=Jf(e);for(const a of s.elements)i.some(c=>gs(c,a))||i.push(a);return{arrayValue:{values:i}}}class Du extends dl{constructor(e){super(),this.elements=e}}function Qf(s,e){let i=Jf(e);for(const a of s.elements)i=i.filter(c=>!gs(c,a));return{arrayValue:{values:i}}}class qu extends dl{constructor(e,i){super(),this.N=e,this.C=i}}function ih(s){return Te(s.integerValue||s.doubleValue)}function Jf(s){return Oa(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class zu{constructor(e,i){this.field=e,this.transform=i}}class sd{constructor(e,i){this.version=e,this.transformResults=i}}class Gi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Gi}static exists(e){return new Gi(void 0,e)}static updateTime(e){return new Gi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zu(s,e){return void 0!==s.updateTime?e.isFoundDocument()&&e.version.isEqual(s.updateTime):void 0===s.exists||s.exists===e.isFoundDocument()}class Ya{}function od(s,e,i){s instanceof ml?function(a,c,p){const w=a.value.clone(),k=So(a.fieldTransforms,c,p.transformResults);w.setAll(k),c.convertToFoundDocument(p.version,w).setHasCommittedMutations()}(s,e,i):s instanceof Qa?function(a,c,p){if(!Zu(a.precondition,c))return void c.convertToUnknownDocument(p.version);const w=So(a.fieldTransforms,c,p.transformResults),k=c.data;k.setAll(sh(a)),k.setAll(w),c.convertToFoundDocument(p.version,k).setHasCommittedMutations()}(s,e,i):e.convertToNoDocument(i.version).setHasCommittedMutations()}function ad(s,e,i){var c;s instanceof ml?function(a,c,p){if(!Zu(a.precondition,c))return;const w=a.value.clone(),k=oh(a.fieldTransforms,p,c);w.setAll(k),c.convertToFoundDocument(bc(c),w).setHasLocalMutations()}(s,e,i):s instanceof Qa?function(a,c,p){if(!Zu(a.precondition,c))return;const w=oh(a.fieldTransforms,p,c),k=c.data;k.setAll(sh(a)),k.setAll(w),c.convertToFoundDocument(bc(c),k).setHasLocalMutations()}(s,e,i):Zu(s.precondition,c=e)&&c.convertToNoDocument(Fn.min())}function ep(s,e){let i=null;for(const a of s.fieldTransforms){const c=e.data.field(a.field),p=rh(a.transform,c||null);null!=p&&(null==i&&(i=Ps.empty()),i.set(a.field,p))}return i||null}function gl(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(i=s.fieldTransforms)&&void 0===a||i&&a&&Do(i,a,(c,p)=>function(s,e){return s.field.isEqual(e.field)&&(a=e.transform,(i=s.transform)instanceof ua&&a instanceof ua||i instanceof Du&&a instanceof Du?Do(i.elements,a.elements,gs):i instanceof qu&&a instanceof qu?gs(i.C,a.C):i instanceof fl&&a instanceof fl);var i,a}(c,p))))&&(0===s.type?s.value.isEqual(e.value):1!==s.type||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask));var i,a}function bc(s){return s.isFoundDocument()?s.version:Fn.min()}class ml extends Ya{constructor(e,i,a,c=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=c,this.type=0}}class Qa extends Ya{constructor(e,i,a,c,p=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=c,this.fieldTransforms=p,this.type=1}}function sh(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function So(s,e,i){const a=new Map;On(s.length===i.length);for(let c=0;c<i.length;c++){const p=s[c],w=p.transform,k=e.data.field(p.field);a.set(p.field,nh(w,k,i[c]))}return a}function oh(s,e,i){const a=new Map;for(const c of s){const p=c.transform,w=i.data.field(c.field);a.set(c.field,hl(p,w,e))}return a}class Hl extends Ya{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}}class $l extends Ya{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}}class tp{constructor(e){this.count=e}}var es,cr;function Wu(s){switch(s){default:return gn();case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0}}function Gl(s){if(void 0===s)return vi("GRPC error has no .code"),at.UNKNOWN;switch(s){case es.OK:return at.OK;case es.CANCELLED:return at.CANCELLED;case es.UNKNOWN:return at.UNKNOWN;case es.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case es.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case es.INTERNAL:return at.INTERNAL;case es.UNAVAILABLE:return at.UNAVAILABLE;case es.UNAUTHENTICATED:return at.UNAUTHENTICATED;case es.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case es.NOT_FOUND:return at.NOT_FOUND;case es.ALREADY_EXISTS:return at.ALREADY_EXISTS;case es.PERMISSION_DENIED:return at.PERMISSION_DENIED;case es.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case es.ABORTED:return at.ABORTED;case es.OUT_OF_RANGE:return at.OUT_OF_RANGE;case es.UNIMPLEMENTED:return at.UNIMPLEMENTED;case es.DATA_LOSS:return at.DATA_LOSS;default:return gn()}}(cr=es||(es={}))[cr.OK=0]="OK",cr[cr.CANCELLED=1]="CANCELLED",cr[cr.UNKNOWN=2]="UNKNOWN",cr[cr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cr[cr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cr[cr.NOT_FOUND=5]="NOT_FOUND",cr[cr.ALREADY_EXISTS=6]="ALREADY_EXISTS",cr[cr.PERMISSION_DENIED=7]="PERMISSION_DENIED",cr[cr.UNAUTHENTICATED=16]="UNAUTHENTICATED",cr[cr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cr[cr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cr[cr.ABORTED=10]="ABORTED",cr[cr.OUT_OF_RANGE=11]="OUT_OF_RANGE",cr[cr.UNIMPLEMENTED=12]="UNIMPLEMENTED",cr[cr.INTERNAL=13]="INTERNAL",cr[cr.UNAVAILABLE=14]="UNAVAILABLE",cr[cr.DATA_LOSS=15]="DATA_LOSS";class Ts{constructor(e,i){this.comparator=e,this.root=i||Ds.EMPTY}insert(e,i){return new Ts(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ds.BLACK,null,null))}remove(e){return new Ts(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ds.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(0===a)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const c=this.comparator(e,a.key);if(0===c)return i+a.left.size;c<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ec(this.root,e,this.comparator,!0)}}class Ec{constructor(e,i,a,c){this.isReverse=c,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=i?a(e.key,i):1,c&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ds{constructor(e,i,a,c,p){this.key=e,this.value=i,this.color=null!=a?a:Ds.RED,this.left=null!=c?c:Ds.EMPTY,this.right=null!=p?p:Ds.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,c,p){return new Ds(null!=e?e:this.key,null!=i?i:this.value,null!=a?a:this.color,null!=c?c:this.left,null!=p?p:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let c=this;const p=a(e,c.key);return c=p<0?c.copy(null,null,null,c.left.insert(e,i,a),null):0===p?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(e,i,a)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Ds.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,c=this;if(i(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,i),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===i(e,c.key)){if(c.right.isEmpty())return Ds.EMPTY;a=c.right.min(),c=c.copy(a.key,a.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,i))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ds.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ds.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gn();const e=this.left.check();if(e!==this.right.check())throw gn();return e+(this.isRed()?0:1)}}Ds.EMPTY=null,Ds.RED=!0,Ds.BLACK=!1,Ds.EMPTY=new class{constructor(){this.size=0}get key(){throw gn()}get value(){throw gn()}get color(){throw gn()}get left(){throw gn()}get right(){throw gn()}copy(s,e,i,a,c){return this}insert(s,e,i){return new Ds(s,e)}remove(s,e){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ts{constructor(e){this.comparator=e,this.data=new Ts(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const c=a.getNext();if(this.comparator(c.key,e[1])>=0)return;i(c.key)}}forEachWhile(e,i){let a;for(a=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new ah(this.data.getIterator())}getIteratorFrom(e){return new ah(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof ts)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const c=i.getNext().key,p=a.getNext().key;if(0!==this.comparator(c,p))return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new ts(this.comparator);return i.data=e,i}}class ah{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const uh=new Ts(ln.comparator);function la(){return uh}const np=new Ts(ln.comparator);function Cc(){return np}const ud=new Ts(ln.comparator);function rp(){return ud}const ip=new ts(ln.comparator);function Ur(...s){let e=ip;for(const i of s)e=e.add(i);return e}const Ic=new ts(tr);function Qo(){return Ic}class Ja{constructor(e,i,a,c,p){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=c,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,i){const a=new Map;return a.set(e,Xa.createSynthesizedTargetChangeForCurrentChange(e,i)),new Ja(Fn.min(),a,Qo(),la(),Ur())}}class Xa{constructor(e,i,a,c,p){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=c,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,i){return new Xa(V.EMPTY_BYTE_STRING,i,Ur(),Ur(),Ur())}}class ql{constructor(e,i,a,c){this.k=e,this.removedTargetIds=i,this.key=a,this.$=c}}class ld{constructor(e,i){this.targetId=e,this.O=i}}class sp{constructor(e,i,a=V.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=c}}class lh{constructor(){this.F=0,this.M=Dc(),this.L=V.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=Ur(),i=Ur(),a=Ur();return this.M.forEach((c,p)=>{switch(p){case 0:e=e.add(c);break;case 2:i=i.add(c);break;case 1:a=a.add(c);break;default:gn()}}),new Xa(this.L,this.B,e,i,a)}G(){this.U=!1,this.M=Dc()}H(e,i){this.U=!0,this.M=this.M.insert(e,i)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class cm{constructor(e){this.tt=e,this.et=new Map,this.nt=la(),this.st=Tc(),this.it=new ts(tr)}rt(e){for(const i of e.k)e.$&&e.$.isFoundDocument()?this.ot(i,e.$):this.at(i,e.key,e.$);for(const i of e.removedTargetIds)this.at(i,e.key,e.$)}ct(e){this.forEachTarget(e,i=>{const a=this.ut(i);switch(e.state){case 0:this.ht(i)&&a.j(e.resumeToken);break;case 1:a.X(),a.q||a.G(),a.j(e.resumeToken);break;case 2:a.X(),a.q||this.removeTarget(i);break;case 3:this.ht(i)&&(a.Z(),a.j(e.resumeToken));break;case 4:this.ht(i)&&(this.lt(i),a.j(e.resumeToken));break;default:gn()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.et.forEach((a,c)=>{this.ht(c)&&i(c)})}ft(e){const i=e.targetId,a=e.O.count,c=this.dt(i);if(c){const p=c.target;if($u(p))if(0===a){const w=new ln(p.path);this.at(i,w,wi.newNoDocument(w,Fn.min()))}else On(1===a);else this.wt(i)!==a&&(this.lt(i),this.it=this.it.add(i))}}_t(e){const i=new Map;this.et.forEach((p,w)=>{const k=this.dt(w);if(k){if(p.current&&$u(k.target)){const z=new ln(k.target.path);null!==this.nt.get(z)||this.gt(w,z)||this.at(w,z,wi.newNoDocument(z,e))}p.K&&(i.set(w,p.W()),p.G())}});let a=Ur();this.st.forEach((p,w)=>{let k=!0;w.forEachWhile(z=>{const ce=this.dt(z);return!ce||2===ce.purpose||(k=!1,!1)}),k&&(a=a.add(p))});const c=new Ja(e,i,this.it,this.nt,a);return this.nt=la(),this.st=Tc(),this.it=new ts(tr),c}ot(e,i){if(!this.ht(e))return;const a=this.gt(e,i.key)?2:0;this.ut(e).H(i.key,a),this.nt=this.nt.insert(i.key,i),this.st=this.st.insert(i.key,this.yt(i.key).add(e))}at(e,i,a){if(!this.ht(e))return;const c=this.ut(e);this.gt(e,i)?c.H(i,1):c.J(i),this.st=this.st.insert(i,this.yt(i).delete(e)),a&&(this.nt=this.nt.insert(i,a))}removeTarget(e){this.et.delete(e)}wt(e){const i=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let i=this.et.get(e);return i||(i=new lh,this.et.set(e,i)),i}yt(e){let i=this.st.get(e);return i||(i=new ts(tr),this.st=this.st.insert(e,i)),i}ht(e){const i=null!==this.dt(e);return i||Nt("WatchChangeAggregator","Detected inactive target",e),i}dt(e){const i=this.et.get(e);return i&&i.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new lh),this.tt.getRemoteKeysForTarget(e).forEach(i=>{this.at(e,i,null)})}gt(e,i){return this.tt.getRemoteKeysForTarget(e).has(i)}}function Tc(){return new Ts(ln.comparator)}function Dc(){return new Ts(ln.comparator)}const cd={asc:"ASCENDING",desc:"DESCENDING"},dd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class dm{constructor(e,i){this.databaseId=e,this.D=i}}function Ku(s,e){return s.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ch(s,e){return s.D?e.toBase64():e.toUint8Array()}function op(s,e){return Ku(s,e.toTimestamp())}function ks(s){return On(!!s),Fn.fromTimestamp(function(e){const i=_e(e);return new Ti(i.seconds,i.nanos)}(s))}function hd(s,e){return(i=s,new qr(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function Ac(s){const e=qr.fromString(s);return On(gd(e)),e}function ja(s,e){return hd(s.databaseId,e.path)}function Jo(s,e){const i=Ac(e);if(i.get(1)!==s.databaseId.projectId)throw new Dt(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new Dt(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ln(xo(i))}function yl(s,e){return hd(s.databaseId,e)}function dh(s){const e=Ac(s);return 4===e.length?qr.emptyPath():xo(e)}function gi(s){return new qr(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function xo(s){return On(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function _l(s,e,i){return{name:ja(s,e),fields:i.value.mapValue.fields}}function zl(s,e,i){const a=Jo(s,e.name),c=ks(e.updateTime),p=new Ps({mapValue:{fields:e.fields}}),w=wi.newFoundDocument(a,c,p);return i&&w.setHasCommittedMutations(),i?w.setHasCommittedMutations():w}function vl(s,e){let i;if(e instanceof ml)i={update:_l(s,e.key,e.value)};else if(e instanceof Hl)i={delete:ja(s,e.key)};else if(e instanceof Qa)i={update:_l(s,e.key,e.data),updateMask:pd(e.fieldMask)};else{if(!(e instanceof $l))return gn();i={verify:ja(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(c,p){const w=p.transform;if(w instanceof fl)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(w instanceof ua)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:w.elements}};if(w instanceof Du)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:w.elements}};if(w instanceof qu)return{fieldPath:p.field.canonicalString(),increment:w.C};throw gn()}(0,a))),e.precondition.isNone||(i.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:op(s,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:gn()),i;var c}function fh(s,e){const i=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?Gi.updateTime(ks(c.updateTime)):void 0!==c.exists?Gi.exists(c.exists):Gi.none():Gi.none(),a=e.updateTransforms?e.updateTransforms.map(c=>function(p,w){let k=null;"setToServerValue"in w?(On("REQUEST_TIME"===w.setToServerValue),k=new fl):"appendMissingElements"in w?k=new ua(w.appendMissingElements.values||[]):"removeAllFromArray"in w?k=new Du(w.removeAllFromArray.values||[]):"increment"in w?k=new qu(p,w.increment):gn();const z=v.fromServerFormat(w.fieldPath);return new zu(z,k)}(s,c)):[];var c;if(e.update){const c=Jo(s,e.update.name),p=new Ps({mapValue:{fields:e.update.fields}});if(e.updateMask){const w=new m((e.updateMask.fieldPaths||[]).map(ce=>v.fromServerFormat(ce)));return new Qa(c,p,w,i,a)}return new ml(c,p,i,a)}if(e.delete){const c=Jo(s,e.delete);return new Hl(c,i)}if(e.verify){const c=Jo(s,e.verify);return new $l(c,i)}return gn()}function gh(s,e){return{documents:[yl(s,e.path)]}}function Au(s,e){const i={structuredQuery:{}},a=e.path;null!==e.collectionGroup?(i.parent=yl(s,a),i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i.parent=yl(s,a.popLast()),i.structuredQuery.from=[{collectionId:a.lastSegment()}]);const c=function(k){if(0===k.length)return;const z=k.map(ce=>function(we){if("=="===we.op){if(to(we.value))return{unaryFilter:{field:ca(we.field),op:"IS_NAN"}};if(sa(we.value))return{unaryFilter:{field:ca(we.field),op:"IS_NULL"}}}else if("!="===we.op){if(to(we.value))return{unaryFilter:{field:ca(we.field),op:"IS_NOT_NAN"}};if(sa(we.value))return{unaryFilter:{field:ca(we.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ca(we.field),op:Fs(we.op),value:we.value}}}(ce));return 1===z.length?z[0]:{compositeFilter:{op:"AND",filters:z}}}(e.filters);c&&(i.structuredQuery.where=c);const p=function(k){if(0!==k.length)return k.map(z=>{return{field:ca((ce=z).field),direction:vo(ce.dir)};var ce})}(e.orderBy);p&&(i.structuredQuery.orderBy=p);const w=(z=e.limit,s.D||ur(z)?z:{value:z});var z;return null!==w&&(i.structuredQuery.limit=w),e.startAt&&(i.structuredQuery.startAt=Sc(e.startAt)),e.endAt&&(i.structuredQuery.endAt=Sc(e.endAt)),i}function mh(s){let e=dh(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let c=null;if(a>0){On(1===a);const we=i.from[0];we.allDescendants?c=we.collectionId:e=e.child(we.collectionId)}let p=[];i.where&&(p=io(i.where));let w=[];i.orderBy&&(w=i.orderBy.map(we=>{return new Ji(Su((je=we).field),function(ht){switch(ht){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(je.direction));var je}));let k=null;i.limit&&(k=function(we){let je;return je="object"==typeof we?we.value:we,ur(je)?null:je}(i.limit));let z=null;i.startAt&&(z=xc(i.startAt));let ce=null;return i.endAt&&(ce=xc(i.endAt)),Va(e,c,w,p,k,"F",z,ce)}function io(s){return s?void 0!==s.unaryFilter?[Wl(s)]:void 0!==s.fieldFilter?[eu(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(e=>io(e)).reduce((e,i)=>e.concat(i)):gn():[]}function Sc(s){return{before:s.before,values:s.position}}function xc(s){return new Nn(s.values||[],!!s.before)}function vo(s){return cd[s]}function Fs(s){return dd[s]}function ca(s){return{fieldPath:s.canonicalString()}}function Su(s){return v.fromServerFormat(s.fieldPath)}function eu(s){return Os.create(Su(s.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gn()}}(s.fieldFilter.op),s.fieldFilter.value)}function Wl(s){switch(s.unaryFilter.op){case"IS_NAN":const e=Su(s.unaryFilter.field);return Os.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=Su(s.unaryFilter.field);return Os.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Su(s.unaryFilter.field);return Os.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Su(s.unaryFilter.field);return Os.create(c,"!=",{nullValue:"NULL_VALUE"});default:return gn()}}function pd(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function gd(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function Ro(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=md(e)),e=ap(s.get(i),e);return md(e)}function ap(s,e){let i=e;const a=s.length;for(let c=0;c<a;c++){const p=s.charAt(c);switch(p){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=p}}return i}function md(s){return s+"\x01\x01"}function tu(s){const e=s.length;if(On(e>=2),2===e)return On("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),qr.emptyPath();const i=e-2,a=[];let c="";for(let p=0;p<e;){const w=s.indexOf("\x01",p);switch((w<0||w>i)&&gn(),s.charAt(w+1)){case"\x01":const k=s.substring(p,w);let z;0===c.length?z=k:(c+=k,z=c,c=""),a.push(z);break;case"\x10":c+=s.substring(p,w),c+="\0";break;case"\x11":c+=s.substring(p,w+1);break;default:gn()}p=w+2}return new qr(a)}class up{constructor(e,i){this.seconds=e,this.nanoseconds=i}}class _{constructor(e,i,a){this.ownerId=e,this.allowTabSynchronization=i,this.leaseTimestampMs=a}}_.store="owner",_.key="owner";class d{constructor(e,i,a){this.userId=e,this.lastAcknowledgedBatchId=i,this.lastStreamToken=a}}d.store="mutationQueues",d.keyPath="userId";class h{constructor(e,i,a,c,p){this.userId=e,this.batchId=i,this.localWriteTimeMs=a,this.baseMutations=c,this.mutations=p}}h.store="mutations",h.keyPath="batchId",h.userMutationsIndex="userMutationsIndex",h.userMutationsKeyPath=["userId","batchId"];class b{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,i){return[e,Ro(i)]}static key(e,i,a){return[e,Ro(i),a]}}b.store="documentMutations",b.PLACEHOLDER=new b;class G{constructor(e,i){this.path=e,this.readTime=i}}class ae{constructor(e,i){this.path=e,this.version=i}}class Ne{constructor(e,i,a,c,p,w){this.unknownDocument=e,this.noDocument=i,this.document=a,this.hasCommittedMutations=c,this.readTime=p,this.parentPath=w}}Ne.store="remoteDocuments",Ne.readTimeIndex="readTimeIndex",Ne.readTimeIndexPath="readTime",Ne.collectionReadTimeIndex="collectionReadTimeIndex",Ne.collectionReadTimeIndexPath=["parentPath","readTime"];class ct{constructor(e){this.byteSize=e}}ct.store="remoteDocumentGlobal",ct.key="remoteDocumentGlobalKey";class Bt{constructor(e,i,a,c,p,w,k){this.targetId=e,this.canonicalId=i,this.readTime=a,this.resumeToken=c,this.lastListenSequenceNumber=p,this.lastLimboFreeSnapshotVersion=w,this.query=k}}Bt.store="targets",Bt.keyPath="targetId",Bt.queryTargetsIndexName="queryTargetsIndex",Bt.queryTargetsKeyPath=["canonicalId","targetId"];class tn{constructor(e,i,a){this.targetId=e,this.path=i,this.sequenceNumber=a}}tn.store="targetDocuments",tn.keyPath=["targetId","path"],tn.documentTargetsIndex="documentTargetsIndex",tn.documentTargetsKeyPath=["path","targetId"];class yn{constructor(e,i,a,c){this.highestTargetId=e,this.highestListenSequenceNumber=i,this.lastRemoteSnapshotVersion=a,this.targetCount=c}}yn.key="targetGlobalKey",yn.store="targetGlobal";class Dn{constructor(e,i){this.collectionId=e,this.parent=i}}Dn.store="collectionParents",Dn.keyPath=["collectionId","parent"];class bi{constructor(e,i,a,c){this.clientId=e,this.updateTimeMs=i,this.networkEnabled=a,this.inForeground=c}}bi.store="clientMetadata",bi.keyPath="clientId";class so{constructor(e,i,a){this.bundleId=e,this.createTime=i,this.version=a}}so.store="bundles",so.keyPath="bundleId";class nu{constructor(e,i,a){this.name=e,this.readTime=i,this.bundledQuery=a}}nu.store="namedQueries",nu.keyPath="name";const yh=[d.store,h.store,b.store,Ne.store,Bt.store,_.store,yn.store,tn.store,bi.store,ct.store,Dn.store,so.store,nu.store],Yu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class xt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&gn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new xt((a,c)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(a,c)},this.catchCallback=p=>{this.wrapFailure(i,p).next(a,c)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof xt?i:xt.resolve(i)}catch(i){return xt.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):xt.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):xt.reject(i)}static resolve(e){return new xt((i,a)=>{i(e)})}static reject(e){return new xt((i,a)=>{a(e)})}static waitFor(e){return new xt((i,a)=>{let c=0,p=0,w=!1;e.forEach(k=>{++c,k.next(()=>{++p,w&&p===c&&i()},z=>a(z))}),w=!0,p===c&&i()})}static or(e){let i=xt.resolve(!1);for(const a of e)i=i.next(c=>c?xt.resolve(c):a());return i}static forEach(e,i){const a=[];return e.forEach((c,p)=>{a.push(i.call(this,c,p))}),this.waitFor(a)}}class wl{constructor(e,i){this.action=e,this.transaction=i,this.aborted=!1,this.Et=new Vi,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{i.error?this.Et.reject(new bl(e,i.error)):this.Et.resolve()},this.transaction.onerror=a=>{const c=El(a.target.error);this.Et.reject(new bl(e,c))}}static open(e,i,a,c){try{return new wl(i,e.transaction(c,a))}catch(p){throw new bl(i,p)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(Nt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const i=this.transaction.objectStore(e);return new lp(i)}}class da{constructor(e,i,a){this.name=e,this.version=i,this.At=a,12.2===da.Rt((0,he.z$)())&&vi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Nt("SimpleDb","Removing database:",e),iu(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,he.hl)())return!1;if(da.Pt())return!0;const e=(0,he.z$)(),i=da.Rt(e),a=0<i&&i<10,c=da.vt(e),p=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||p)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,i){return e.store(i)}static Rt(e){const i=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static vt(e){const i=e.match(/Android ([\d.]+)/i),a=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(a)}Dt(e){var i=this;return(0,ie.Z)(function*(){return i.db||(Nt("SimpleDb","Opening database:",i.name),i.db=yield new Promise((a,c)=>{const p=indexedDB.open(i.name,i.version);p.onsuccess=w=>{a(w.target.result)},p.onblocked=()=>{c(new bl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=w=>{const k=w.target.error;c("VersionError"===k.name?new Dt(at.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===k.name?new Dt(at.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+k):new bl(e,k))},p.onupgradeneeded=w=>{Nt("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',w.oldVersion),i.At.Ct(w.target.result,p.transaction,w.oldVersion,i.version).next(()=>{Nt("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.Nt&&(i.db.onversionchange=a=>i.Nt(a)),i.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=i=>e(i))}runTransaction(e,i,a,c){var p=this;return(0,ie.Z)(function*(){const w="readonly"===i;let k=0;for(;;){++k;try{p.db=yield p.Dt(e);const z=wl.open(p.db,e,w?"readonly":"readwrite",a),ce=c(z).catch(we=>(z.abort(we),xt.reject(we))).toPromise();return ce.catch(()=>{}),yield z.It,ce}catch(z){const ce="FirebaseError"!==z.name&&k<3;if(Nt("SimpleDb","Transaction failed with error:",z.message,"Retrying:",ce),p.close(),!ce)return Promise.reject(z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class yd{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return iu(this.kt.delete())}}class bl extends Dt{constructor(e,i){super(at.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function ru(s){return"IndexedDbTransactionError"===s.name}class lp{constructor(e){this.store=e}put(e,i){let a;return void 0!==i?(Nt("SimpleDb","PUT",this.store.name,e,i),a=this.store.put(i,e)):(Nt("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),iu(a)}add(e){return Nt("SimpleDb","ADD",this.store.name,e,e),iu(this.store.add(e))}get(e){return iu(this.store.get(e)).next(i=>(void 0===i&&(i=null),Nt("SimpleDb","GET",this.store.name,e,i),i))}delete(e){return Nt("SimpleDb","DELETE",this.store.name,e),iu(this.store.delete(e))}count(){return Nt("SimpleDb","COUNT",this.store.name),iu(this.store.count())}Lt(e,i){const a=this.cursor(this.options(e,i)),c=[];return this.Bt(a,(p,w)=>{c.push(w)}).next(()=>c)}Ut(e,i){Nt("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,i);a.qt=!1;const c=this.cursor(a);return this.Bt(c,(p,w,k)=>k.delete())}Kt(e,i){let a;i?a=e:(a={},i=e);const c=this.cursor(a);return this.Bt(c,i)}jt(e){const i=this.cursor({});return new xt((a,c)=>{i.onerror=p=>{const w=El(p.target.error);c(w)},i.onsuccess=p=>{const w=p.target.result;w?e(w.primaryKey,w.value).next(k=>{k?w.continue():a()}):a()}})}Bt(e,i){const a=[];return new xt((c,p)=>{e.onerror=w=>{p(w.target.error)},e.onsuccess=w=>{const k=w.target.result;if(!k)return void c();const z=new yd(k),ce=i(k.primaryKey,k.value,z);if(ce instanceof xt){const we=ce.catch(je=>(z.done(),xt.reject(je)));a.push(we)}z.isDone?c():null===z.Ft?k.continue():k.continue(z.Ft)}}).next(()=>xt.waitFor(a))}options(e,i){let a;return void 0!==e&&("string"==typeof e?a=e:i=e),{index:a,range:i}}cursor(e){let i="next";if(e.reverse&&(i="prev"),e.index){const a=this.store.index(e.index);return e.qt?a.openKeyCursor(e.range,i):a.openCursor(e.range,i)}return this.store.openCursor(e.range,i)}}function iu(s){return new xt((e,i)=>{s.onsuccess=a=>{e(a.target.result)},s.onerror=a=>{const c=El(a.target.error);i(c)}})}let _h=!1;function El(s){const e=da.Rt((0,he.z$)());if(e>=12.2&&e<13){const i="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(i)>=0){const a=new Dt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _h||(_h=!0,setTimeout(()=>{throw a},0)),a}}return s}class su extends Mo{constructor(e,i){super(),this.Qt=e,this.currentSequenceNumber=i}}function Ta(s,e){const i=Jt(s);return da.St(i.Qt,e)}class hm{constructor(e,i,a,c){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=c}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let c=0;c<this.mutations.length;c++){const p=this.mutations[c];p.key.isEqual(e.key)&&od(p,e,a[c])}}applyToLocalView(e){for(const i of this.baseMutations)i.key.isEqual(e.key)&&ad(i,e,this.localWriteTime);for(const i of this.mutations)i.key.isEqual(e.key)&&ad(i,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(i=>{const a=e.get(i.key),c=a;this.applyToLocalView(c),a.isValidDocument()||c.convertToNoDocument(Fn.min())})}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Ur())}isEqual(e){return this.batchId===e.batchId&&Do(this.mutations,e.mutations,(i,a)=>gl(i,a))&&Do(this.baseMutations,e.baseMutations,(i,a)=>gl(i,a))}}class vh{constructor(e,i,a,c){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=c}static from(e,i,a){On(e.mutations.length===a.length);let c=rp();const p=e.mutations;for(let w=0;w<p.length;w++)c=c.insert(p[w].key,a[w].version);return new vh(e,i,a,c)}}class Kl{constructor(e,i,a,c,p=Fn.min(),w=Fn.min(),k=V.EMPTY_BYTE_STRING){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=c,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=w,this.resumeToken=k}withSequenceNumber(e){return new Kl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,i){return new Kl(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Kl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ou{constructor(e){this.Wt=e}}function _d(s,e){if(e.document)return zl(s.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const i=ln.fromSegments(e.noDocument.path),a=Yl(e.noDocument.readTime),c=wi.newNoDocument(i,a);return e.hasCommittedMutations?c.setHasCommittedMutations():c}if(e.unknownDocument){const i=ln.fromSegments(e.unknownDocument.path),a=Yl(e.unknownDocument.version);return wi.newUnknownDocument(i,a)}return gn()}function wh(s,e,i){const a=cp(i),c=e.key.path.popLast().toArray();if(e.isFoundDocument()){const p={name:ja(k=s.Wt,(z=e).key),fields:z.data.value.mapValue.fields,updateTime:Ku(k,z.version.toTimestamp())};return new Ne(null,null,p,e.hasCommittedMutations,a,c)}var k,z;if(e.isNoDocument()){const p=e.key.path.toArray(),w=xu(e.version),k=e.hasCommittedMutations;return new Ne(null,new G(p,w),null,k,a,c)}if(e.isUnknownDocument()){const p=e.key.path.toArray(),w=xu(e.version);return new Ne(new ae(p,w),null,null,!0,a,c)}return gn()}function cp(s){const e=s.toTimestamp();return[e.seconds,e.nanoseconds]}function dp(s){const e=new Ti(s[0],s[1]);return Fn.fromTimestamp(e)}function xu(s){const e=s.toTimestamp();return new up(e.seconds,e.nanoseconds)}function Yl(s){const e=new Ti(s.seconds,s.nanoseconds);return Fn.fromTimestamp(e)}function Ql(s,e){const i=(e.baseMutations||[]).map(p=>fh(s.Wt,p));for(let p=0;p<e.mutations.length-1;++p){const w=e.mutations[p];p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(w.updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p)}const a=e.mutations.map(p=>fh(s.Wt,p)),c=Ti.fromMillis(e.localWriteTimeMs);return new hm(e.batchId,c,i,a)}function Jl(s){const e=Yl(s.readTime),i=void 0!==s.lastLimboFreeSnapshotVersion?Yl(s.lastLimboFreeSnapshotVersion):Fn.min();let a;var c;return void 0!==s.query.documents?(On(1===(c=s.query).documents.length),a=ro(Is(dh(c.documents[0])))):a=ro(mh(s.query)),new Kl(a,s.targetId,0,s.lastListenSequenceNumber,e,i,V.fromBase64String(s.resumeToken))}function bh(s,e){const i=xu(e.snapshotVersion),a=xu(e.lastLimboFreeSnapshotVersion);let c;c=$u(e.target)?gh(s.Wt,e.target):Au(s.Wt,e.target);const p=e.resumeToken.toBase64();return new Bt(e.targetId,ka(e.target),i,p,e.sequenceNumber,a,c)}function Eh(s){const e=mh({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?rd(e,e.limit,"L"):e}class Mw{getBundleMetadata(e,i){return Xl(e).get(i).next(a=>{if(a)return{id:(c=a).bundleId,createTime:Yl(c.createTime),version:c.version};var c})}saveBundleMetadata(e,i){return Xl(e).put({bundleId:(a=i).id,createTime:xu(ks(a.createTime)),version:a.version});var a}getNamedQuery(e,i){return Ch(e).get(i).next(a=>{if(a)return{name:(c=a).name,query:Eh(c.bundledQuery),readTime:Yl(c.readTime)};var c})}saveNamedQuery(e,i){return Ch(e).put({name:(a=i).name,readTime:xu(ks(a.readTime)),bundledQuery:a.bundledQuery});var a}}function Xl(s){return Ta(s,so.store)}function Ch(s){return Ta(s,nu.store)}class fm{constructor(){this.Gt=new hp}addToCollectionParentIndex(e,i){return this.Gt.add(i),xt.resolve()}getCollectionParents(e,i){return xt.resolve(this.Gt.getEntries(i))}}class hp{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),c=this.index[i]||new ts(qr.comparator),p=!c.has(a);return this.index[i]=c.add(a),p}has(e){const i=e.lastSegment(),a=e.popLast(),c=this.index[i];return c&&c.has(a)}getEntries(e){return(this.index[e]||new ts(qr.comparator)).toArray()}}class fp{constructor(){this.zt=new hp}addToCollectionParentIndex(e,i){if(!this.zt.has(i)){const a=i.lastSegment(),c=i.popLast();e.addOnCommittedListener(()=>{this.zt.add(i)});const p={collectionId:a,parent:Ro(c)};return pm(e).put(p)}return xt.resolve()}getCollectionParents(e,i){const a=[],c=IDBKeyRange.bound([i,""],[ju(i),""],!1,!0);return pm(e).Lt(c).next(p=>{for(const w of p){if(w.collectionId!==i)break;a.push(tu(w.parent))}return a})}}function pm(s){return Ta(s,Dn.store)}const gm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ha{constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new ha(e,ha.DEFAULT_COLLECTION_PERCENTILE,ha.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function mm(s,e,i){const a=s.store(h.store),c=s.store(b.store),p=[],w=IDBKeyRange.only(i.batchId);let k=0;const z=a.Kt({range:w},(we,je,ht)=>(k++,ht.delete()));p.push(z.next(()=>{On(1===k)}));const ce=[];for(const we of i.mutations){const je=b.key(e,we.key.path,i.batchId);p.push(c.delete(je)),ce.push(we.key)}return xt.waitFor(p).next(()=>ce)}function Ih(s){if(!s)return 0;let e;if(s.document)e=s.document;else if(s.unknownDocument)e=s.unknownDocument;else{if(!s.noDocument)throw gn();e=s.noDocument}return JSON.stringify(e).length}ha.DEFAULT_COLLECTION_PERCENTILE=10,ha.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ha.DEFAULT=new ha(41943040,ha.DEFAULT_COLLECTION_PERCENTILE,ha.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ha.DISABLED=new ha(-1,0,0);class pp{constructor(e,i,a,c){this.userId=e,this.N=i,this.Ht=a,this.referenceDelegate=c,this.Jt={}}static Yt(e,i,a,c){On(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new pp(p,i,a,c)}checkEmpty(e){let i=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ru(e).Kt({index:h.userMutationsIndex,range:a},(c,p,w)=>{i=!1,w.done()}).next(()=>i)}addMutationBatch(e,i,a,c){const p=ec(e),w=Ru(e);return w.add({}).next(k=>{On("number"==typeof k);const z=new hm(k,i,a,c),ce=function(ht,Ct,Yt){const Sn=Yt.baseMutations.map(us=>vl(ht.Wt,us)),pr=Yt.mutations.map(us=>vl(ht.Wt,us));return new h(Ct,Yt.batchId,Yt.localWriteTime.toMillis(),Sn,pr)}(this.N,this.userId,z),we=[];let je=new ts((ht,Ct)=>tr(ht.canonicalString(),Ct.canonicalString()));for(const ht of c){const Ct=b.key(this.userId,ht.key.path,k);je=je.add(ht.key.path.popLast()),we.push(w.put(ce)),we.push(p.put(Ct,b.PLACEHOLDER))}return je.forEach(ht=>{we.push(this.Ht.addToCollectionParentIndex(e,ht))}),e.addOnCommittedListener(()=>{this.Jt[k]=z.keys()}),xt.waitFor(we).next(()=>z)})}lookupMutationBatch(e,i){return Ru(e).get(i).next(a=>a?(On(a.userId===this.userId),Ql(this.N,a)):null)}Xt(e,i){return this.Jt[i]?xt.resolve(this.Jt[i]):this.lookupMutationBatch(e,i).next(a=>{if(a){const c=a.keys();return this.Jt[i]=c,c}return null})}getNextMutationBatchAfterBatchId(e,i){const a=i+1,c=IDBKeyRange.lowerBound([this.userId,a]);let p=null;return Ru(e).Kt({index:h.userMutationsIndex,range:c},(w,k,z)=>{k.userId===this.userId&&(On(k.batchId>=a),p=Ql(this.N,k)),z.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return Ru(e).Kt({index:h.userMutationsIndex,range:i,reverse:!0},(c,p,w)=>{a=p.batchId,w.done()}).next(()=>a)}getAllMutationBatches(e){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ru(e).Lt(h.userMutationsIndex,i).next(a=>a.map(c=>Ql(this.N,c)))}getAllMutationBatchesAffectingDocumentKey(e,i){const a=b.prefixForPath(this.userId,i.path),c=IDBKeyRange.lowerBound(a),p=[];return ec(e).Kt({range:c},(w,k,z)=>{const[ce,we,je]=w,ht=tu(we);if(ce===this.userId&&i.path.isEqual(ht))return Ru(e).get(je).next(Ct=>{if(!Ct)throw gn();On(Ct.userId===this.userId),p.push(Ql(this.N,Ct))});z.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new ts(tr);const c=[];return i.forEach(p=>{const w=b.prefixForPath(this.userId,p.path),k=IDBKeyRange.lowerBound(w),z=ec(e).Kt({range:k},(ce,we,je)=>{const[ht,Ct,Yt]=ce,Sn=tu(Ct);ht===this.userId&&p.path.isEqual(Sn)?a=a.add(Yt):je.done()});c.push(z)}),xt.waitFor(c).next(()=>this.Zt(e,a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,c=a.length+1,p=b.prefixForPath(this.userId,a),w=IDBKeyRange.lowerBound(p);let k=new ts(tr);return ec(e).Kt({range:w},(z,ce,we)=>{const[je,ht,Ct]=z,Yt=tu(ht);je===this.userId&&a.isPrefixOf(Yt)?Yt.length===c&&(k=k.add(Ct)):we.done()}).next(()=>this.Zt(e,k))}Zt(e,i){const a=[],c=[];return i.forEach(p=>{c.push(Ru(e).get(p).next(w=>{if(null===w)throw gn();On(w.userId===this.userId),a.push(Ql(this.N,w))}))}),xt.waitFor(c).next(()=>a)}removeMutationBatch(e,i){return mm(e.Qt,this.userId,i).next(a=>(e.addOnCommittedListener(()=>{this.te(i.batchId)}),xt.forEach(a,c=>this.referenceDelegate.markPotentiallyOrphaned(e,c))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(i=>{if(!i)return xt.resolve();const a=IDBKeyRange.lowerBound(b.prefixForUser(this.userId)),c=[];return ec(e).Kt({range:a},(p,w,k)=>{if(p[0]===this.userId){const z=tu(p[1]);c.push(z)}else k.done()}).next(()=>{On(0===c.length)})})}containsKey(e,i){return gp(e,this.userId,i)}ee(e){return Th(e).get(this.userId).next(i=>i||new d(this.userId,-1,""))}}function gp(s,e,i){const a=b.prefixForPath(e,i.path),c=a[1],p=IDBKeyRange.lowerBound(a);let w=!1;return ec(s).Kt({range:p,qt:!0},(k,z,ce)=>{const[we,je,ht]=k;we===e&&je===c&&(w=!0),ce.done()}).next(()=>w)}function Ru(s){return Ta(s,h.store)}function ec(s){return Ta(s,b.store)}function Th(s){return Ta(s,d.store)}class tc{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new tc(0)}static ie(){return new tc(-1)}}class f_{constructor(e,i){this.referenceDelegate=e,this.N=i}allocateTargetId(e){return this.re(e).next(i=>{const a=new tc(i.highestTargetId);return i.highestTargetId=a.next(),this.oe(e,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(i=>Fn.fromTimestamp(new Ti(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(e,i,a){return this.re(e).next(c=>(c.highestListenSequenceNumber=i,a&&(c.lastRemoteSnapshotVersion=a.toTimestamp()),i>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=i),this.oe(e,c)))}addTargetData(e,i){return this.ae(e,i).next(()=>this.re(e).next(a=>(a.targetCount+=1,this.ce(i,a),this.oe(e,a))))}updateTargetData(e,i){return this.ae(e,i)}removeTargetData(e,i){return this.removeMatchingKeysForTargetId(e,i.targetId).next(()=>nc(e).delete(i.targetId)).next(()=>this.re(e)).next(a=>(On(a.targetCount>0),a.targetCount-=1,this.oe(e,a)))}removeTargets(e,i,a){let c=0;const p=[];return nc(e).Kt((w,k)=>{const z=Jl(k);z.sequenceNumber<=i&&null===a.get(z.targetId)&&(c++,p.push(this.removeTargetData(e,z)))}).next(()=>xt.waitFor(p)).next(()=>c)}forEachTarget(e,i){return nc(e).Kt((a,c)=>{const p=Jl(c);i(p)})}re(e){return mp(e).get(yn.key).next(i=>(On(null!==i),i))}oe(e,i){return mp(e).put(yn.key,i)}ae(e,i){return nc(e).put(bh(this.N,i))}ce(e,i){let a=!1;return e.targetId>i.highestTargetId&&(i.highestTargetId=e.targetId,a=!0),e.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.re(e).next(i=>i.targetCount)}getTargetData(e,i){const a=ka(i),c=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let p=null;return nc(e).Kt({range:c,index:Bt.queryTargetsIndexName},(w,k,z)=>{const ce=Jl(k);jl(i,ce.target)&&(p=ce,z.done())}).next(()=>p)}addMatchingKeys(e,i,a){const c=[],p=fa(e);return i.forEach(w=>{const k=Ro(w.path);c.push(p.put(new tn(a,k))),c.push(this.referenceDelegate.addReference(e,a,w))}),xt.waitFor(c)}removeMatchingKeys(e,i,a){const c=fa(e);return xt.forEach(i,p=>{const w=Ro(p.path);return xt.waitFor([c.delete([a,w]),this.referenceDelegate.removeReference(e,a,p)])})}removeMatchingKeysForTargetId(e,i){const a=fa(e),c=IDBKeyRange.bound([i],[i+1],!1,!0);return a.delete(c)}getMatchingKeysForTargetId(e,i){const a=IDBKeyRange.bound([i],[i+1],!1,!0),c=fa(e);let p=Ur();return c.Kt({range:a,qt:!0},(w,k,z)=>{const ce=tu(w[1]),we=new ln(ce);p=p.add(we)}).next(()=>p)}containsKey(e,i){const a=Ro(i.path),c=IDBKeyRange.bound([a],[ju(a)],!1,!0);let p=0;return fa(e).Kt({index:tn.documentTargetsIndex,qt:!0,range:c},([w,k],z,ce)=>{0!==w&&(p++,ce.done())}).next(()=>p>0)}Tt(e,i){return nc(e).get(i).next(a=>a?Jl(a):null)}}function nc(s){return Ta(s,Bt.store)}function mp(s){return Ta(s,yn.store)}function fa(s){return Ta(s,tn.store)}function Cl(s){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,ie.Z)(function*(s){if(s.code!==at.FAILED_PRECONDITION||s.message!==Yu)throw s;Nt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function ym([s,e],[i,a]){const c=tr(s,i);return 0===c?tr(e,a):c}class Ah{constructor(e){this.ue=e,this.buffer=new ts(ym),this.he=0}le(){return++this.he}fe(e){const i=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();ym(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class p_{constructor(e,i){this.garbageCollector=e,this.asyncQueue=i,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var i=this;const a=this.de?3e5:6e4;Nt("LruGarbageCollector",`Garbage collection scheduled in ${a}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",a,(0,ie.Z)(function*(){i.we=null,i.de=!0;try{yield e.collectGarbage(i.garbageCollector)}catch(c){ru(c)?Nt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c):yield Cl(c)}yield i._e(e)}))}}class _m{constructor(e,i){this.me=e,this.params=i}calculateTargetCount(e,i){return this.me.ge(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(0===i)return xt.resolve(ps.T);const a=new Ah(i);return this.me.forEachTarget(e,c=>a.fe(c.sequenceNumber)).next(()=>this.me.ye(e,c=>a.fe(c))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.me.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.me.removeOrphanedDocuments(e,i)}collect(e,i){return-1===this.params.cacheSizeCollectionThreshold?(Nt("LruGarbageCollector","Garbage collection skipped; disabled"),xt.resolve(gm)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(Nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gm):this.pe(e,i))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,i){let a,c,p,w,k,z,ce;const we=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(je=>(je>this.params.maximumSequenceNumbersToCollect?(Nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${je}`),c=this.params.maximumSequenceNumbersToCollect):c=je,w=Date.now(),this.nthSequenceNumber(e,c))).next(je=>(a=je,k=Date.now(),this.removeTargets(e,a,i))).next(je=>(p=je,z=Date.now(),this.removeOrphanedDocuments(e,a))).next(je=>(ce=Date.now(),Zo()<=ye.in.DEBUG&&Nt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${w-we}ms\n\tDetermined least recently used ${c} in `+(k-w)+`ms\n\tRemoved ${p} targets in `+(z-k)+`ms\n\tRemoved ${je} documents in `+(ce-z)+`ms\nTotal Duration: ${ce-we}ms`),xt.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:p,documentsRemoved:je})))}}class vm{constructor(e,i){this.db=e,this.garbageCollector=new _m(this,i)}ge(e){const i=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(a=>i.next(c=>a+c))}Te(e){let i=0;return this.ye(e,a=>{i++}).next(()=>i)}forEachTarget(e,i){return this.db.getTargetCache().forEachTarget(e,i)}ye(e,i){return this.Ee(e,(a,c)=>i(c))}addReference(e,i,a){return vd(e,a)}removeReference(e,i,a){return vd(e,a)}removeTargets(e,i,a){return this.db.getTargetCache().removeTargets(e,i,a)}markPotentiallyOrphaned(e,i){return vd(e,i)}Ie(e,i){return function(a,c){let p=!1;return Th(a).jt(w=>gp(a,w,c).next(k=>(k&&(p=!0),xt.resolve(!k)))).next(()=>p)}(e,i)}removeOrphanedDocuments(e,i){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let p=0;return this.Ee(e,(w,k)=>{if(k<=i){const z=this.Ie(e,w).next(ce=>{if(!ce)return p++,a.getEntry(e,w).next(()=>(a.removeEntry(w),fa(e).delete([0,Ro(w.path)])))});c.push(z)}}).next(()=>xt.waitFor(c)).next(()=>a.apply(e)).next(()=>p)}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,i){return vd(e,i)}Ee(e,i){const a=fa(e);let c,p=ps.T;return a.Kt({index:tn.documentTargetsIndex},([w,k],{path:z,sequenceNumber:ce})=>{0===w?(p!==ps.T&&i(new ln(tu(c)),p),p=ce,c=z):p=ps.T}).next(()=>{p!==ps.T&&i(new ln(tu(c)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function vd(s,e){return fa(s).put((a=s.currentSequenceNumber,new tn(0,Ro(e.path),a)));var a}class Il{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={}}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(void 0!==a)for(const[c,p]of a)if(this.equalsFn(c,e))return p}has(e){return void 0!==this.get(e)}set(e,i){const a=this.mapKeyFn(e),c=this.inner[a];if(void 0!==c){for(let p=0;p<c.length;p++)if(this.equalsFn(c[p][0],e))return void(c[p]=[e,i]);c.push([e,i])}else this.inner[a]=[[e,i]]}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(void 0===a)return!1;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return 1===a.length?delete this.inner[i]:a.splice(c,1),!0;return!1}forEach(e){Xs(this.inner,(i,a)=>{for(const[c,p]of a)e(c,p)})}isEmpty(){return Pa(this.inner)}}class yp{constructor(){this.changes=new Il(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}getReadTime(e){const i=this.changes.get(e);return i?i.readTime:Fn.min()}addEntry(e,i){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:i})}removeEntry(e,i=null){this.assertNotApplied(),this.changes.set(e,{document:wi.newInvalidDocument(e),readTime:i})}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return void 0!==a?xt.resolve(a.document):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Sh{constructor(e,i){this.N=e,this.Ht=i}addEntry(e,i,a){return Mu(e).put(wd(i),a)}removeEntry(e,i){const a=Mu(e),c=wd(i);return a.delete(c)}updateMetadata(e,i){return this.getMetadata(e).next(a=>(a.byteSize+=i,this.Ae(e,a)))}getEntry(e,i){return Mu(e).get(wd(i)).next(a=>this.Re(i,a))}be(e,i){return Mu(e).get(wd(i)).next(a=>({document:this.Re(i,a),size:Ih(a)}))}getEntries(e,i){let a=la();return this.Pe(e,i,(c,p)=>{const w=this.Re(c,p);a=a.insert(c,w)}).next(()=>a)}ve(e,i){let a=la(),c=new Ts(ln.comparator);return this.Pe(e,i,(p,w)=>{const k=this.Re(p,w);a=a.insert(p,k),c=c.insert(p,Ih(w))}).next(()=>({documents:a,Ve:c}))}Pe(e,i,a){if(i.isEmpty())return xt.resolve();const c=IDBKeyRange.bound(i.first().path.toArray(),i.last().path.toArray()),p=i.getIterator();let w=p.getNext();return Mu(e).Kt({range:c},(k,z,ce)=>{const we=ln.fromSegments(k);for(;w&&ln.comparator(w,we)<0;)a(w,null),w=p.getNext();w&&w.isEqual(we)&&(a(w,z),w=p.hasNext()?p.getNext():null),w?ce.Mt(w.path.toArray()):ce.done()}).next(()=>{for(;w;)a(w,null),w=p.hasNext()?p.getNext():null})}getDocumentsMatchingQuery(e,i,a){let c=la();const p=i.path.length+1,w={};if(a.isEqual(Fn.min())){const k=i.path.toArray();w.range=IDBKeyRange.lowerBound(k)}else{const k=i.path.toArray(),z=cp(a);w.range=IDBKeyRange.lowerBound([k,z],!0),w.index=Ne.collectionReadTimeIndex}return Mu(e).Kt(w,(k,z,ce)=>{if(k.length!==p)return;const we=_d(this.N,z);i.path.isPrefixOf(we.key.path)?Ua(i,we)&&(c=c.insert(we.key,we)):ce.done()}).next(()=>c)}newChangeBuffer(e){return new xh(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(i=>i.byteSize)}getMetadata(e){return _p(e).get(ct.key).next(i=>(On(!!i),i))}Ae(e,i){return _p(e).put(ct.key,i)}Re(e,i){if(i){const a=_d(this.N,i);if(!a.isNoDocument()||!a.version.isEqual(Fn.min()))return a}return wi.newInvalidDocument(e)}}class xh extends yp{constructor(e,i){super(),this.Se=e,this.trackRemovals=i,this.De=new Il(a=>a.toString(),(a,c)=>a.isEqual(c))}applyChanges(e){const i=[];let a=0,c=new ts((p,w)=>tr(p.canonicalString(),w.canonicalString()));return this.changes.forEach((p,w)=>{const k=this.De.get(p);if(w.document.isValidDocument()){const z=wh(this.Se.N,w.document,this.getReadTime(p));c=c.add(p.path.popLast()),a+=Ih(z)-k,i.push(this.Se.addEntry(e,p,z))}else if(a-=k,this.trackRemovals){const z=wh(this.Se.N,wi.newNoDocument(p,Fn.min()),this.getReadTime(p));i.push(this.Se.addEntry(e,p,z))}else i.push(this.Se.removeEntry(e,p))}),c.forEach(p=>{i.push(this.Se.Ht.addToCollectionParentIndex(e,p))}),i.push(this.Se.updateMetadata(e,a)),xt.waitFor(i)}getFromCache(e,i){return this.Se.be(e,i).next(a=>(this.De.set(i,a.size),a.document))}getAllFromCache(e,i){return this.Se.ve(e,i).next(({documents:a,Ve:c})=>(c.forEach((p,w)=>{this.De.set(p,w)}),a))}}function _p(s){return Ta(s,ct.store)}function Mu(s){return Ta(s,Ne.store)}function wd(s){return s.path.toArray()}class vp{constructor(e){this.N=e}Ct(e,i,a,c){On(a<c&&a>=0&&c<=11);const p=new wl("createOrUpgrade",i);var k;a<1&&c>=1&&(e.createObjectStore(_.store),(k=e).createObjectStore(d.store,{keyPath:d.keyPath}),k.createObjectStore(h.store,{keyPath:h.keyPath,autoIncrement:!0}).createIndex(h.userMutationsIndex,h.userMutationsKeyPath,{unique:!0}),k.createObjectStore(b.store),Rc(e),function(k){k.createObjectStore(Ne.store)}(e));let w=xt.resolve();return a<3&&c>=3&&(0!==a&&(function(k){k.deleteObjectStore(tn.store),k.deleteObjectStore(Bt.store),k.deleteObjectStore(yn.store)}(e),Rc(e)),w=w.next(()=>function(k){const z=k.store(yn.store),ce=new yn(0,0,Fn.min().toTimestamp(),0);return z.put(yn.key,ce)}(p))),a<4&&c>=4&&(0!==a&&(w=w.next(()=>function(k,z){return z.store(h.store).Lt().next(ce=>{k.deleteObjectStore(h.store),k.createObjectStore(h.store,{keyPath:h.keyPath,autoIncrement:!0}).createIndex(h.userMutationsIndex,h.userMutationsKeyPath,{unique:!0});const we=z.store(h.store),je=ce.map(ht=>we.put(ht));return xt.waitFor(je)})}(e,p))),w=w.next(()=>{!function(k){k.createObjectStore(bi.store,{keyPath:bi.keyPath})}(e)})),a<5&&c>=5&&(w=w.next(()=>this.Ce(p))),a<6&&c>=6&&(w=w.next(()=>(function(k){k.createObjectStore(ct.store)}(e),this.Ne(p)))),a<7&&c>=7&&(w=w.next(()=>this.xe(p))),a<8&&c>=8&&(w=w.next(()=>this.ke(e,p))),a<9&&c>=9&&(w=w.next(()=>{(function(k){k.objectStoreNames.contains("remoteDocumentChanges")&&k.deleteObjectStore("remoteDocumentChanges")})(e),function(k){const z=k.objectStore(Ne.store);z.createIndex(Ne.readTimeIndex,Ne.readTimeIndexPath,{unique:!1}),z.createIndex(Ne.collectionReadTimeIndex,Ne.collectionReadTimeIndexPath,{unique:!1})}(i)})),a<10&&c>=10&&(w=w.next(()=>this.$e(p))),a<11&&c>=11&&(w=w.next(()=>{(function(k){k.createObjectStore(so.store,{keyPath:so.keyPath})})(e),function(k){k.createObjectStore(nu.store,{keyPath:nu.keyPath})}(e)})),w}Ne(e){let i=0;return e.store(Ne.store).Kt((a,c)=>{i+=Ih(c)}).next(()=>{const a=new ct(i);return e.store(ct.store).put(ct.key,a)})}Ce(e){const i=e.store(d.store),a=e.store(h.store);return i.Lt().next(c=>xt.forEach(c,p=>{const w=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return a.Lt(h.userMutationsIndex,w).next(k=>xt.forEach(k,z=>{On(z.userId===p.userId);const ce=Ql(this.N,z);return mm(e,p.userId,ce).next(()=>{})}))}))}xe(e){const i=e.store(tn.store),a=e.store(Ne.store);return e.store(yn.store).get(yn.key).next(c=>{const p=[];return a.Kt((w,k)=>{const z=new qr(w),ce=[0,Ro(z)];p.push(i.get(ce).next(we=>we?xt.resolve():i.put(new tn(0,Ro(z),c.highestListenSequenceNumber))))}).next(()=>xt.waitFor(p))})}ke(e,i){e.createObjectStore(Dn.store,{keyPath:Dn.keyPath});const a=i.store(Dn.store),c=new hp,p=w=>{if(c.add(w)){const k=w.lastSegment(),z=w.popLast();return a.put({collectionId:k,parent:Ro(z)})}};return i.store(Ne.store).Kt({qt:!0},(w,k)=>{const z=new qr(w);return p(z.popLast())}).next(()=>i.store(b.store).Kt({qt:!0},([w,k,z],ce)=>{const we=tu(k);return p(we.popLast())}))}$e(e){const i=e.store(Bt.store);return i.Kt((a,c)=>{const p=Jl(c),w=bh(this.N,p);return i.put(w)})}}function Rc(s){s.createObjectStore(tn.store,{keyPath:tn.keyPath}).createIndex(tn.documentTargetsIndex,tn.documentTargetsKeyPath,{unique:!0}),s.createObjectStore(Bt.store,{keyPath:Bt.keyPath}).createIndex(Bt.queryTargetsIndexName,Bt.queryTargetsKeyPath,{unique:!0}),s.createObjectStore(yn.store)}const wp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Rh{constructor(e,i,a,c,p,w,k,z,ce,we){if(this.allowTabSynchronization=e,this.persistenceKey=i,this.clientId=a,this.Oe=p,this.window=w,this.document=k,this.Fe=ce,this.Me=we,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=je=>Promise.resolve(),!Rh.bt())throw new Dt(at.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vm(this,c),this.We=i+"main",this.N=new ou(z),this.Ge=new da(this.We,11,new vp(this.N)),this.ze=new f_(this.referenceDelegate,this.N),this.Ht=new fp,this.He=new Sh(this.N,this.Ht),this.Je=new Mw,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===we&&vi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Dt(at.FAILED_PRECONDITION,wp);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new ps(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var i=this;return this.Qe=function(){var a=(0,ie.Z)(function*(c){if(i.started)return e(c)});return function(c){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var i=(0,ie.Z)(function*(a){null===a.newVersion&&(yield e())});return function(a){return i.apply(this,arguments)}}())}setNetworkEnabled(e){var i=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,ie.Z)(function*(){i.started&&(yield i.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Mh(e).put(new bi(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(i=>{i||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(i=>this.isPrimary&&!i?this.on(e).next(()=>!1):!!i&&this.an(e).next(()=>!0))).catch(e=>{if(ru(e))return Nt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Nt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return bd(e).get(_.key).next(i=>xt.resolve(this.cn(i)))}un(e){return Mh(e).delete(this.clientId)}hn(){var e=this;return(0,ie.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const i=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const c=Ta(a,bi.store);return c.Lt().next(p=>{const w=e.fn(p,18e5),k=p.filter(z=>-1===w.indexOf(z));return xt.forEach(k,z=>c.delete(z.clientId)).next(()=>k)})}).catch(()=>[]);if(e.Ye)for(const a of i)e.Ye.removeItem(e.dn(a.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?xt.resolve(!0):bd(e).get(_.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)){if(this.cn(i)&&this.networkEnabled)return!0;if(!this.cn(i)){if(!i.allowTabSynchronization)throw new Dt(at.FAILED_PRECONDITION,wp);return!1}}return!(!this.networkEnabled||!this.inForeground)||Mh(e).Lt().next(a=>void 0===this.fn(a,5e3).find(c=>{if(this.clientId!==c.clientId){const w=!this.inForeground&&c.inForeground,k=this.networkEnabled===c.networkEnabled;if(!this.networkEnabled&&c.networkEnabled||w&&k)return!0}return!1}))}).next(i=>(this.isPrimary!==i&&Nt("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var e=this;return(0,ie.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[_.store,bi.store],i=>{const a=new su(i,ps.T);return e.on(a).next(()=>e.un(a))}),e.Ge.close(),e.yn()})()}fn(e,i){return e.filter(a=>this.ln(a.updateTimeMs,i)&&!this.wn(a.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>Mh(e).Lt().next(i=>this.fn(i,18e5).map(a=>a.clientId)))}get started(){return this.Be}getMutationQueue(e){return pp.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,i,a){let p;return Nt("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===i?"readonly":"readwrite",yh,w=>(p=new su(w,this.Le?this.Le.next():ps.T),"readwrite-primary"===i?this.sn(p).next(k=>!!k||this.rn(p)).next(k=>{if(!k)throw vi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Dt(at.FAILED_PRECONDITION,Yu);return a(p)}).next(k=>this.an(p).next(()=>k)):this.Tn(p).next(()=>a(p)))).then(w=>(p.raiseOnCommittedEvent(),w))}Tn(e){return bd(e).get(_.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)&&!this.cn(i)&&!(this.Me||this.allowTabSynchronization&&i.allowTabSynchronization))throw new Dt(at.FAILED_PRECONDITION,wp)})}an(e){const i=new _(this.clientId,this.allowTabSynchronization,Date.now());return bd(e).put(_.key,i)}static bt(){return da.bt()}on(e){const i=bd(e);return i.get(_.key).next(a=>this.cn(a)?(Nt("IndexedDbPersistence","Releasing primary lease."),i.delete(_.key)):xt.resolve())}ln(e,i){const a=Date.now();return!(e<a-i||e>a&&(vi(`Detected an update time that is in the future: ${e} > ${a}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,he.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var i;try{const a=null!==(null===(i=this.Ye)||void 0===i?void 0:i.getItem(this.dn(e)));return Nt("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return vi("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){vi("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function bd(s){return Ta(s,_.store)}function Mh(s){return Ta(s,bi.store)}function Ph(s,e){let i=s.projectId;return s.isDefaultDatabase||(i+="."+s.database),"firestore/"+e+"/"+i+"/"}class bp{constructor(e,i){this.progress=e,this.En=i}}class Ep{constructor(e,i,a){this.He=e,this.In=i,this.Ht=a}An(e,i){return this.In.getAllMutationBatchesAffectingDocumentKey(e,i).next(a=>this.Rn(e,i,a))}Rn(e,i,a){return this.He.getEntry(e,i).next(c=>{for(const p of a)p.applyToLocalView(c);return c})}bn(e,i){e.forEach((a,c)=>{for(const p of i)p.applyToLocalView(c)})}Pn(e,i){return this.He.getEntries(e,i).next(a=>this.vn(e,a).next(()=>a))}vn(e,i){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,i).next(a=>this.bn(i,a))}getDocumentsMatchingQuery(e,i,a){return ln.isDocumentKey((c=i).path)&&null===c.collectionGroup&&0===c.filters.length?this.Vn(e,i.path):vc(i)?this.Sn(e,i,a):this.Dn(e,i,a);var c}Vn(e,i){return this.An(e,new ln(i)).next(a=>{let c=Cc();return a.isFoundDocument()&&(c=c.insert(a.key,a)),c})}Sn(e,i,a){const c=i.collectionGroup;let p=Cc();return this.Ht.getCollectionParents(e,c).next(w=>xt.forEach(w,k=>{const z=(ce=i,we=k.child(c),new Yo(we,null,ce.explicitOrderBy.slice(),ce.filters.slice(),ce.limit,ce.limitType,ce.startAt,ce.endAt));var ce,we;return this.Dn(e,z,a).next(ce=>{ce.forEach((we,je)=>{p=p.insert(we,je)})})}).next(()=>p))}Dn(e,i,a){let c,p;return this.He.getDocumentsMatchingQuery(e,i,a).next(w=>(c=w,this.In.getAllMutationBatchesAffectingQuery(e,i))).next(w=>(p=w,this.Cn(e,p,c).next(k=>{c=k;for(const z of p)for(const ce of z.mutations){const we=ce.key;let je=c.get(we);null==je&&(je=wi.newInvalidDocument(we),c=c.insert(we,je)),ad(ce,je,z.localWriteTime),je.isFoundDocument()||(c=c.remove(we))}}))).next(()=>(c.forEach((w,k)=>{Ua(i,k)||(c=c.remove(w))}),c))}Cn(e,i,a){let c=Ur();for(const w of i)for(const k of w.mutations)k instanceof Qa&&null===a.get(k.key)&&(c=c.add(k.key));let p=a;return this.He.getEntries(e,c).next(w=>(w.forEach((k,z)=>{z.isFoundDocument()&&(p=p.insert(k,z))}),p))}}class wm{constructor(e,i,a,c){this.targetId=e,this.fromCache=i,this.Nn=a,this.xn=c}static kn(e,i){let a=Ur(),c=Ur();for(const p of i.docChanges)switch(p.type){case 0:a=a.add(p.doc.key);break;case 1:c=c.add(p.doc.key)}return new wm(e,i.fromCache,a,c)}}class Cp{$n(e){this.On=e}getDocumentsMatchingQuery(e,i,a,c){return 0===(p=i).filters.length&&null===p.limit&&null==p.startAt&&null==p.endAt&&(0===p.explicitOrderBy.length||1===p.explicitOrderBy.length&&p.explicitOrderBy[0].field.isKeyField())||a.isEqual(Fn.min())?this.Fn(e,i):this.On.Pn(e,c).next(p=>{const w=this.Mn(i,p);return(Ns(i)||Gu(i))&&this.Ln(i.limitType,w,c,a)?this.Fn(e,i):(Zo()<=ye.in.DEBUG&&Nt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),eh(i)),this.On.getDocumentsMatchingQuery(e,i,a).next(k=>(w.forEach(z=>{k=k.insert(z.key,z)}),k)))});var p}Mn(e,i){let a=new ts(Ba(e));return i.forEach((c,p)=>{Ua(e,p)&&(a=a.add(p))}),a}Ln(e,i,a,c){if(a.size!==i.size)return!0;const p="F"===e?i.last():i.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(c)>0)}Fn(e,i){return Zo()<=ye.in.DEBUG&&Nt("QueryEngine","Using full collection scan to execute query:",eh(i)),this.On.getDocumentsMatchingQuery(e,i,Fn.min())}}class g_{constructor(e,i,a,c){this.persistence=e,this.Bn=i,this.N=c,this.Un=new Ts(tr),this.qn=new Il(p=>ka(p),jl),this.Kn=Fn.min(),this.In=e.getMutationQueue(a),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new Ep(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Un))}}function Ip(s,e,i,a){return new g_(s,e,i,a)}function bm(s,e){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,ie.Z)(function*(s,e){const i=Jt(s);let a=i.In,c=i.Qn;const p=yield i.persistence.runTransaction("Handle user change","readonly",w=>{let k;return i.In.getAllMutationBatches(w).next(z=>(k=z,a=i.persistence.getMutationQueue(e),c=new Ep(i.jn,a,i.persistence.getIndexManager()),a.getAllMutationBatches(w))).next(z=>{const ce=[],we=[];let je=Ur();for(const ht of k){ce.push(ht.batchId);for(const Ct of ht.mutations)je=je.add(Ct.key)}for(const ht of z){we.push(ht.batchId);for(const Ct of ht.mutations)je=je.add(Ct.key)}return c.Pn(w,je).next(ht=>({Wn:ht,removedBatchIds:ce,addedBatchIds:we}))})});return i.In=a,i.Qn=c,i.Bn.$n(i.Qn),p})).apply(this,arguments)}function au(s,e){const i=Jt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const c=e.batch.keys(),p=i.jn.newChangeBuffer({trackRemovals:!0});return function(w,k,z,ce){const we=z.batch,je=we.keys();let ht=xt.resolve();return je.forEach(Ct=>{ht=ht.next(()=>ce.getEntry(k,Ct)).next(Yt=>{const Sn=z.docVersions.get(Ct);On(null!==Sn),Yt.version.compareTo(Sn)<0&&(we.applyToRemoteDocument(Yt,z),Yt.isValidDocument()&&ce.addEntry(Yt,z.commitVersion))})}),ht.next(()=>w.In.removeMutationBatch(k,we))}(i,a,e,p).next(()=>p.apply(a)).next(()=>i.In.performConsistencyCheck(a)).next(()=>i.Qn.Pn(a,c))})}function Em(s){const e=Jt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.ze.getLastRemoteSnapshotVersion(i))}function Cm(s,e){const i=Jt(s),a=e.snapshotVersion;let c=i.Un;return i.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const w=i.jn.newChangeBuffer({trackRemovals:!0});c=i.Un;const k=[];e.targetChanges.forEach((ce,we)=>{const je=c.get(we);if(!je)return;k.push(i.ze.removeMatchingKeys(p,ce.removedDocuments,we).next(()=>i.ze.addMatchingKeys(p,ce.addedDocuments,we)));const ht=ce.resumeToken;if(ht.approximateByteSize()>0){const Ct=je.withResumeToken(ht,a).withSequenceNumber(p.currentSequenceNumber);c=c.insert(we,Ct),Yt=je,pr=ce,On((Sn=Ct).resumeToken.approximateByteSize()>0),(0===Yt.resumeToken.approximateByteSize()||Sn.snapshotVersion.toMicroseconds()-Yt.snapshotVersion.toMicroseconds()>=3e8||pr.addedDocuments.size+pr.modifiedDocuments.size+pr.removedDocuments.size>0)&&k.push(i.ze.updateTargetData(p,Ct))}var Yt,Sn,pr});let z=la();if(e.documentUpdates.forEach((ce,we)=>{e.resolvedLimboDocuments.has(ce)&&k.push(i.persistence.referenceDelegate.updateLimboDocument(p,ce))}),k.push(Im(p,w,e.documentUpdates,a,void 0).next(ce=>{z=ce})),!a.isEqual(Fn.min())){const ce=i.ze.getLastRemoteSnapshotVersion(p).next(we=>i.ze.setTargetsMetadata(p,p.currentSequenceNumber,a));k.push(ce)}return xt.waitFor(k).next(()=>w.apply(p)).next(()=>i.Qn.vn(p,z)).next(()=>z)}).then(p=>(i.Un=c,p))}function Im(s,e,i,a,c){let p=Ur();return i.forEach(w=>p=p.add(w)),e.getEntries(s,p).next(w=>{let k=la();return i.forEach((z,ce)=>{const we=w.get(z),je=(null==c?void 0:c.get(z))||a;ce.isNoDocument()&&ce.version.isEqual(Fn.min())?(e.removeEntry(z,je),k=k.insert(z,ce)):!we.isValidDocument()||ce.version.compareTo(we.version)>0||0===ce.version.compareTo(we.version)&&we.hasPendingWrites?(e.addEntry(ce,je),k=k.insert(z,ce)):Nt("LocalStore","Ignoring outdated watch update for ",z,". Current version:",we.version," Watch version:",ce.version)}),k})}function m_(s,e){const i=Jt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),i.In.getNextMutationBatchAfterBatchId(a,e)))}function Mc(s,e){const i=Jt(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let c;return i.ze.getTargetData(a,e).next(p=>p?(c=p,xt.resolve(c)):i.ze.allocateTargetId(a).next(w=>(c=new Kl(e,w,0,a.currentSequenceNumber),i.ze.addTargetData(a,c).next(()=>c))))}).then(a=>{const c=i.Un.get(a.targetId);return(null===c||a.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(i.Un=i.Un.insert(a.targetId,a),i.qn.set(e,a.targetId)),a})}function Pc(s,e,i){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,ie.Z)(function*(s,e,i){const a=Jt(s),c=a.Un.get(e),p=i?"readwrite":"readwrite-primary";try{i||(yield a.persistence.runTransaction("Release target",p,w=>a.persistence.referenceDelegate.removeTarget(w,c)))}catch(w){if(!ru(w))throw w;Nt("LocalStore",`Failed to update sequence numbers for target ${e}: ${w}`)}a.Un=a.Un.remove(e),a.qn.delete(c.target)})).apply(this,arguments)}function Nh(s,e,i){const a=Jt(s);let c=Fn.min(),p=Ur();return a.persistence.runTransaction("Execute query","readonly",w=>function(k,z,ce){const we=Jt(k),je=we.qn.get(ce);return void 0!==je?xt.resolve(we.Un.get(je)):we.ze.getTargetData(z,ce)}(a,w,ro(e)).next(k=>{if(k)return c=k.lastLimboFreeSnapshotVersion,a.ze.getMatchingKeysForTargetId(w,k.targetId).next(z=>{p=z})}).next(()=>a.Bn.getDocumentsMatchingQuery(w,e,i?c:Fn.min(),i?p:Ur())).next(k=>({documents:k,Gn:p})))}function Tm(s,e){const i=Jt(s),a=Jt(i.ze),c=i.Un.get(e);return c?Promise.resolve(c.target):i.persistence.runTransaction("Get target data","readonly",p=>a.Tt(p,e).next(w=>w?w.target:null))}function Dm(s){const e=Jt(s);return e.persistence.runTransaction("Get new document changes","readonly",i=>function(a,c,p){const w=Jt(a);let k=la(),z=cp(p);const ce=Mu(c),we=IDBKeyRange.lowerBound(z,!0);return ce.Kt({index:Ne.readTimeIndex,range:we},(je,ht)=>{const Ct=_d(w.N,ht);k=k.insert(Ct.key,Ct),z=ht.readTime}).next(()=>({En:k,readTime:dp(z)}))}(e.jn,i,e.Kn)).then(({En:i,readTime:a})=>(e.Kn=a,i))}function kh(){return(kh=(0,ie.Z)(function*(s){const e=Jt(s);return e.persistence.runTransaction("Synchronize last document change read time","readonly",i=>function(a){const c=Mu(a);let p=Fn.min();return c.Kt({index:Ne.readTimeIndex,reverse:!0},(w,k,z)=>{k.readTime&&(p=dp(k.readTime)),z.done()}).next(()=>p)}(i)).then(i=>{e.Kn=i})})).apply(this,arguments)}function Oc(){return(Oc=(0,ie.Z)(function*(s,e,i,a){const c=Jt(s);let p=Ur(),w=la(),k=rp();for(const we of i){const je=e.zn(we.metadata.name);we.document&&(p=p.add(je)),w=w.insert(je,e.Hn(we)),k=k.insert(je,e.Jn(we.metadata.readTime))}const z=c.jn.newChangeBuffer({trackRemovals:!0}),ce=yield Mc(c,(we=a,ro(Is(qr.fromString(`__bundle__/docs/${we}`)))));var we;return c.persistence.runTransaction("Apply bundle documents","readwrite",we=>Im(we,z,w,Fn.min(),k).next(je=>(z.apply(we),je)).next(je=>c.ze.removeMatchingKeysForTargetId(we,ce.targetId).next(()=>c.ze.addMatchingKeys(we,p,ce.targetId)).next(()=>c.Qn.vn(we,je)).next(()=>je)))})).apply(this,arguments)}function uu(s,e){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,ie.Z)(function*(s,e,i=Ur()){const a=yield Mc(s,ro(Eh(e.bundledQuery))),c=Jt(s);return c.persistence.runTransaction("Save named query","readwrite",p=>{const w=ks(e.readTime);if(a.snapshotVersion.compareTo(w)>=0)return c.Je.saveNamedQuery(p,e);const k=a.withResumeToken(V.EMPTY_BYTE_STRING,w);return c.Un=c.Un.insert(k.targetId,k),c.ze.updateTargetData(p,k).next(()=>c.ze.removeMatchingKeysForTargetId(p,a.targetId)).next(()=>c.ze.addMatchingKeys(p,i,a.targetId)).next(()=>c.Je.saveNamedQuery(p,e))})})).apply(this,arguments)}class y_{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,i){return xt.resolve(this.Yn.get(i))}saveBundleMetadata(e,i){var a;return this.Yn.set(i.id,{id:(a=i).id,version:a.version,createTime:ks(a.createTime)}),xt.resolve()}getNamedQuery(e,i){return xt.resolve(this.Xn.get(i))}saveNamedQuery(e,i){return this.Xn.set(i.name,{name:(a=i).name,query:Eh(a.bundledQuery),readTime:ks(a.readTime)}),xt.resolve();var a}}class Ed{constructor(){this.Zn=new ts(Ui.ts),this.es=new ts(Ui.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,i){const a=new Ui(e,i);this.Zn=this.Zn.add(a),this.es=this.es.add(a)}ss(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.rs(new Ui(e,i))}os(e,i){e.forEach(a=>this.removeReference(a,i))}cs(e){const i=new ln(new qr([])),a=new Ui(i,e),c=new Ui(i,e+1),p=[];return this.es.forEachInRange([a,c],w=>{this.rs(w),p.push(w.key)}),p}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const i=new ln(new qr([])),a=new Ui(i,e),c=new Ui(i,e+1);let p=Ur();return this.es.forEachInRange([a,c],w=>{p=p.add(w.key)}),p}containsKey(e){const i=new Ui(e,0),a=this.Zn.firstAfterOrEqual(i);return null!==a&&e.isEqual(a.key)}}class Ui{constructor(e,i){this.key=e,this.ls=i}static ts(e,i){return ln.comparator(e.key,i.key)||tr(e.ls,i.ls)}static ns(e,i){return tr(e.ls,i.ls)||ln.comparator(e.key,i.key)}}class Dp{constructor(e,i){this.Ht=e,this.referenceDelegate=i,this.In=[],this.fs=1,this.ds=new ts(Ui.ts)}checkEmpty(e){return xt.resolve(0===this.In.length)}addMutationBatch(e,i,a,c){const p=this.fs;this.fs++;const w=new hm(p,i,a,c);this.In.push(w);for(const k of c)this.ds=this.ds.add(new Ui(k.key,p)),this.Ht.addToCollectionParentIndex(e,k.key.path.popLast());return xt.resolve(w)}lookupMutationBatch(e,i){return xt.resolve(this.ws(i))}getNextMutationBatchAfterBatchId(e,i){const c=this._s(i+1),p=c<0?0:c;return xt.resolve(this.In.length>p?this.In[p]:null)}getHighestUnacknowledgedBatchId(){return xt.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return xt.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ui(i,0),c=new Ui(i,Number.POSITIVE_INFINITY),p=[];return this.ds.forEachInRange([a,c],w=>{const k=this.ws(w.ls);p.push(k)}),xt.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new ts(tr);return i.forEach(c=>{const p=new Ui(c,0),w=new Ui(c,Number.POSITIVE_INFINITY);this.ds.forEachInRange([p,w],k=>{a=a.add(k.ls)})}),xt.resolve(this.gs(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,c=a.length+1;let p=a;ln.isDocumentKey(p)||(p=p.child(""));const w=new Ui(new ln(p),0);let k=new ts(tr);return this.ds.forEachWhile(z=>{const ce=z.key.path;return!!a.isPrefixOf(ce)&&(ce.length===c&&(k=k.add(z.ls)),!0)},w),xt.resolve(this.gs(k))}gs(e){const i=[];return e.forEach(a=>{const c=this.ws(a);null!==c&&i.push(c)}),i}removeMutationBatch(e,i){On(0===this.ys(i.batchId,"removed")),this.In.shift();let a=this.ds;return xt.forEach(i.mutations,c=>{const p=new Ui(c.key,i.batchId);return a=a.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.ds=a})}te(e){}containsKey(e,i){const a=new Ui(i,0),c=this.ds.firstAfterOrEqual(a);return xt.resolve(i.isEqual(c&&c.key))}performConsistencyCheck(e){return xt.resolve()}ys(e,i){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const i=this._s(e);return i<0||i>=this.In.length?null:this.In[i]}}class Sm{constructor(e,i){this.Ht=e,this.ps=i,this.docs=new Ts(ln.comparator),this.size=0}addEntry(e,i,a){const c=i.key,p=this.docs.get(c),w=p?p.size:0,k=this.ps(i);return this.docs=this.docs.insert(c,{document:i.clone(),size:k,readTime:a}),this.size+=k-w,this.Ht.addToCollectionParentIndex(e,c.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return xt.resolve(a?a.document.clone():wi.newInvalidDocument(i))}getEntries(e,i){let a=la();return i.forEach(c=>{const p=this.docs.get(c);a=a.insert(c,p?p.document.clone():wi.newInvalidDocument(c))}),xt.resolve(a)}getDocumentsMatchingQuery(e,i,a){let c=la();const p=new ln(i.path.child("")),w=this.docs.getIteratorFrom(p);for(;w.hasNext();){const{key:k,value:{document:z,readTime:ce}}=w.getNext();if(!i.path.isPrefixOf(k.path))break;ce.compareTo(a)<=0||Ua(i,z)&&(c=c.insert(z.key,z.clone()))}return xt.resolve(c)}Ts(e,i){return xt.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new Ap(this)}getSize(e){return xt.resolve(this.size)}}class Ap extends yp{constructor(e){super(),this.Se=e}applyChanges(e){const i=[];return this.changes.forEach((a,c)=>{c.document.isValidDocument()?i.push(this.Se.addEntry(e,c.document,this.getReadTime(a))):this.Se.removeEntry(a)}),xt.waitFor(i)}getFromCache(e,i){return this.Se.getEntry(e,i)}getAllFromCache(e,i){return this.Se.getEntries(e,i)}}class Pw{constructor(e){this.persistence=e,this.Es=new Il(i=>ka(i),jl),this.lastRemoteSnapshotVersion=Fn.min(),this.highestTargetId=0,this.Is=0,this.As=new Ed,this.targetCount=0,this.Rs=tc.se()}forEachTarget(e,i){return this.Es.forEach((a,c)=>i(c)),xt.resolve()}getLastRemoteSnapshotVersion(e){return xt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xt.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),xt.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.Is&&(this.Is=i),xt.resolve()}ae(e){this.Es.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Rs=new tc(i),this.highestTargetId=i),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,i){return this.ae(i),this.targetCount+=1,xt.resolve()}updateTargetData(e,i){return this.ae(i),xt.resolve()}removeTargetData(e,i){return this.Es.delete(i.target),this.As.cs(i.targetId),this.targetCount-=1,xt.resolve()}removeTargets(e,i,a){let c=0;const p=[];return this.Es.forEach((w,k)=>{k.sequenceNumber<=i&&null===a.get(k.targetId)&&(this.Es.delete(w),p.push(this.removeMatchingKeysForTargetId(e,k.targetId)),c++)}),xt.waitFor(p).next(()=>c)}getTargetCount(e){return xt.resolve(this.targetCount)}getTargetData(e,i){const a=this.Es.get(i)||null;return xt.resolve(a)}addMatchingKeys(e,i,a){return this.As.ss(i,a),xt.resolve()}removeMatchingKeys(e,i,a){this.As.os(i,a);const c=this.persistence.referenceDelegate,p=[];return c&&i.forEach(w=>{p.push(c.markPotentiallyOrphaned(e,w))}),xt.waitFor(p)}removeMatchingKeysForTargetId(e,i){return this.As.cs(i),xt.resolve()}getMatchingKeysForTargetId(e,i){const a=this.As.hs(i);return xt.resolve(a)}containsKey(e,i){return xt.resolve(this.As.containsKey(i))}}class xm{constructor(e,i){this.bs={},this.Le=new ps(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new Pw(this),this.Ht=new fm,this.He=new Sm(this.Ht,a=>this.referenceDelegate.Ps(a)),this.N=new ou(i),this.Je=new y_(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let i=this.bs[e.toKey()];return i||(i=new Dp(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=i),i}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,i,a){Nt("MemoryPersistence","Starting transaction:",e);const c=new Ow(this.Le.next());return this.referenceDelegate.vs(),a(c).next(p=>this.referenceDelegate.Vs(c).next(()=>p)).toPromise().then(p=>(c.raiseOnCommittedEvent(),p))}Ss(e,i){return xt.or(Object.values(this.bs).map(a=>()=>a.containsKey(e,i)))}}class Ow extends Mo{constructor(e){super(),this.currentSequenceNumber=e}}class lu{constructor(e){this.persistence=e,this.Ds=new Ed,this.Cs=null}static Ns(e){return new lu(e)}get xs(){if(this.Cs)return this.Cs;throw gn()}addReference(e,i,a){return this.Ds.addReference(a,i),this.xs.delete(a.toString()),xt.resolve()}removeReference(e,i,a){return this.Ds.removeReference(a,i),this.xs.add(a.toString()),xt.resolve()}markPotentiallyOrphaned(e,i){return this.xs.add(i.toString()),xt.resolve()}removeTarget(e,i){this.Ds.cs(i.targetId).forEach(c=>this.xs.add(c.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(c=>{c.forEach(p=>this.xs.add(p.toString()))}).next(()=>a.removeTargetData(e,i))}vs(){this.Cs=new Set}Vs(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xt.forEach(this.xs,a=>{const c=ln.fromPath(a);return this.ks(e,c).next(p=>{p||i.removeEntry(c)})}).next(()=>(this.Cs=null,i.apply(e)))}updateLimboDocument(e,i){return this.ks(e,i).next(a=>{a?this.xs.delete(i.toString()):this.xs.add(i.toString())})}Ps(e){return 0}ks(e,i){return xt.or([()=>xt.resolve(this.Ds.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ss(e,i)])}}function Cd(s,e){return`firestore_clients_${s}_${e}`}function Id(s,e,i){let a=`firestore_mutations_${s}_${i}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function Td(s,e){return`firestore_targets_${s}_${e}`}class Sp{constructor(e,i,a,c){this.user=e,this.batchId=i,this.state=a,this.error=c}static $s(e,i,a){const c=JSON.parse(a);let p,w="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return w&&c.error&&(w="string"==typeof c.error.message&&"string"==typeof c.error.code,w&&(p=new Dt(c.error.code,c.error.message))),w?new Sp(e,i,c.state,p):(vi("SharedClientState",`Failed to parse mutation state for ID '${i}': ${a}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Dd{constructor(e,i,a){this.targetId=e,this.state=i,this.error=a}static $s(e,i){const a=JSON.parse(i);let c,p="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return p&&a.error&&(p="string"==typeof a.error.message&&"string"==typeof a.error.code,p&&(c=new Dt(a.error.code,a.error.message))),p?new Dd(e,a.state,c):(vi("SharedClientState",`Failed to parse target state for ID '${e}': ${i}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ad{constructor(e,i){this.clientId=e,this.activeTargetIds=i}static $s(e,i){const a=JSON.parse(i);let c="object"==typeof a&&a.activeTargetIds instanceof Array,p=Qo();for(let w=0;c&&w<a.activeTargetIds.length;++w)c=ia(a.activeTargetIds[w]),p=p.add(a.activeTargetIds[w]);return c?new Ad(e,p):(vi("SharedClientState",`Failed to parse client data for instance '${e}': ${i}`),null)}}class Rm{constructor(e,i){this.clientId=e,this.onlineState=i}static $s(e){const i=JSON.parse(e);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new Rm(i.clientId,i.onlineState):(vi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class xp{constructor(){this.activeTargetIds=Qo()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Mm{constructor(e,i,a,c,p){this.window=e,this.Oe=i,this.persistenceKey=a,this.Ls=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Ts(tr),this.started=!1,this.Ks=[];const w=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.js=Cd(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new xp),this.Ws=new RegExp(`^firestore_clients_${w}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${w}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${w}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(k){return`firestore_bundle_loaded_${k}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ie.Z)(function*(){const i=yield e.syncEngine.pn();for(const c of i){if(c===e.Ls)continue;const p=e.getItem(Cd(e.persistenceKey,c));if(p){const w=Ad.$s(c,p);w&&(e.qs=e.qs.insert(w.clientId,w))}}e.Ys();const a=e.storage.getItem(e.Hs);if(a){const c=e.Xs(a);c&&e.Zs(c)}for(const c of e.Ks)e.Us(c);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let i=!1;return this.qs.forEach((a,c)=>{c.activeTargetIds.has(e)&&(i=!0)}),i}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,i,a){this.ei(e,i,a),this.ni(e)}addLocalQueryTarget(e){let i="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(Td(this.persistenceKey,e));if(a){const c=Dd.$s(e,a);c&&(i=c.state)}}return this.si.Fs(e),this.Ys(),i}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Td(this.persistenceKey,e))}updateQueryState(e,i,a){this.ii(e,i,a)}handleUserChange(e,i,a){i.forEach(c=>{this.ni(c)}),this.currentUser=e,a.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const i=this.storage.getItem(e);return Nt("SharedClientState","READ",e,i),i}setItem(e,i){Nt("SharedClientState","SET",e,i),this.storage.setItem(e,i)}removeItem(e){Nt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var i=this;const a=e;if(a.storageArea===this.storage){if(Nt("SharedClientState","EVENT",a.key,a.newValue),a.key===this.js)return void vi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,ie.Z)(function*(){if(i.started){if(null!==a.key)if(i.Ws.test(a.key)){if(null==a.newValue){const c=i.ai(a.key);return i.ci(c,null)}{const c=i.ui(a.key,a.newValue);if(c)return i.ci(c.clientId,c)}}else if(i.Gs.test(a.key)){if(null!==a.newValue){const c=i.hi(a.key,a.newValue);if(c)return i.li(c)}}else if(i.zs.test(a.key)){if(null!==a.newValue){const c=i.fi(a.key,a.newValue);if(c)return i.di(c)}}else if(a.key===i.Hs){if(null!==a.newValue){const c=i.Xs(a.newValue);if(c)return i.Zs(c)}}else if(a.key===i.Qs){const c=function(p){let w=ps.T;if(null!=p)try{const k=JSON.parse(p);On("number"==typeof k),w=k}catch(k){vi("SharedClientState","Failed to read sequence number from WebStorage",k)}return w}(a.newValue);c!==ps.T&&i.sequenceNumberHandler(c)}else if(a.key===i.Js)return i.syncEngine.wi()}else i.Ks.push(a)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,i,a){const c=new Sp(this.currentUser,e,i,a),p=Id(this.persistenceKey,this.currentUser,e);this.setItem(p,c.Os())}ni(e){const i=Id(this.persistenceKey,this.currentUser,e);this.removeItem(i)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,i,a){const c=Td(this.persistenceKey,e),p=new Dd(e,i,a);this.setItem(c,p.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(e){const i=this.Ws.exec(e);return i?i[1]:null}ui(e,i){const a=this.ai(e);return Ad.$s(a,i)}hi(e,i){const a=this.Gs.exec(e),c=Number(a[1]);return Sp.$s(new ar(void 0!==a[2]?a[2]:null),c,i)}fi(e,i){const a=this.zs.exec(e),c=Number(a[1]);return Dd.$s(c,i)}Xs(e){return Rm.$s(e)}li(e){var i=this;return(0,ie.Z)(function*(){if(e.user.uid===i.currentUser.uid)return i.syncEngine._i(e.batchId,e.state,e.error);Nt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ci(e,i){const a=i?this.qs.insert(e,i):this.qs.remove(e),c=this.ti(this.qs),p=this.ti(a),w=[],k=[];return p.forEach(z=>{c.has(z)||w.push(z)}),c.forEach(z=>{p.has(z)||k.push(z)}),this.syncEngine.gi(w,k).then(()=>{this.qs=a})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let i=Qo();return e.forEach((a,c)=>{i=i.unionWith(c.activeTargetIds)}),i}}class Rp{constructor(){this.yi=new xp,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,i,a){this.pi[e]=i}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new xp,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Pm{Ti(e){}shutdown(){}}class Om{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){Nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Mp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Nw{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class kw extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,i,a,c){const p=this.Bi(e,i);Nt("RestConnection","Sending: ",p,a);const w={};return this.Ui(w,c),this.qi(e,p,w,a).then(k=>(Nt("RestConnection","Received: ",k),k),k=>{throw mo("RestConnection",`${e} failed with error: `,k,"url: ",p,"request:",a),k})}Ki(e,i,a,c){return this.Li(e,i,a,c)}Ui(e,i){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+zo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i)for(const a in i.authHeaders)i.authHeaders.hasOwnProperty(a)&&(e[a]=i.authHeaders[a])}Bi(e,i){return`${this.Fi}/v1/${i}:${Mp[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,i,a,c){return new Promise((p,w)=>{const k=new bu;k.listenOnce(Wa.COMPLETE,()=>{try{switch(k.getLastErrorCode()){case Js.NO_ERROR:const ce=k.getResponseJson();Nt("Connection","XHR received:",JSON.stringify(ce)),p(ce);break;case Js.TIMEOUT:Nt("Connection",'RPC "'+e+'" timed out'),w(new Dt(at.DEADLINE_EXCEEDED,"Request time out"));break;case Js.HTTP_ERROR:const we=k.getStatus();if(Nt("Connection",'RPC "'+e+'" failed with status:',we,"response text:",k.getResponseText()),we>0){const je=k.getResponseJson().error;if(je&&je.status&&je.message){const ht=function(Ct){const Yt=Ct.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(Yt)>=0?Yt:at.UNKNOWN}(je.status);w(new Dt(ht,je.message))}else w(new Dt(at.UNKNOWN,"Server responded with status "+k.getStatus()))}else w(new Dt(at.UNAVAILABLE,"Connection failed."));break;default:gn()}}finally{Nt("Connection",'RPC "'+e+'" completed.')}});const z=JSON.stringify(c);k.send(i,"POST",z,a,15)})}ji(e,i){const a=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=ba(),p=Ra(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(w.xmlHttpFactory=new ul({})),this.Ui(w.initMessageHeaders,i),(0,he.uI)()||(0,he.b$)()||(0,he.d)()||(0,he.w1)()||(0,he.Mn)()||(0,he.ru)()||(w.httpHeadersOverwriteParam="$httpHeaders");const k=a.join("");Nt("Connection","Creating WebChannel: "+k,w);const z=c.createWebChannel(k,w);let ce=!1,we=!1;const je=new Nw({vi:Ct=>{we?Nt("Connection","Not sending because WebChannel is closed:",Ct):(ce||(Nt("Connection","Opening WebChannel transport."),z.open(),ce=!0),Nt("Connection","WebChannel sending:",Ct),z.send(Ct))},Vi:()=>z.close()}),ht=(Ct,Yt,Sn)=>{Ct.listen(Yt,pr=>{try{Sn(pr)}catch(us){setTimeout(()=>{throw us},0)}})};return ht(z,zs.EventType.OPEN,()=>{we||Nt("Connection","WebChannel transport opened.")}),ht(z,zs.EventType.CLOSE,()=>{we||(we=!0,Nt("Connection","WebChannel transport closed"),je.$i())}),ht(z,zs.EventType.ERROR,Ct=>{we||(we=!0,mo("Connection","WebChannel transport errored:",Ct),je.$i(new Dt(at.UNAVAILABLE,"The operation could not be completed")))}),ht(z,zs.EventType.MESSAGE,Ct=>{var Yt;if(!we){const Sn=Ct.data[0];On(!!Sn);const pr=Sn,us=pr.error||(null===(Yt=pr[0])||void 0===Yt?void 0:Yt.error);if(us){Nt("Connection","WebChannel received error:",us);const qa=us.status;let mu=function(Fu){const Nf=es[Fu];if(void 0!==Nf)return Gl(Nf)}(qa),ku=us.message;void 0===mu&&(mu=at.INTERNAL,ku="Unknown error status: "+qa+" with message "+us.message),we=!0,je.$i(new Dt(mu,ku)),z.close()}else Nt("Connection","WebChannel received:",Sn),je.Oi(Sn)}}),ht(p,vu.STAT_EVENT,Ct=>{Ct.stat===wu.PROXY?Nt("Connection","Detected buffering proxy"):Ct.stat===wu.NOPROXY&&Nt("Connection","Detected no buffering proxy")}),setTimeout(()=>{je.ki()},0),je}}function __(){return"undefined"!=typeof window?window:null}function Pp(){return"undefined"!=typeof document?document:null}function Lh(s){return new dm(s,!0)}class Nm{constructor(e,i,a=1e3,c=1.5,p=6e4){this.Oe=e,this.timerId=i,this.Qi=a,this.Wi=c,this.Gi=p,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const i=Math.floor(this.zi+this.Zi()),a=Math.max(0,Date.now()-this.Ji),c=Math.max(0,i-a);c>0&&Nt("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.zi} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,c,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class v_{constructor(e,i,a,c,p,w){this.Oe=e,this.er=a,this.nr=c,this.credentialsProvider=p,this.listener=w,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Nm(e,i)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var e=this;return(0,ie.Z)(function*(){e.ar()&&(yield e.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(e){this._r(),this.stream.send(e)}dr(){var e=this;return(0,ie.Z)(function*(){if(e.cr())return e.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(e,i){var a=this;return(0,ie.Z)(function*(){a._r(),a.rr.cancel(),a.sr++,3!==e?a.rr.reset():i&&i.code===at.RESOURCE_EXHAUSTED?(vi(i.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),a.rr.Yi()):i&&i.code===at.UNAUTHENTICATED&&a.credentialsProvider.invalidateToken(),null!==a.stream&&(a.mr(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.Ci(i)})()}mr(){}auth(){this.state=1;const e=this.gr(this.sr),i=this.sr;this.credentialsProvider.getToken().then(a=>{this.sr===i&&this.yr(a)},a=>{e(()=>{const c=new Dt(at.UNKNOWN,"Fetching auth token failed: "+a.message);return this.pr(c)})})}yr(e){const i=this.gr(this.sr);this.stream=this.Tr(e),this.stream.Si(()=>{i(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(a=>{i(()=>this.pr(a))}),this.stream.onMessage(a=>{i(()=>this.onMessage(a))})}ur(){var e=this;this.state=4,this.rr.Xi((0,ie.Z)(function*(){e.state=0,e.start()}))}pr(e){return Nt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return i=>{this.Oe.enqueueAndForget(()=>this.sr===e?i():(Nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fw extends v_{constructor(e,i,a,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle",i,a,p),this.N=c}Tr(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const i=function(s,e){let i;if("targetChange"in e){const a="NO_CHANGE"===(z=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===z?1:"REMOVE"===z?2:"CURRENT"===z?3:"RESET"===z?4:gn(),c=e.targetChange.targetIds||[],p=function(z,ce){return z.D?(On(void 0===ce||"string"==typeof ce),V.fromBase64String(ce||"")):(On(void 0===ce||ce instanceof Uint8Array),V.fromUint8Array(ce||new Uint8Array))}(s,e.targetChange.resumeToken),w=e.targetChange.cause,k=w&&function(z){const ce=void 0===z.code?at.UNKNOWN:Gl(z.code);return new Dt(ce,z.message||"")}(w);i=new sp(a,c,p,k||null)}else if("documentChange"in e){const a=e.documentChange,c=Jo(s,a.document.name),p=ks(a.document.updateTime),w=new Ps({mapValue:{fields:a.document.fields}}),k=wi.newFoundDocument(c,p,w);i=new ql(a.targetIds||[],a.removedTargetIds||[],k.key,k)}else if("documentDelete"in e){const a=e.documentDelete,c=Jo(s,a.document),p=a.readTime?ks(a.readTime):Fn.min(),w=wi.newNoDocument(c,p);i=new ql([],a.removedTargetIds||[],w.key,w)}else if("documentRemove"in e){const a=e.documentRemove,c=Jo(s,a.document);i=new ql([],a.removedTargetIds||[],c,null)}else{if(!("filter"in e))return gn();{const a=e.filter,p=new tp(a.count||0);i=new ld(a.targetId,p)}}var z;return i}(this.N,e),a=function(c){if(!("targetChange"in c))return Fn.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?Fn.min():p.readTime?ks(p.readTime):Fn.min()}(e);return this.listener.Er(i,a)}Ir(e){const i={};i.database=gi(this.N),i.addTarget=function(c,p){let w;const k=p.target;return w=$u(k)?{documents:gh(c,k)}:{query:Au(c,k)},w.targetId=p.targetId,p.resumeToken.approximateByteSize()>0?w.resumeToken=ch(c,p.resumeToken):p.snapshotVersion.compareTo(Fn.min())>0&&(w.readTime=Ku(c,p.snapshotVersion.toTimestamp())),w}(this.N,e);const a=function(s,e){const i=function(a,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return gn()}}(0,e.purpose);return null==i?null:{"goog-listen-tags":i}}(0,e);a&&(i.labels=a),this.wr(i)}Ar(e){const i={};i.database=gi(this.N),i.removeTarget=e,this.wr(i)}}class Lw extends v_{constructor(e,i,a,c,p){super(e,"write_stream_connection_backoff","write_stream_idle",i,a,p),this.N=c,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Tr(e){return this.nr.ji("Write",e)}onMessage(e){if(On(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const i=function(s,e){return s&&s.length>0?(On(void 0!==e),s.map(i=>function(a,c){let p=ks(a.updateTime?a.updateTime:c);return p.isEqual(Fn.min())&&(p=ks(c)),new sd(p,a.transformResults||[])}(i,e))):[]}(e.writeResults,e.commitTime),a=ks(e.commitTime);return this.listener.vr(a,i)}return On(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=gi(this.N),this.wr(e)}Pr(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>vl(this.N,a))};this.wr(i)}}class Vw extends class{}{constructor(e,i,a){super(),this.credentials=e,this.nr=i,this.N=a,this.Dr=!1}Cr(){if(this.Dr)throw new Dt(at.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,i,a){return this.Cr(),this.credentials.getToken().then(c=>this.nr.Li(e,i,a,c)).catch(c=>{throw"FirebaseError"===c.name?(c.code===at.UNAUTHENTICATED&&this.credentials.invalidateToken(),c):new Dt(at.UNKNOWN,c.toString())})}Ki(e,i,a){return this.Cr(),this.credentials.getToken().then(c=>this.nr.Ki(e,i,a,c)).catch(c=>{throw"FirebaseError"===c.name?(c.code===at.UNAUTHENTICATED&&this.credentials.invalidateToken(),c):new Dt(at.UNKNOWN,c.toString())})}terminate(){this.Dr=!0}}class Uw{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const i=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(vi(i),this.$r=!1):Nt("OnlineStateTracker",i)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class Tl{constructor(e,i,a,c,p){var w=this;this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=p,this.Qr.Ti(k=>{a.enqueueAndForget((0,ie.Z)(function*(){var z;oc(w)&&(Nt("RemoteStore","Restarting streams for network reachability change."),yield(z=(0,ie.Z)(function*(ce){const we=Jt(ce);we.Kr.add(4),yield ic(we),we.Wr.set("Unknown"),we.Kr.delete(4),yield rc(we)}),function(ce){return z.apply(this,arguments)})(w))}))}),this.Wr=new Uw(a,c)}}function rc(s){return Op.apply(this,arguments)}function Op(){return(Op=(0,ie.Z)(function*(s){if(oc(s))for(const e of s.jr)yield e(!0)})).apply(this,arguments)}function ic(s){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,ie.Z)(function*(s){for(const e of s.jr)yield e(!1)})).apply(this,arguments)}function xd(s,e){const i=Jt(s);i.qr.has(e.targetId)||(i.qr.set(e.targetId,e),kp(i)?Vh(i):Lc(i).cr()&&Np(i,e))}function sc(s,e){const i=Jt(s),a=Lc(i);i.qr.delete(e),a.cr()&&Qu(i,e),0===i.qr.size&&(a.cr()?a.lr():oc(i)&&i.Wr.set("Unknown"))}function Np(s,e){s.Gr.Y(e.targetId),Lc(s).Ir(e)}function Qu(s,e){s.Gr.Y(e),Lc(s).Ar(e)}function Vh(s){s.Gr=new cm({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>s.qr.get(e)||null}),Lc(s).start(),s.Wr.Or()}function kp(s){return oc(s)&&!Lc(s).ar()&&s.qr.size>0}function oc(s){return 0===Jt(s).Kr.size}function Uh(s){s.Gr=void 0}function w_(s){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,ie.Z)(function*(s){s.qr.forEach((e,i)=>{Np(s,e)})})).apply(this,arguments)}function b_(s,e){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,ie.Z)(function*(s,e){Uh(s),kp(s)?(s.Wr.Lr(e),Vh(s)):s.Wr.set("Unknown")})).apply(this,arguments)}function Rd(s,e,i){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,ie.Z)(function*(s,e,i){if(s.Wr.set("Online"),e instanceof sp&&2===e.state&&e.cause)try{yield(a=(0,ie.Z)(function*(c,p){const w=p.cause;for(const k of p.targetIds)c.qr.has(k)&&(yield c.remoteSyncer.rejectListen(k,w),c.qr.delete(k),c.Gr.removeTarget(k))}),function(c,p){return a.apply(this,arguments)})(s,e)}catch(a){Nt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield Nc(s,a)}else if(e instanceof ql?s.Gr.rt(e):e instanceof ld?s.Gr.ft(e):s.Gr.ct(e),!i.isEqual(Fn.min()))try{const a=yield Em(s.localStore);i.compareTo(a)>=0&&(yield function(c,p){const w=c.Gr._t(p);return w.targetChanges.forEach((k,z)=>{if(k.resumeToken.approximateByteSize()>0){const ce=c.qr.get(z);ce&&c.qr.set(z,ce.withResumeToken(k.resumeToken,p))}}),w.targetMismatches.forEach(k=>{const z=c.qr.get(k);if(!z)return;c.qr.set(k,z.withResumeToken(V.EMPTY_BYTE_STRING,z.snapshotVersion)),Qu(c,k);const ce=new Kl(z.target,k,1,z.sequenceNumber);Np(c,ce)}),c.remoteSyncer.applyRemoteEvent(w)}(s,i))}catch(a){Nt("RemoteStore","Failed to raise snapshot:",a),yield Nc(s,a)}var a})).apply(this,arguments)}function Nc(s,e,i){return Al.apply(this,arguments)}function Al(){return(Al=(0,ie.Z)(function*(s,e,i){if(!ru(e))throw e;s.Kr.add(1),yield ic(s),s.Wr.set("Offline"),i||(i=()=>Em(s.localStore)),s.asyncQueue.enqueueRetryable((0,ie.Z)(function*(){Nt("RemoteStore","Retrying IndexedDB access"),yield i(),s.Kr.delete(1),yield rc(s)}))})).apply(this,arguments)}function kc(s,e){return e().catch(i=>Nc(s,i,e))}function cu(s){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,ie.Z)(function*(s){const e=Jt(s),i=Ls(e);let a=e.Ur.length>0?e.Ur[e.Ur.length-1].batchId:-1;for(;km(e);)try{const c=yield m_(e.localStore,a);if(null===c){0===e.Ur.length&&i.lr();break}a=c.batchId,Fm(e,c)}catch(c){yield Nc(e,c)}jh(e)&&Hh(e)})).apply(this,arguments)}function km(s){return oc(s)&&s.Ur.length<10}function Fm(s,e){s.Ur.push(e);const i=Ls(s);i.cr()&&i.br&&i.Pr(e.mutations)}function jh(s){return oc(s)&&!Ls(s).ar()&&s.Ur.length>0}function Hh(s){Ls(s).start()}function Lm(s){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,ie.Z)(function*(s){Ls(s).Sr()})).apply(this,arguments)}function E_(s){return $h.apply(this,arguments)}function $h(){return($h=(0,ie.Z)(function*(s){const e=Ls(s);for(const i of s.Ur)e.Pr(i.mutations)})).apply(this,arguments)}function Bw(s,e,i){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,ie.Z)(function*(s,e,i){const a=s.Ur.shift(),c=vh.from(a,e,i);yield kc(s,()=>s.remoteSyncer.applySuccessfulWrite(c)),yield cu(s)})).apply(this,arguments)}function Vm(s,e){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,ie.Z)(function*(s,e){var i;e&&Ls(s).br&&(yield(i=(0,ie.Z)(function*(a,c){if(Wu(p=c.code)&&p!==at.ABORTED){const w=a.Ur.shift();Ls(a).hr(),yield kc(a,()=>a.remoteSyncer.rejectFailedWrite(w.batchId,c)),yield cu(a)}var p}),function(a,c){return i.apply(this,arguments)})(s,e)),jh(s)&&Hh(s)})).apply(this,arguments)}function qh(s,e){return Up.apply(this,arguments)}function Up(){return(Up=(0,ie.Z)(function*(s,e){const i=Jt(s);e?(i.Kr.delete(2),yield rc(i)):e||(i.Kr.add(2),yield ic(i),i.Wr.set("Unknown"))})).apply(this,arguments)}function Lc(s){return s.zr||(s.zr=function(e,i,a){const c=Jt(e);return c.Cr(),new Fw(i,c.nr,c.credentials,c.N,a)}(s.datastore,s.asyncQueue,{Si:w_.bind(null,s),Ci:b_.bind(null,s),Er:Rd.bind(null,s)}),s.jr.push(function(){var e=(0,ie.Z)(function*(i){i?(s.zr.hr(),kp(s)?Vh(s):s.Wr.set("Unknown")):(yield s.zr.stop(),Uh(s))});return function(i){return e.apply(this,arguments)}}())),s.zr}function Ls(s){return s.Hr||(s.Hr=function(e,i,a){const c=Jt(e);return c.Cr(),new Lw(i,c.nr,c.credentials,c.N,a)}(s.datastore,s.asyncQueue,{Si:Lm.bind(null,s),Ci:Vm.bind(null,s),Vr:E_.bind(null,s),vr:Bw.bind(null,s)}),s.jr.push(function(){var e=(0,ie.Z)(function*(i){i?(s.Hr.hr(),yield cu(s)):(yield s.Hr.stop(),s.Ur.length>0&&(Nt("RemoteStore",`Stopping write stream with ${s.Ur.length} pending writes`),s.Ur=[]))});return function(i){return e.apply(this,arguments)}}())),s.Hr}class Bp{constructor(e,i,a,c,p){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=c,this.removalCallback=p,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(w=>{})}static createAndSchedule(e,i,a,c,p){const w=Date.now()+a,k=new Bp(e,i,w,c,p);return k.start(a),k}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Dt(at.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vc(s,e){if(vi("AsyncQueue",`${e}: ${s}`),ru(s))return new Dt(at.UNAVAILABLE,`${e}: ${s}`);throw s}class Md{constructor(e){this.comparator=e?(i,a)=>e(i,a)||ln.comparator(i.key,a.key):(i,a)=>ln.comparator(i.key,a.key),this.keyedMap=Cc(),this.sortedSet=new Ts(this.comparator)}static emptySet(e){return new Md(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Md)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const c=i.getNext().key,p=a.getNext().key;if(!c.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,i){const a=new Md;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class C_{constructor(){this.Jr=new Ts(ln.comparator)}track(e){const i=e.doc.key,a=this.Jr.get(i);a?0!==e.type&&3===a.type?this.Jr=this.Jr.insert(i,e):3===e.type&&1!==a.type?this.Jr=this.Jr.insert(i,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.Jr=this.Jr.insert(i,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.Jr=this.Jr.insert(i,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.Jr=this.Jr.remove(i):1===e.type&&2===a.type?this.Jr=this.Jr.insert(i,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.Jr=this.Jr.insert(i,{type:2,doc:e.doc}):gn():this.Jr=this.Jr.insert(i,e)}Yr(){const e=[];return this.Jr.inorderTraversal((i,a)=>{e.push(a)}),e}}class ac{constructor(e,i,a,c,p,w,k,z){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=c,this.mutatedKeys=p,this.fromCache=w,this.syncStateChanged=k,this.excludesMetadataChanges=z}static fromInitialDocuments(e,i,a,c){const p=[];return i.forEach(w=>{p.push({type:0,doc:w})}),new ac(e,i,Md.emptySet(i),p,a,c,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ll(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let c=0;c<i.length;c++)if(i[c].type!==a[c].type||!i[c].doc.isEqual(a[c].doc))return!1;return!0}}class jw{constructor(){this.Xr=void 0,this.listeners=[]}}class I_{constructor(){this.queries=new Il(e=>cl(e),ll),this.onlineState="Unknown",this.Zr=new Set}}function Pd(s,e){return zh.apply(this,arguments)}function zh(){return(zh=(0,ie.Z)(function*(s,e){const i=Jt(s),a=e.query;let c=!1,p=i.queries.get(a);if(p||(c=!0,p=new jw),c)try{p.Xr=yield i.onListen(a)}catch(w){const k=Vc(w,`Initialization of query '${eh(e.query)}' failed`);return void e.onError(k)}i.queries.set(a,p),p.listeners.push(e),e.eo(i.onlineState),p.Xr&&e.no(p.Xr)&&$p(i)})).apply(this,arguments)}function jp(s,e){return Hp.apply(this,arguments)}function Hp(){return(Hp=(0,ie.Z)(function*(s,e){const i=Jt(s),a=e.query;let c=!1;const p=i.queries.get(a);if(p){const w=p.listeners.indexOf(e);w>=0&&(p.listeners.splice(w,1),c=0===p.listeners.length)}if(c)return i.queries.delete(a),i.onUnlisten(a)})).apply(this,arguments)}function T_(s,e){const i=Jt(s);let a=!1;for(const c of e){const w=i.queries.get(c.query);if(w){for(const k of w.listeners)k.no(c)&&(a=!0);w.Xr=c}}a&&$p(i)}function Um(s,e,i){const a=Jt(s),c=a.queries.get(e);if(c)for(const p of c.listeners)p.onError(i);a.queries.delete(e)}function $p(s){s.Zr.forEach(e=>{e.next()})}class Zh{constructor(e,i,a){this.query=e,this.so=i,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=a||{}}no(e){if(!this.options.includeMetadataChanges){const a=[];for(const c of e.docChanges)3!==c.type&&a.push(c);e=new ac(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let i=!1;return this.io?this.oo(e)&&(this.so.next(e),i=!0):this.ao(e,this.onlineState)&&(this.co(e),i=!0),this.ro=e,i}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let i=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),i=!0),i}ao(e,i){return!e.fromCache||!(this.options.uo&&"Offline"!==i||e.docs.isEmpty()&&"Offline"!==i)}oo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(e){e=ac.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class D_{constructor(e,i){this.payload=e,this.byteLength=i}ho(){return"metadata"in this.payload}}class Bm{constructor(e){this.N=e}zn(e){return Jo(this.N,e)}Hn(e){return e.metadata.exists?zl(this.N,e.document,!1):wi.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return ks(e)}}class jm{constructor(e,i,a){this.lo=e,this.localStore=i,this.N=a,this.queries=[],this.documents=[],this.progress=Gp(e)}fo(e){this.progress.bytesLoaded+=e.byteLength;let i=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++i):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++i),i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}wo(e){const i=new Map,a=new Bm(this.N);for(const c of e)if(c.metadata.queries){const p=a.zn(c.metadata.name);for(const w of c.metadata.queries){const k=(i.get(w)||Ur()).add(p);i.set(w,k)}}return i}complete(){var e=this;return(0,ie.Z)(function*(){const i=yield function(s,e,i,a){return Oc.apply(this,arguments)}(e.localStore,new Bm(e.N),e.documents,e.lo.id),a=e.wo(e.documents);for(const c of e.queries)yield uu(e.localStore,c,a.get(c.name));return e.progress.taskState="Success",new bp(Object.assign({},e.progress),i)})()}}function Gp(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class Hm{constructor(e){this.key=e}}class du{constructor(e){this.key=e}}class Wh{constructor(e,i){this.query=e,this._o=i,this.mo=null,this.current=!1,this.yo=Ur(),this.mutatedKeys=Ur(),this.po=Ba(e),this.To=new Md(this.po)}get Eo(){return this._o}Io(e,i){const a=i?i.Ao:new C_,c=i?i.To:this.To;let p=i?i.mutatedKeys:this.mutatedKeys,w=c,k=!1;const z=Ns(this.query)&&c.size===this.query.limit?c.last():null,ce=Gu(this.query)&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((we,je)=>{const ht=c.get(we),Ct=Ua(this.query,je)?je:null,Yt=!!ht&&this.mutatedKeys.has(ht.key),Sn=!!Ct&&(Ct.hasLocalMutations||this.mutatedKeys.has(Ct.key)&&Ct.hasCommittedMutations);let pr=!1;ht&&Ct?ht.data.isEqual(Ct.data)?Yt!==Sn&&(a.track({type:3,doc:Ct}),pr=!0):this.Ro(ht,Ct)||(a.track({type:2,doc:Ct}),pr=!0,(z&&this.po(Ct,z)>0||ce&&this.po(Ct,ce)<0)&&(k=!0)):!ht&&Ct?(a.track({type:0,doc:Ct}),pr=!0):ht&&!Ct&&(a.track({type:1,doc:ht}),pr=!0,(z||ce)&&(k=!0)),pr&&(Ct?(w=w.add(Ct),p=Sn?p.add(we):p.delete(we)):(w=w.delete(we),p=p.delete(we)))}),Ns(this.query)||Gu(this.query))for(;w.size>this.query.limit;){const we=Ns(this.query)?w.last():w.first();w=w.delete(we.key),p=p.delete(we.key),a.track({type:1,doc:we})}return{To:w,Ao:a,Ln:k,mutatedKeys:p}}Ro(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a){const c=this.To;this.To=e.To,this.mutatedKeys=e.mutatedKeys;const p=e.Ao.Yr();p.sort((ce,we)=>function(je,ht){const Ct=Yt=>{switch(Yt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gn()}};return Ct(je)-Ct(ht)}(ce.type,we.type)||this.po(ce.doc,we.doc)),this.bo(a);const w=i?this.Po():[],k=0===this.yo.size&&this.current?1:0,z=k!==this.mo;return this.mo=k,0!==p.length||z?{snapshot:new ac(this.query,e.To,c,p,e.mutatedKeys,0===k,z,!1),vo:w}:{vo:w}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({To:this.To,Ao:new C_,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.To.has(e)&&!this.To.get(e).hasLocalMutations}bo(e){e&&(e.addedDocuments.forEach(i=>this._o=this._o.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this._o=this._o.delete(i)),this.current=e.current)}Po(){if(!this.current)return[];const e=this.yo;this.yo=Ur(),this.To.forEach(a=>{this.Vo(a.key)&&(this.yo=this.yo.add(a.key))});const i=[];return e.forEach(a=>{this.yo.has(a)||i.push(new du(a))}),this.yo.forEach(a=>{e.has(a)||i.push(new Hm(a))}),i}So(e){this._o=e.Gn,this.yo=Ur();const i=this.Io(e.documents);return this.applyChanges(i,!0)}Do(){return ac.fromInitialDocuments(this.query,this.To,this.mutatedKeys,0===this.mo)}}class A_{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class S_{constructor(e){this.key=e,this.Co=!1}}class Hw{constructor(e,i,a,c,p,w){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=c,this.currentUser=p,this.maxConcurrentLimboResolutions=w,this.No={},this.xo=new Il(k=>cl(k),ll),this.ko=new Map,this.$o=new Set,this.Oo=new Ts(ln.comparator),this.Fo=new Map,this.Mo=new Ed,this.Lo={},this.Bo=new Map,this.Uo=tc.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function $m(s,e){return qp.apply(this,arguments)}function qp(){return(qp=(0,ie.Z)(function*(s,e){const i=ag(s);let a,c;const p=i.xo.get(e);if(p)a=p.targetId,i.sharedClientState.addLocalQueryTarget(a),c=p.view.Do();else{const w=yield Mc(i.localStore,ro(e)),k=i.sharedClientState.addLocalQueryTarget(w.targetId);a=w.targetId,c=yield zp(i,e,a,"current"===k),i.isPrimaryClient&&xd(i.remoteStore,w)}return c})).apply(this,arguments)}function zp(s,e,i,a){return Zp.apply(this,arguments)}function Zp(){return(Zp=(0,ie.Z)(function*(s,e,i,a){s.Ko=(we,je,ht)=>{return(Ct=(0,ie.Z)(function*(Yt,Sn,pr,us){let qa=Sn.view.Io(pr);qa.Ln&&(qa=yield Nh(Yt.localStore,Sn.query,!1).then(({documents:Fu})=>Sn.view.Io(Fu,qa)));const mu=us&&us.targetChanges.get(Sn.targetId),ku=Sn.view.applyChanges(qa,Yt.isPrimaryClient,mu);return hu(Yt,Sn.targetId,ku.vo),ku.snapshot}),function(Yt,Sn,pr,us){return Ct.apply(this,arguments)})(s,we,je,ht);var Ct};const c=yield Nh(s.localStore,e,!0),p=new Wh(e,c.Gn),w=p.Io(c.documents),k=Xa.createSynthesizedTargetChangeForCurrentChange(i,a&&"Offline"!==s.onlineState),z=p.applyChanges(w,s.isPrimaryClient,k);hu(s,i,z.vo);const ce=new A_(e,i,p);return s.xo.set(e,ce),s.ko.has(i)?s.ko.get(i).push(e):s.ko.set(i,[e]),z.snapshot})).apply(this,arguments)}function Wp(s,e){return Kp.apply(this,arguments)}function Kp(){return(Kp=(0,ie.Z)(function*(s,e){const i=Jt(s),a=i.xo.get(e),c=i.ko.get(a.targetId);if(c.length>1)return i.ko.set(a.targetId,c.filter(p=>!ll(p,e))),void i.xo.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||(yield Pc(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),sc(i.remoteStore,a.targetId),uc(i,a.targetId)}).catch(Cl))):(uc(i,a.targetId),yield Pc(i.localStore,a.targetId,!0))})).apply(this,arguments)}function Uc(){return(Uc=(0,ie.Z)(function*(s,e,i){const a=ug(s);try{const c=yield function(p,w){const k=Jt(p),z=Ti.now(),ce=w.reduce((je,ht)=>je.add(ht.key),Ur());let we;return k.persistence.runTransaction("Locally write mutations","readwrite",je=>k.Qn.Pn(je,ce).next(ht=>{we=ht;const Ct=[];for(const Yt of w){const Sn=ep(Yt,we.get(Yt.key));null!=Sn&&Ct.push(new Qa(Yt.key,Sn,Ia(Sn.value.mapValue),Gi.exists(!0)))}return k.In.addMutationBatch(je,z,Ct,w)})).then(je=>(je.applyToLocalDocumentSet(we),{batchId:je.batchId,changes:we}))}(a.localStore,e);a.sharedClientState.addPendingMutation(c.batchId),function(p,w,k){let z=p.Lo[p.currentUser.toKey()];z||(z=new Ts(tr)),z=z.insert(w,k),p.Lo[p.currentUser.toKey()]=z}(a,c.batchId,i),yield Ju(a,c.changes),yield cu(a.remoteStore)}catch(c){const p=Vc(c,"Failed to persist write");i.reject(p)}})).apply(this,arguments)}function Kh(s,e){return Yp.apply(this,arguments)}function Yp(){return(Yp=(0,ie.Z)(function*(s,e){const i=Jt(s);try{const a=yield Cm(i.localStore,e);e.targetChanges.forEach((c,p)=>{const w=i.Fo.get(p);w&&(On(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?w.Co=!0:c.modifiedDocuments.size>0?On(w.Co):c.removedDocuments.size>0&&(On(w.Co),w.Co=!1))}),yield Ju(i,a,e)}catch(a){yield Cl(a)}})).apply(this,arguments)}function Yh(s,e,i){const a=Jt(s);if(a.isPrimaryClient&&0===i||!a.isPrimaryClient&&1===i){const c=[];a.xo.forEach((p,w)=>{const k=w.view.eo(e);k.snapshot&&c.push(k.snapshot)}),function(p,w){const k=Jt(p);k.onlineState=w;let z=!1;k.queries.forEach((ce,we)=>{for(const je of we.listeners)je.eo(w)&&(z=!0)}),z&&$p(k)}(a.eventManager,e),c.length&&a.No.Er(c),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function Qp(s,e,i){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,ie.Z)(function*(s,e,i){const a=Jt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const c=a.Fo.get(e),p=c&&c.key;if(p){let w=new Ts(ln.comparator);w=w.insert(p,wi.newNoDocument(p,Fn.min()));const k=Ur().add(p),z=new Ja(Fn.min(),new Map,new ts(tr),w,k);yield Kh(a,z),a.Oo=a.Oo.remove(p),a.Fo.delete(e),tg(a)}else yield Pc(a.localStore,e,!1).then(()=>uc(a,e,i)).catch(Cl)})).apply(this,arguments)}function R_(s,e){return Jp.apply(this,arguments)}function Jp(){return(Jp=(0,ie.Z)(function*(s,e){const i=Jt(s),a=e.batch.batchId;try{const c=yield au(i.localStore,e);ef(i,a,null),Xh(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),yield Ju(i,c)}catch(c){yield Cl(c)}})).apply(this,arguments)}function Xp(s,e,i){return Gm.apply(this,arguments)}function Gm(){return(Gm=(0,ie.Z)(function*(s,e,i){const a=Jt(s);try{const c=yield function(p,w){const k=Jt(p);return k.persistence.runTransaction("Reject batch","readwrite-primary",z=>{let ce;return k.In.lookupMutationBatch(z,w).next(we=>(On(null!==we),ce=we.keys(),k.In.removeMutationBatch(z,we))).next(()=>k.In.performConsistencyCheck(z)).next(()=>k.Qn.Pn(z,ce))})}(a.localStore,e);ef(a,e,i),Xh(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),yield Ju(a,c)}catch(c){yield Cl(c)}})).apply(this,arguments)}function Jh(){return(Jh=(0,ie.Z)(function*(s,e){const i=Jt(s);oc(i.remoteStore)||Nt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(p){const w=Jt(p);return w.persistence.runTransaction("Get highest unacknowledged batch id","readonly",k=>w.In.getHighestUnacknowledgedBatchId(k))}(i.localStore);if(-1===a)return void e.resolve();const c=i.Bo.get(a)||[];c.push(e),i.Bo.set(a,c)}catch(a){const c=Vc(a,"Initialization of waitForPendingWrites() operation failed");e.reject(c)}})).apply(this,arguments)}function Xh(s,e){(s.Bo.get(e)||[]).forEach(i=>{i.resolve()}),s.Bo.delete(e)}function ef(s,e,i){const a=Jt(s);let c=a.Lo[a.currentUser.toKey()];if(c){const p=c.get(e);p&&(i?p.reject(i):p.resolve(),c=c.remove(e)),a.Lo[a.currentUser.toKey()]=c}}function uc(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.ko.get(e))s.xo.delete(a),i&&s.No.jo(a,i);s.ko.delete(e),s.isPrimaryClient&&s.Mo.cs(e).forEach(a=>{s.Mo.containsKey(a)||eg(s,a)})}function eg(s,e){s.$o.delete(e.path.canonicalString());const i=s.Oo.get(e);null!==i&&(sc(s.remoteStore,i),s.Oo=s.Oo.remove(e),s.Fo.delete(i),tg(s))}function hu(s,e,i){for(const a of i)a instanceof Hm?(s.Mo.addReference(a.key,e),tf(s,a)):a instanceof du?(Nt("SyncEngine","Document no longer in limbo: "+a.key),s.Mo.removeReference(a.key,e),s.Mo.containsKey(a.key)||eg(s,a.key)):gn()}function tf(s,e){const i=e.key,a=i.path.canonicalString();s.Oo.get(i)||s.$o.has(a)||(Nt("SyncEngine","New document in limbo: "+i),s.$o.add(a),tg(s))}function tg(s){for(;s.$o.size>0&&s.Oo.size<s.maxConcurrentLimboResolutions;){const e=s.$o.values().next().value;s.$o.delete(e);const i=new ln(qr.fromString(e)),a=s.Uo.next();s.Fo.set(a,new S_(i)),s.Oo=s.Oo.insert(i,a),xd(s.remoteStore,new Kl(ro(Is(i.path)),a,2,ps.T))}}function Ju(s,e,i){return qm.apply(this,arguments)}function qm(){return(qm=(0,ie.Z)(function*(s,e,i){const a=Jt(s),c=[],p=[],w=[];var k;a.xo.isEmpty()||(a.xo.forEach((k,z)=>{w.push(a.Ko(z,e,i).then(ce=>{if(ce){a.isPrimaryClient&&a.sharedClientState.updateQueryState(z.targetId,ce.fromCache?"not-current":"current"),c.push(ce);const we=wm.kn(z.targetId,ce);p.push(we)}}))}),yield Promise.all(w),a.No.Er(c),yield(k=(0,ie.Z)(function*(z,ce){const we=Jt(z);try{yield we.persistence.runTransaction("notifyLocalViewChanges","readwrite",je=>xt.forEach(ce,ht=>xt.forEach(ht.Nn,Ct=>we.persistence.referenceDelegate.addReference(je,ht.targetId,Ct)).next(()=>xt.forEach(ht.xn,Ct=>we.persistence.referenceDelegate.removeReference(je,ht.targetId,Ct)))))}catch(je){if(!ru(je))throw je;Nt("LocalStore","Failed to update sequence numbers: "+je)}for(const je of ce){const ht=je.targetId;if(!je.fromCache){const Ct=we.Un.get(ht),Sn=Ct.withLastLimboFreeSnapshotVersion(Ct.snapshotVersion);we.Un=we.Un.insert(ht,Sn)}}}),function(z,ce){return k.apply(this,arguments)})(a.localStore,p))})).apply(this,arguments)}function Bc(s,e){return nf.apply(this,arguments)}function nf(){return(nf=(0,ie.Z)(function*(s,e){const i=Jt(s);if(!i.currentUser.isEqual(e)){Nt("SyncEngine","User change. New user:",e.toKey());const a=yield bm(i.localStore,e);i.currentUser=e,(c=i).Bo.forEach(w=>{w.forEach(k=>{k.reject(new Dt(at.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Bo.clear(),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield Ju(i,a.Wn)}var c})).apply(this,arguments)}function Od(s,e){const i=Jt(s),a=i.Fo.get(e);if(a&&a.Co)return Ur().add(a.key);{let c=Ur();const p=i.ko.get(e);if(!p)return c;for(const w of p){const k=i.xo.get(w);c=c.unionWith(k.view.Eo)}return c}}function Nd(s,e){return ng.apply(this,arguments)}function ng(){return(ng=(0,ie.Z)(function*(s,e){const i=Jt(s),a=yield Nh(i.localStore,e.query,!0),c=e.view.So(a);return i.isPrimaryClient&&hu(i,e.targetId,c.vo),c})).apply(this,arguments)}function rg(s){return rf.apply(this,arguments)}function rf(){return(rf=(0,ie.Z)(function*(s){const e=Jt(s);return Dm(e.localStore).then(i=>Ju(e,i))})).apply(this,arguments)}function P_(s,e,i,a){return sf.apply(this,arguments)}function sf(){return(sf=(0,ie.Z)(function*(s,e,i,a){const c=Jt(s),p=yield function(w,k){const z=Jt(w),ce=Jt(z.In);return z.persistence.runTransaction("Lookup mutation documents","readonly",we=>ce.Xt(we,k).next(je=>je?z.Qn.Pn(we,je):xt.resolve(null)))}(c.localStore,e);var k;null!==p?("pending"===i?yield cu(c.remoteStore):"acknowledged"===i||"rejected"===i?(ef(c,e,a||null),Xh(c,e),k=e,Jt(Jt(c.localStore).In).te(k)):gn(),yield Ju(c,p)):Nt("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function kd(){return(kd=(0,ie.Z)(function*(s,e){const i=Jt(s);if(ag(i),ug(i),!0===e&&!0!==i.qo){const a=i.sharedClientState.getAllActiveQueryTargets(),c=yield zm(i,a.toArray());i.qo=!0,yield qh(i.remoteStore,!0);for(const p of c)xd(i.remoteStore,p)}else if(!1===e&&!1!==i.qo){const a=[];let c=Promise.resolve();i.ko.forEach((p,w)=>{i.sharedClientState.isLocalQueryTarget(w)?a.push(w):c=c.then(()=>(uc(i,w),Pc(i.localStore,w,!0))),sc(i.remoteStore,w)}),yield c,yield zm(i,a),function(p){const w=Jt(p);w.Fo.forEach((k,z)=>{sc(w.remoteStore,z)}),w.Mo.us(),w.Fo=new Map,w.Oo=new Ts(ln.comparator)}(i),i.qo=!1,yield qh(i.remoteStore,!1)}})).apply(this,arguments)}function zm(s,e,i){return ig.apply(this,arguments)}function ig(){return(ig=(0,ie.Z)(function*(s,e,i){const a=Jt(s),c=[],p=[];for(const w of e){let k;const z=a.ko.get(w);if(z&&0!==z.length){k=yield Mc(a.localStore,ro(z[0]));for(const ce of z){const we=a.xo.get(ce),je=yield Nd(a,we);je.snapshot&&p.push(je.snapshot)}}else{const ce=yield Tm(a.localStore,w);k=yield Mc(a.localStore,ce),yield zp(a,sg(ce),w,!1)}c.push(k)}return a.No.Er(p),c})).apply(this,arguments)}function sg(s){return Va(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function jc(s){const e=Jt(s);return Jt(Jt(e.localStore).persistence).pn()}function Zm(s,e,i,a){return og.apply(this,arguments)}function og(){return(og=(0,ie.Z)(function*(s,e,i,a){const c=Jt(s);if(c.qo)Nt("SyncEngine","Ignoring unexpected query state notification.");else if(c.ko.has(e))switch(i){case"current":case"not-current":{const p=yield Dm(c.localStore),w=Ja.createSynthesizedRemoteEventForCurrentChange(e,"current"===i);yield Ju(c,p,w);break}case"rejected":yield Pc(c.localStore,e,!0),uc(c,e,a);break;default:gn()}})).apply(this,arguments)}function N_(s,e,i){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,ie.Z)(function*(s,e,i){const a=ag(s);if(a.qo){for(const c of e){if(a.ko.has(c)){Nt("SyncEngine","Adding an already active target "+c);continue}const p=yield Tm(a.localStore,c),w=yield Mc(a.localStore,p);yield zp(a,sg(p),w.targetId,!1),xd(a.remoteStore,w)}for(const c of i)a.ko.has(c)&&(yield Pc(a.localStore,c,!1).then(()=>{sc(a.remoteStore,c),uc(a,c)}).catch(Cl))}})).apply(this,arguments)}function ag(s){const e=Jt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Od.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Qp.bind(null,e),e.No.Er=T_.bind(null,e.eventManager),e.No.jo=Um.bind(null,e.eventManager),e}function ug(s){const e=Jt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Xp.bind(null,e),e}class Wm{constructor(){this.synchronizeTabs=!1}initialize(e){var i=this;return(0,ie.Z)(function*(){i.N=Lh(e.databaseInfo.databaseId),i.sharedClientState=i.Wo(e),i.persistence=i.Go(e),yield i.persistence.start(),i.gcScheduler=i.zo(e),i.localStore=i.Ho(e)})()}zo(e){return null}Ho(e){return Ip(this.persistence,new Cp,e.initialUser,this.N)}Go(e){return new xm(lu.Ns,this.N)}Wo(e){return new Rp}terminate(){var e=this;return(0,ie.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class F_ extends Wm{constructor(e,i,a){super(),this.Jo=e,this.cacheSizeBytes=i,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(e){var i=()=>super.initialize,a=this;return(0,ie.Z)(function*(){yield i().call(a,e),yield function(s){return kh.apply(this,arguments)}(a.localStore),yield a.Jo.initialize(a,e),yield ug(a.Jo.syncEngine),yield cu(a.Jo.remoteStore),yield a.persistence.nn(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(a.localStore),Promise.resolve()))})()}Ho(e){return Ip(this.persistence,new Cp,e.initialUser,this.N)}zo(e){return new p_(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Go(e){const i=Ph(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?ha.withCacheSize(this.cacheSizeBytes):ha.DEFAULT;return new Rh(this.synchronizeTabs,i,e.clientId,a,e.asyncQueue,__(),Pp(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(e){return new Rp}}class L_ extends F_{constructor(e,i){super(e,i,!1),this.Jo=e,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(e){var i=()=>super.initialize,a=this;return(0,ie.Z)(function*(){yield i().call(a,e);const c=a.Jo.syncEngine;a.sharedClientState instanceof Mm&&(a.sharedClientState.syncEngine={_i:P_.bind(null,c),mi:Zm.bind(null,c),gi:N_.bind(null,c),pn:jc.bind(null,c),wi:rg.bind(null,c)},yield a.sharedClientState.start()),yield a.persistence.nn(function(){var p=(0,ie.Z)(function*(w){yield function(s,e){return kd.apply(this,arguments)}(a.Jo.syncEngine,w),a.gcScheduler&&(w&&!a.gcScheduler.started?a.gcScheduler.start(a.localStore):w||a.gcScheduler.stop())});return function(w){return p.apply(this,arguments)}}())})()}Wo(e){const i=__();if(!Mm.bt(i))throw new Dt(at.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Ph(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Mm(i,e.asyncQueue,a,e.clientId,e.initialUser)}}class af{initialize(e,i){var a=this;return(0,ie.Z)(function*(){a.localStore||(a.localStore=e.localStore,a.sharedClientState=e.sharedClientState,a.datastore=a.createDatastore(i),a.remoteStore=a.createRemoteStore(i),a.eventManager=a.createEventManager(i),a.syncEngine=a.createSyncEngine(i,!e.synchronizeTabs),a.sharedClientState.onlineStateHandler=c=>Yh(a.syncEngine,c,1),a.remoteStore.remoteSyncer.handleCredentialChange=Bc.bind(null,a.syncEngine),yield qh(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(e){return new I_}createDatastore(e){const i=Lh(e.databaseInfo.databaseId),a=new kw(e.databaseInfo);return new Vw(e.credentials,a,i)}createRemoteStore(e){return i=this.localStore,a=this.datastore,c=e.asyncQueue,p=k=>Yh(this.syncEngine,k,0),w=Om.bt()?new Om:new Pm,new Tl(i,a,c,p,w);var i,a,c,p,w}createSyncEngine(e,i){return function(a,c,p,w,k,z,ce){const we=new Hw(a,c,p,w,k,z);return ce&&(we.qo=!0),we}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){return(e=(0,ie.Z)(function*(i){const a=Jt(i);Nt("RemoteStore","RemoteStore shutting down."),a.Kr.add(5),yield ic(a),a.Qr.shutdown(),a.Wr.set("Unknown")}),function(i){return e.apply(this,arguments)})(this.remoteStore);var e}}function qi(s,e=10240){let i=0;return{read:()=>(0,ie.Z)(function*(){if(i<s.byteLength){const a={value:s.slice(i,i+e),done:!1};return i+=e,a}return{done:!0}})(),cancel:()=>(0,ie.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Hc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,i){this.muted||setTimeout(()=>{this.muted||e(i)},0)}}class $w{constructor(e,i){this.Zo=e,this.N=i,this.metadata=new Vi,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(a=>{a&&a.ho()?this.metadata.resolve(a.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.payload)}`))},a=>this.metadata.reject(a))}close(){return this.Zo.cancel()}getMetadata(){var e=this;return(0,ie.Z)(function*(){return e.metadata.promise})()}Qo(){var e=this;return(0,ie.Z)(function*(){return yield e.getMetadata(),e.ea()})()}ea(){var e=this;return(0,ie.Z)(function*(){const i=yield e.na();if(null===i)return null;const a=e.ta.decode(i),c=Number(a);isNaN(c)&&e.sa(`length string (${a}) is not valid number`);const p=yield e.ia(c);return new D_(JSON.parse(p),i.length+c)})()}ra(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}na(){var e=this;return(0,ie.Z)(function*(){for(;e.ra()<0&&!(yield e.oa()););if(0===e.buffer.length)return null;const i=e.ra();i<0&&e.sa("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,i);return e.buffer=e.buffer.slice(i),a})()}ia(e){var i=this;return(0,ie.Z)(function*(){for(;i.buffer.length<e;)(yield i.oa())&&i.sa("Reached the end of bundle when more is expected.");const a=i.ta.decode(i.buffer.slice(0,e));return i.buffer=i.buffer.slice(e),a})()}sa(e){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${e}`)}oa(){var e=this;return(0,ie.Z)(function*(){const i=yield e.Zo.read();if(!i.done){const a=new Uint8Array(e.buffer.length+i.value.length);a.set(e.buffer),a.set(i.value,e.buffer.length),e.buffer=a}return i.done})()}}class Xu{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var i=this;return(0,ie.Z)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw new Dt(at.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(c=(0,ie.Z)(function*(p,w){const k=Jt(p),z=gi(k.N)+"/documents",ce={documents:w.map(Ct=>ja(k.N,Ct))},we=yield k.Ki("BatchGetDocuments",z,ce),je=new Map;we.forEach(Ct=>{const Yt=function(s,e){return"found"in e?function(i,a){On(!!a.found);const c=Jo(i,a.found.name),p=ks(a.found.updateTime),w=new Ps({mapValue:{fields:a.found.fields}});return wi.newFoundDocument(c,p,w)}(s,e):"missing"in e?function(i,a){On(!!a.missing),On(!!a.readTime);const c=Jo(i,a.missing),p=ks(a.readTime);return wi.newNoDocument(c,p)}(s,e):gn()}(k.N,Ct);je.set(Yt.key.toString(),Yt)});const ht=[];return w.forEach(Ct=>{const Yt=je.get(Ct.toString());On(!!Yt),ht.push(Yt)}),ht}),function(p,w){return c.apply(this,arguments)})(i.datastore,e);var c;return a.forEach(c=>i.recordVersion(c)),a})()}set(e,i){this.write(i.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,i){try{this.write(i.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new Hl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ie.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const i=e.readVersions;var a;e.mutations.forEach(a=>{i.delete(a.key.toString())}),i.forEach((a,c)=>{const p=ln.fromPath(c);e.mutations.push(new $l(p,e.precondition(p)))}),yield(a=(0,ie.Z)(function*(c,p){const w=Jt(c),k=gi(w.N)+"/documents",z={writes:p.map(ce=>vl(w.N,ce))};yield w.Li("Commit",k,z)}),function(c,p){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let i;if(e.isFoundDocument())i=e.version;else{if(!e.isNoDocument())throw gn();i=Fn.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!i.isEqual(a))throw new Dt(at.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),i)}precondition(e){const i=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&i?Gi.updateTime(i):Gi.none()}preconditionForUpdate(e){const i=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&i){if(i.isEqual(Fn.min()))throw new Dt(at.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gi.updateTime(i)}return Gi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class lg{constructor(e,i,a,c){this.asyncQueue=e,this.datastore=i,this.updateFunction=a,this.deferred=c,this.aa=5,this.rr=new Nm(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var e=this;this.rr.Xi((0,ie.Z)(function*(){const i=new Xu(e.datastore),a=e.ua(i);a&&a.then(c=>{e.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{e.deferred.resolve(c)}).catch(p=>{e.ha(p)}))}).catch(c=>{e.ha(c)})}))}ua(e){try{const i=this.updateFunction(e);return!ur(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}ha(e){this.aa>0&&this.la(e)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(e)}la(e){if("FirebaseError"===e.name){const i=e.code;return"aborted"===i||"failed-precondition"===i||!Wu(i)}return!1}}class cg{constructor(e,i,a){var c=this;this.credentials=e,this.asyncQueue=i,this.databaseInfo=a,this.user=ar.UNAUTHENTICATED,this.clientId=Ca.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(i,function(){var p=(0,ie.Z)(function*(w){Nt("FirestoreClient","Received user=",w.uid),yield c.credentialListener(w),c.user=w});return function(w){return p.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,ie.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Dt(at.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const i=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ie.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),i.resolve()}catch(a){const c=Vc(a,"Failed to shutdown persistence");i.reject(c)}})),i.promise}}function V_(s,e){return dg.apply(this,arguments)}function dg(){return(dg=(0,ie.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress(),Nt("FirestoreClient","Initializing OfflineComponentProvider");const i=yield s.getConfiguration();yield e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(function(){var c=(0,ie.Z)(function*(p){a.isEqual(p)||(yield bm(e.localStore,p),a=p)});return function(p){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=e})).apply(this,arguments)}function Km(s,e){return uf.apply(this,arguments)}function uf(){return(uf=(0,ie.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress();const i=yield lf(s);Nt("FirestoreClient","Initializing OnlineComponentProvider");const a=yield s.getConfiguration();yield e.initialize(i,a),s.setCredentialChangeListener(c=>{return(p=(0,ie.Z)(function*(w,k){const z=Jt(w);z.asyncQueue.verifyOperationInProgress(),Nt("RemoteStore","RemoteStore received new credentials");const ce=oc(z);z.Kr.add(3),yield ic(z),ce&&z.Wr.set("Unknown"),yield z.remoteSyncer.handleCredentialChange(k),z.Kr.delete(3),yield rc(z)}),function(w,k){return p.apply(this,arguments)})(e.remoteStore,c);var p}),s.onlineComponents=e})).apply(this,arguments)}function lf(s){return cf.apply(this,arguments)}function cf(){return(cf=(0,ie.Z)(function*(s){return s.offlineComponents||(Nt("FirestoreClient","Using default OfflineComponentProvider"),yield V_(s,new Wm)),s.offlineComponents})).apply(this,arguments)}function Fd(s){return hg.apply(this,arguments)}function hg(){return(hg=(0,ie.Z)(function*(s){return s.onlineComponents||(Nt("FirestoreClient","Using default OnlineComponentProvider"),yield Km(s,new af)),s.onlineComponents})).apply(this,arguments)}function Ym(s){return lf(s).then(e=>e.persistence)}function lc(s){return lf(s).then(e=>e.localStore)}function df(s){return Fd(s).then(e=>e.remoteStore)}function hf(s){return Fd(s).then(e=>e.syncEngine)}function cc(s){return ff.apply(this,arguments)}function ff(){return(ff=(0,ie.Z)(function*(s){const e=yield Fd(s),i=e.eventManager;return i.onListen=$m.bind(null,e.syncEngine),i.onUnlisten=Wp.bind(null,e.syncEngine),i})).apply(this,arguments)}function Jm(s,e,i={}){const a=new Vi;return s.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return function(c,p,w,k,z){const ce=new Hc({next:je=>{p.enqueueAndForget(()=>jp(c,we));const ht=je.docs.has(w);!ht&&je.fromCache?z.reject(new Dt(at.UNAVAILABLE,"Failed to get document because the client is offline.")):ht&&je.fromCache&&k&&"server"===k.source?z.reject(new Dt(at.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):z.resolve(je)},error:je=>z.reject(je)}),we=new Zh(Is(w.path),ce,{includeMetadataChanges:!0,uo:!0});return Pd(c,we)}(yield cc(s),s.asyncQueue,e,i,a)})),a.promise}function fg(s,e,i={}){const a=new Vi;return s.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return function(c,p,w,k,z){const ce=new Hc({next:je=>{p.enqueueAndForget(()=>jp(c,we)),je.fromCache&&"server"===k.source?z.reject(new Dt(at.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):z.resolve(je)},error:je=>z.reject(je)}),we=new Zh(w,ce,{includeMetadataChanges:!0,uo:!0});return Pd(c,we)}(yield cc(s),s.asyncQueue,e,i,a)})),a.promise}class qw{constructor(e,i,a,c,p,w,k,z){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=c,this.ssl=p,this.forceLongPolling=w,this.autoDetectLongPolling=k,this.useFetchStreams=z}}class Ld{constructor(e,i){this.projectId=e,this.database=i||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ld&&e.projectId===this.projectId&&e.database===this.database}}const pf=new Map;function pg(s,e,i){if(!i)throw new Dt(at.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function gg(s,e,i,a){if(!0===e&&!0===a)throw new Dt(at.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function mg(s){if(!ln.isDocumentKey(s))throw new Dt(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function G_(s){if(ln.isDocumentKey(s))throw new Dt(at.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function pa(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const e=(i=s).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof s?"a function":gn()}function ei(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new Dt(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=pa(s);throw new Dt(at.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function q_(s,e){if(e<=0)throw new Dt(at.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}class z_{constructor(e){var i;if(void 0===e.host){if(void 0!==e.ssl)throw new Dt(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(i=e.ssl)||void 0===i||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Dt(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,gg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $c{constructor(e,i){this._credentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z_({}),this._settingsFrozen=!1,e instanceof Ld?this._databaseId=e:(this._app=e,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Dt(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ld(a.options.projectId)}(e))}get app(){if(!this._app)throw new Dt(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Dt(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z_(e),void 0!==e.credentials&&(this._credentials=function(i){if(!i)return new Bu;switch(i.type){case"gapi":const a=i.client;return On(!("object"!=typeof a||null===a||!a.auth||!a.auth.getAuthHeaderValueForFirstParty)),new Iu(a,i.sessionIndex||"0",i.iamToken||null);case"provider":return i.client;default:throw new Dt(at.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=pf.get(e);i&&(Nt("ComponentProvider","Removing Datastore"),pf.delete(e),i.terminate())}(this),Promise.resolve()}}class Bi{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new el(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bi(this.firestore,e,this._key)}}class Po{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Po(this.firestore,e,this._query)}}class el extends Po{constructor(e,i,a){super(e,i,Is(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bi(this.firestore,null,new ln(e))}withConverter(e){return new el(this.firestore,e,this._path)}}function yg(s,e,...i){if(s=(0,he.m9)(s),pg("collection","path",e),s instanceof $c){const a=qr.fromString(e,...i);return G_(a),new el(s,null,a)}{if(!(s instanceof Bi||s instanceof el))throw new Dt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(qr.fromString(e,...i));return G_(a),new el(s.firestore,null,a)}}function gf(s,e,...i){if(s=(0,he.m9)(s),1===arguments.length&&(e=Ca.I()),pg("doc","path",e),s instanceof $c){const a=qr.fromString(e,...i);return mg(a),new Bi(s,null,new ln(a))}{if(!(s instanceof Bi||s instanceof el))throw new Dt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(qr.fromString(e,...i));return mg(a),new Bi(s.firestore,s instanceof el?s.converter:null,new ln(a))}}function mf(s,e){return s=(0,he.m9)(s),e=(0,he.m9)(e),(s instanceof Bi||s instanceof el)&&(e instanceof Bi||e instanceof el)&&s.firestore===e.firestore&&s.path===e.path&&s.converter===e.converter}function ty(s,e){return s=(0,he.m9)(s),e=(0,he.m9)(e),s instanceof Po&&e instanceof Po&&s.firestore===e.firestore&&ll(s._query,e._query)&&s.converter===e.converter}class Z_{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Nm(this,"async_queue_retry"),this.Ta=()=>{const i=Pp();i&&Nt("AsyncQueue","Visibility state changed to "+i.visibilityState),this.rr.tr()};const e=Pp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ta)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ea(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const i=Pp();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Ta)}}enqueue(e){if(this.Ea(),this.wa)return new Promise(()=>{});const i=new Vi;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.da.push(e),this.Aa()))}Aa(){var e=this;return(0,ie.Z)(function*(){if(0!==e.da.length){try{yield e.da[0](),e.da.shift(),e.rr.reset()}catch(i){if(!ru(i))throw i;Nt("AsyncQueue","Operation failed with retryable error: "+i)}e.da.length>0&&e.rr.Xi(()=>e.Aa())}})()}Ia(e){const i=this.fa.then(()=>(this.ga=!0,e().catch(a=>{throw this.ma=a,this.ga=!1,vi("INTERNAL UNHANDLED ERROR: ",function(p){let w=p.message||"";return p.stack&&(w=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),w}(a)),a}).then(a=>(this.ga=!1,a))));return this.fa=i,i}enqueueAfterDelay(e,i,a){this.Ea(),this.pa.indexOf(e)>-1&&(i=0);const c=Bp.createAndSchedule(this,e,i,a,p=>this.Ra(p));return this._a.push(c),c}Ea(){this.ma&&gn()}verifyOperationInProgress(){}ba(){var e=this;return(0,ie.Z)(function*(){let i;do{i=e.fa,yield i}while(i!==e.fa)})()}Pa(e){for(const i of this._a)if(i.timerId===e)return!0;return!1}va(e){return this.ba().then(()=>{this._a.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this._a)if(i.skipDelay(),"all"!==e&&i.timerId===e)break;return this.ba()})}Va(e){this.pa.push(e)}Ra(e){const i=this._a.indexOf(e);this._a.splice(i,1)}}function vg(s){return function(e,i){if("object"!=typeof e||null===e)return!1;const a=e;for(const c of["next","error","complete"])if(c in a&&"function"==typeof a[c])return!0;return!1}(s)}class W_{constructor(){this._progressObserver={},this._taskCompletionResolver=new Vi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,i,a){this._progressObserver={next:e,error:i,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,i){return this._taskCompletionResolver.promise.then(e,i)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ms extends $c{constructor(e,i){super(e,i),this.type="firestore",this._queue=new Z_,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Ha(this),this._firestoreClient.terminate()}}function Vs(s){return s._firestoreClient||Ha(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function Ha(s){var e;const i=s._freezeSettings(),a=(p=(null===(e=s._app)||void 0===e?void 0:e.options.appId)||"",new qw(s._databaseId,p,s._persistenceKey,(k=i).host,k.ssl,k.experimentalForceLongPolling,k.experimentalAutoDetectLongPolling,k.useFetchStreams));var p,k;s._firestoreClient=new cg(s._credentials,s._queue,a)}function ny(s,e,i){const a=new Vi;return s.asyncQueue.enqueue((0,ie.Z)(function*(){try{yield V_(s,i),yield Km(s,e),a.resolve()}catch(c){if(!("FirebaseError"===(p=c).name?p.code===at.FAILED_PRECONDITION||p.code===at.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&p instanceof DOMException)||22===p.code||20===p.code||11===p.code))throw c;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),a.reject(c)}var p})).then(()=>a.promise)}function _f(s){if(s._initialized||s._terminated)throw new Dt(at.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ga{constructor(...e){for(let i=0;i<e.length;++i)if(0===e[i].length)throw new Dt(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new v(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xo(V.fromBase64String(e))}catch(i){throw new Dt(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Xo(V.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ga{constructor(e){this._methodName=e}}class tl{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new Dt(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new Dt(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tr(this._lat,e._lat)||tr(this._long,e._long)}}const qc=/^__.*__$/;class zc{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return null!==this.fieldMask?new Qa(e,this.data,this.fieldMask,i,this.fieldTransforms):new ml(e,this.data,i,this.fieldTransforms)}}class dc{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Qa(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function hc(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gn()}}class Hd{constructor(e,i,a,c,p,w){this.settings=e,this.databaseId=i,this.N=a,this.ignoreUndefinedProperties=c,void 0===p&&this.Sa(),this.fieldTransforms=p||[],this.fieldMask=w||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new Hd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(e),c=this.Ca({path:a,xa:!1});return c.ka(e),c}$a(e){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(e),c=this.Ca({path:a,xa:!1});return c.Sa(),c}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return Cf(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find(i=>e.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>e.isPrefixOf(i.field))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(hc(this.Da)&&qc.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class ry{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.N=a||Lh(e)}Ba(e,i,a,c=!1){return new Hd({Da:e,methodName:i,La:a,path:v.emptyPath(),xa:!1,Ma:c},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function xl(s){const e=s._freezeSettings(),i=Lh(s._databaseId);return new ry(s._databaseId,!!e.ignoreUndefinedProperties,i)}function $d(s,e,i,a,c,p={}){const w=s.Ba(p.merge||p.mergeFields?2:0,e,i,c);Ig("Data must be an object, but it was:",w,a);const k=ay(a,w);let z,ce;if(p.merge)z=new m(w.fieldMask),ce=w.fieldTransforms;else if(p.mergeFields){const we=[];for(const je of p.mergeFields){const ht=bf(e,je,i);if(!w.contains(ht))throw new Dt(at.INVALID_ARGUMENT,`Field '${ht}' is specified in your field mask but missing from your input data.`);uy(we,ht)||we.push(ht)}z=new m(we),ce=w.fieldTransforms.filter(je=>z.covers(je.field))}else z=null,ce=w.fieldTransforms;return new zc(new Ps(k),z,ce)}class Zc extends Ga{_toFieldTransform(e){if(2!==e.Da)throw e.Fa(1===e.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zc}}function Eg(s,e,i){return new Hd({Da:3,La:e.settings.La,methodName:s._methodName,xa:i},e.databaseId,e.N,e.ignoreUndefinedProperties)}class vf extends Ga{_toFieldTransform(e){return new zu(e.path,new fl)}isEqual(e){return e instanceof vf}}class iy extends Ga{constructor(e,i){super(e),this.Ua=i}_toFieldTransform(e){const i=Eg(this,e,!0),a=this.Ua.map(p=>Rl(p,i)),c=new ua(a);return new zu(e.path,c)}isEqual(e){return this===e}}class sy extends Ga{constructor(e,i){super(e),this.Ua=i}_toFieldTransform(e){const i=Eg(this,e,!0),a=this.Ua.map(p=>Rl(p,i)),c=new Du(a);return new zu(e.path,c)}isEqual(e){return this===e}}class Q_ extends Ga{constructor(e,i){super(e),this.qa=i}_toFieldTransform(e){const i=new qu(e.N,id(e.N,this.qa));return new zu(e.path,i)}isEqual(e){return this===e}}function wf(s,e,i,a){const c=s.Ba(1,e,i);Ig("Data must be an object, but it was:",c,a);const p=[],w=Ps.empty();Xs(a,(z,ce)=>{const we=Ef(e,z,i);ce=(0,he.m9)(ce);const je=c.$a(we);if(ce instanceof Zc)p.push(we);else{const ht=Rl(ce,je);null!=ht&&(p.push(we),w.set(we,ht))}});const k=new m(p);return new dc(w,k,c.fieldTransforms)}function Cg(s,e,i,a,c,p){const w=s.Ba(1,e,i),k=[bf(e,a,i)],z=[c];if(p.length%2!=0)throw new Dt(at.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ht=0;ht<p.length;ht+=2)k.push(bf(e,p[ht])),z.push(p[ht+1]);const ce=[],we=Ps.empty();for(let ht=k.length-1;ht>=0;--ht)if(!uy(ce,k[ht])){const Ct=k[ht];let Yt=z[ht];Yt=(0,he.m9)(Yt);const Sn=w.$a(Ct);if(Yt instanceof Zc)ce.push(Ct);else{const pr=Rl(Yt,Sn);null!=pr&&(ce.push(Ct),we.set(Ct,pr))}}const je=new m(ce);return new dc(we,je,w.fieldTransforms)}function oy(s,e,i,a=!1){return Rl(i,s.Ba(a?4:3,e))}function Rl(s,e){if(J_(s=(0,he.m9)(s)))return Ig("Unsupported field value:",e,s),ay(s,e);if(s instanceof Ga)return function(i,a){if(!hc(a.Da))throw a.Fa(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Fa(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(s,e),null;if(void 0===s&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.xa&&4!==e.Da)throw e.Fa("Nested arrays are not supported");return function(i,a){const c=[];let p=0;for(const w of i){let k=Rl(w,a.Oa(p));null==k&&(k={nullValue:"NULL_VALUE"}),c.push(k),p++}return{arrayValue:{values:c}}}(s,e)}return function(i,a){if(null===(i=(0,he.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return id(a.N,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const c=Ti.fromDate(i);return{timestampValue:Ku(a.N,c)}}if(i instanceof Ti){const c=new Ti(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ku(a.N,c)}}if(i instanceof tl)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xo)return{bytesValue:ch(a.N,i._byteString)};if(i instanceof Bi){const c=a.databaseId,p=i.firestore._databaseId;if(!p.isEqual(c))throw a.Fa(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:hd(i.firestore._databaseId||a.databaseId,i._key.path)}}throw a.Fa(`Unsupported field value: ${pa(i)}`)}(s,e)}function ay(s,e){const i={};return Pa(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xs(s,(a,c)=>{const p=Rl(c,e.Na(a));null!=p&&(i[a]=p)}),{mapValue:{fields:i}}}function J_(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof Ti||s instanceof tl||s instanceof Xo||s instanceof Bi||s instanceof Ga)}function Ig(s,e,i){if(!J_(i)||"object"!=typeof(a=i)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=pa(i);throw e.Fa("an object"===a?s+" a custom object":s+" "+a)}var a}function bf(s,e,i){if((e=(0,he.m9)(e))instanceof ga)return e._internalPath;if("string"==typeof e)return Ef(s,e);throw Cf("Field path arguments must be of type string or FieldPath.",s,!1,void 0,i)}const X_=new RegExp("[~\\*/\\[\\]]");function Ef(s,e,i){if(e.search(X_)>=0)throw Cf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new ga(...e.split("."))._internalPath}catch(a){throw Cf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Cf(s,e,i,a,c){const p=a&&!a.isEmpty(),w=void 0!==c;let k=`Function ${e}() called with invalid data`;i&&(k+=" (via `toFirestore()`)"),k+=". ";let z="";return(p||w)&&(z+=" (found",p&&(z+=` in field ${a}`),w&&(z+=` in document ${c}`),z+=")"),new Dt(at.INVALID_ARGUMENT,k+s+z)}function uy(s,e){return s.some(i=>i.isEqual(e))}class If{constructor(e,i,a,c,p){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=c,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new Bi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ev(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Gd("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i)}}}class ev extends If{data(){return super.data()}}function Gd(s,e){return"string"==typeof e?Ef(s,e):e instanceof ga?e._internalPath:e._delegate._internalPath}class Wc{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ml extends If{constructor(e,i,a,c,p,w){super(e,i,a,c,w),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Gd("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Tf extends Ml{data(e={}){return super.data(e)}}class Pl{constructor(e,i,a,c){this._firestore=e,this._userDataWriter=i,this._snapshot=c,this.metadata=new Wc(c.hasPendingWrites,c.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new Tf(this._firestore,this._userDataWriter,a.key,a,new Wc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Dt(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let p=0;return a._snapshot.docChanges.map(w=>({type:"added",doc:new Tf(a._firestore,a._userDataWriter,w.doc.key,w.doc,new Wc(a._snapshot.mutatedKeys.has(w.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:p++}))}{let p=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(w=>c||3!==w.type).map(w=>{const k=new Tf(a._firestore,a._userDataWriter,w.doc.key,w.doc,new Wc(a._snapshot.mutatedKeys.has(w.doc.key),a._snapshot.fromCache),a.query.converter);let z=-1,ce=-1;return 0!==w.type&&(z=p.indexOf(w.doc.key),p=p.delete(w.doc.key)),1!==w.type&&(p=p.add(w.doc),ce=p.indexOf(w.doc.key)),{type:zw(w.type),doc:k,oldIndex:z,newIndex:ce}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function zw(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gn()}}function ly(s,e){return s instanceof Ml&&e instanceof Ml?s._firestore===e._firestore&&s._key.isEqual(e._key)&&(null===s._document?null===e._document:s._document.isEqual(e._document))&&s._converter===e._converter:s instanceof Pl&&e instanceof Pl&&s._firestore===e._firestore&&ty(s.query,e.query)&&s.metadata.isEqual(e.metadata)&&s._snapshot.isEqual(e._snapshot)}function cy(s){if(Gu(s)&&0===s.explicitOrderBy.length)throw new Dt(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fc{}function Ou(s,...e){for(const i of e)s=i._apply(s);return s}class tv extends fc{constructor(e,i,a){super(),this.Ka=e,this.ja=i,this.Qa=a,this.type="where"}_apply(e){const i=xl(e.firestore),a=function(c,p,w,k,z,ce,we){let je;if(z.isKeyField()){if("array-contains"===ce||"array-contains-any"===ce)throw new Dt(at.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ce}' queries on FieldPath.documentId().`);if("in"===ce||"not-in"===ce){Dg(we,ce);const Ct=[];for(const Yt of we)Ct.push(gy(k,c,Yt));je={arrayValue:{values:Ct}}}else je=gy(k,c,we)}else"in"!==ce&&"not-in"!==ce&&"array-contains-any"!==ce||Dg(we,ce),je=oy(w,"where",we,"in"===ce||"not-in"===ce);const ht=Os.create(z,ce,je);return function(Ct,Yt){if(Yt.v()){const pr=_c(Ct);if(null!==pr&&!pr.isEqual(Yt.field))throw new Dt(at.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${pr.toString()}' and '${Yt.field.toString()}'`);const us=Xi(Ct);null!==us&&my(0,Yt.field,us)}const Sn=function(pr,us){for(const qa of pr.filters)if(us.indexOf(qa.op)>=0)return qa.op;return null}(Ct,function(pr){switch(pr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Yt.op));if(null!==Sn)throw new Dt(at.INVALID_ARGUMENT,Sn===Yt.op?`Invalid query. You cannot use more than one '${Yt.op.toString()}' filter.`:`Invalid query. You cannot use '${Yt.op.toString()}' filters with '${Sn.toString()}' filters.`)}(c,ht),ht}(e._query,0,i,e.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Po(e.firestore,e.converter,function(c,p){const w=c.filters.concat([p]);return new Yo(c.path,c.collectionGroup,c.explicitOrderBy.slice(),w,c.limit,c.limitType,c.startAt,c.endAt)}(e._query,a))}}class Ww extends fc{constructor(e,i){super(),this.Ka=e,this.Wa=i,this.type="orderBy"}_apply(e){const i=function(a,c,p){if(null!==a.startAt)throw new Dt(at.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new Dt(at.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const w=new Ji(c,p);return function(k,z){if(null===Xi(k)){const ce=_c(k);null!==ce&&my(0,ce,z.field)}}(a,w),w}(e._query,this.Ka,this.Wa);return new Po(e.firestore,e.converter,function(a,c){const p=a.explicitOrderBy.concat([c]);return new Yo(a.path,a.collectionGroup,p,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,i))}}class dy extends fc{constructor(e,i,a){super(),this.type=e,this.Ga=i,this.za=a}_apply(e){return new Po(e.firestore,e.converter,rd(e._query,this.Ga,this.za))}}class fy extends fc{constructor(e,i,a){super(),this.type=e,this.Ha=i,this.Ja=a}_apply(e){const i=qd(e,this.type,this.Ha,this.Ja);return new Po(e.firestore,e.converter,(c=i,new Yo((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,c,a.endAt)));var a,c}}class Tg extends fc{constructor(e,i,a){super(),this.type=e,this.Ha=i,this.Ja=a}_apply(e){const i=qd(e,this.type,this.Ha,this.Ja);return new Po(e.firestore,e.converter,(c=i,new Yo((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,c)));var a,c}}function qd(s,e,i,a){if(i[0]=(0,he.m9)(i[0]),i[0]instanceof If)return function(c,p,w,k,z){if(!k)throw new Dt(at.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${w}().`);const ce=[];for(const we of aa(c))if(we.field.isKeyField())ce.push(Ms(p,k.key));else{const je=k.data.field(we.field);if(sn(je))throw new Dt(at.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+we.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===je){const ht=we.field.canonicalString();throw new Dt(at.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ht}' (used as the orderBy) does not exist.`)}ce.push(je)}return new Nn(ce,z)}(s._query,s.firestore._databaseId,e,i[0]._document,a);{const c=xl(s.firestore);return function(p,w,k,z,ce,we){const je=p.explicitOrderBy;if(ce.length>je.length)throw new Dt(at.INVALID_ARGUMENT,`Too many arguments provided to ${z}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ht=[];for(let Ct=0;Ct<ce.length;Ct++){const Yt=ce[Ct];if(je[Ct].field.isKeyField()){if("string"!=typeof Yt)throw new Dt(at.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${z}(), but got a ${typeof Yt}`);if(!vc(p)&&-1!==Yt.indexOf("/"))throw new Dt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${z}() must be a plain document ID, but '${Yt}' contains a slash.`);const Sn=p.path.child(qr.fromString(Yt));if(!ln.isDocumentKey(Sn))throw new Dt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${z}() must result in a valid document path, but '${Sn}' is not because it contains an odd number of segments.`);const pr=new ln(Sn);ht.push(Ms(w,pr))}else{const Sn=oy(k,z,Yt);ht.push(Sn)}}return new Nn(ht,we)}(s._query,s.firestore._databaseId,c,e,i,a)}}function gy(s,e,i){if("string"==typeof(i=(0,he.m9)(i))){if(""===i)throw new Dt(at.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!vc(e)&&-1!==i.indexOf("/"))throw new Dt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(qr.fromString(i));if(!ln.isDocumentKey(a))throw new Dt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Ms(s,new ln(a))}if(i instanceof Bi)return Ms(s,i._key);throw new Dt(at.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${pa(i)}.`)}function Dg(s,e){if(!Array.isArray(s)||0===s.length)throw new Dt(at.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(s.length>10)throw new Dt(at.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function my(s,e,i){if(!i.isEqual(e))throw new Dt(at.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}class Ag{convertValue(e,i="none"){switch(Di(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Te(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(gt(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 10:return this.convertObject(e.mapValue,i);default:throw gn()}}convertObject(e,i){const a={};return Xs(e.fields,(c,p)=>{a[c]=this.convertValue(p,i)}),a}convertGeoPoint(e){return new tl(Te(e.latitude),Te(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=br(e);return null==a?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(bn(e));default:return null}}convertTimestamp(e){const i=_e(e);return new Ti(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=qr.fromString(e);On(gd(a));const c=new Ld(a.get(1),a.get(3)),p=new ln(a.popFirst(5));return c.isEqual(i)||vi(`Document ${p} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),p}}function Df(s,e,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,a}class iv extends Ag{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xo(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Bi(this.firestore,null,i)}}class yy{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=xl(e)}set(e,i,a){this._verifyNotCommitted();const c=nl(e,this._firestore),p=Df(c.converter,i,a),w=$d(this._dataReader,"WriteBatch.set",c._key,p,null!==c.converter,a);return this._mutations.push(w.toMutation(c._key,Gi.none())),this}update(e,i,a,...c){this._verifyNotCommitted();const p=nl(e,this._firestore);let w;return w="string"==typeof(i=(0,he.m9)(i))||i instanceof ga?Cg(this._dataReader,"WriteBatch.update",p._key,i,a,c):wf(this._dataReader,"WriteBatch.update",p._key,i),this._mutations.push(w.toMutation(p._key,Gi.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=nl(e,this._firestore);return this._mutations=this._mutations.concat(new Hl(i._key,Gi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Dt(at.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nl(s,e){if((s=(0,he.m9)(s)).firestore!==e)throw new Dt(at.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class Ol extends Ag{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xo(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Bi(this.firestore,null,i)}}function av(s,e,i){s=ei(s,Bi);const a=ei(s.firestore,ms),c=Df(s.converter,e,i);return Nl(a,[$d(xl(a),"setDoc",s._key,c,null!==s.converter,i).toMutation(s._key,Gi.none())])}function Yc(s,e,i,...a){s=ei(s,Bi);const c=ei(s.firestore,ms),p=xl(c);let w;return w="string"==typeof(e=(0,he.m9)(e))||e instanceof ga?Cg(p,"updateDoc",s._key,e,i,a):wf(p,"updateDoc",s._key,e),Nl(c,[w.toMutation(s._key,Gi.exists(!0))])}function Af(s,...e){var i,a,c;s=(0,he.m9)(s);let p={includeMetadataChanges:!1},w=0;"object"!=typeof e[w]||vg(e[w])||(p=e[w],w++);const k={includeMetadataChanges:p.includeMetadataChanges};if(vg(e[w])){const je=e[w];e[w]=null===(i=je.next)||void 0===i?void 0:i.bind(je),e[w+1]=null===(a=je.error)||void 0===a?void 0:a.bind(je),e[w+2]=null===(c=je.complete)||void 0===c?void 0:c.bind(je)}let z,ce,we;if(s instanceof Bi)ce=ei(s.firestore,ms),we=Is(s._key.path),z={next:je=>{e[w]&&e[w](zd(ce,s,je))},error:e[w+1],complete:e[w+2]};else{const je=ei(s,Po);ce=ei(je.firestore,ms),we=je._query;const ht=new Ol(ce);z={next:Ct=>{e[w]&&e[w](new Pl(ce,ht,je,Ct))},error:e[w+1],complete:e[w+2]},cy(s._query)}return function(je,ht,Ct,Yt){const Sn=new Hc(Yt),pr=new Zh(ht,Sn,Ct);return je.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return Pd(yield cc(je),pr)})),()=>{Sn.Xo(),je.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return jp(yield cc(je),pr)}))}}(Vs(ce),we,k,z)}function Nl(s,e){return function(i,a){const c=new Vi;return i.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return function(s,e,i){return Uc.apply(this,arguments)}(yield hf(i),a,c)})),c.promise}(Vs(s),e)}function zd(s,e,i){const a=i.docs.get(e._key),c=new Ol(s);return new Ml(s,c,e._key,a,new Wc(i.hasPendingWrites,i.fromCache),e.converter)}class vy extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=xl(e)}get(e){const i=nl(e,this._firestore),a=new iv(this._firestore);return this._transaction.lookup([i._key]).then(c=>{if(!c||1!==c.length)return gn();const p=c[0];if(p.isFoundDocument())return new If(this._firestore,a,p.key,p,i.converter);if(p.isNoDocument())return new If(this._firestore,a,i._key,null,i.converter);throw gn()})}set(e,i,a){const c=nl(e,this._firestore),p=Df(c.converter,i,a),w=$d(this._dataReader,"Transaction.set",c._key,p,null!==c.converter,a);return this._transaction.set(c._key,w),this}update(e,i,a,...c){const p=nl(e,this._firestore);let w;return w="string"==typeof(i=(0,he.m9)(i))||i instanceof ga?Cg(this._dataReader,"Transaction.update",p._key,i,a,c):wf(this._dataReader,"Transaction.update",p._key,i),this._transaction.update(p._key,w),this}delete(e){const i=nl(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,i){super(e,i),this._firestore=e}get(e){const i=nl(e,this._firestore),a=new Ol(this._firestore);return super.get(e).then(c=>new Ml(this._firestore,a,i._key,c._document,new Wc(!1,!1),i.converter))}}function Sf(s,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Dt("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return e}function Ty(){if("undefined"==typeof Uint8Array)throw new Dt("unimplemented","Uint8Arrays are not available in this environment.")}function Og(){if("undefined"==typeof atob)throw new Dt("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(s){zo=s})(ue.SDK_VERSION),(0,ue._registerComponent)(new me.wA("firestore",(s,{options:e})=>{const i=s.getProvider("app").getImmediate(),a=new ms(i,new Cu(s.getProvider("auth-internal")));return e=Object.assign({useFetchStreams:!0},e),a._setSettings(e),a},"PUBLIC")),(0,ue.registerVersion)(go,"3.1.1",void 0),(0,ue.registerVersion)(go,"3.1.1","esm2017");class Qc{constructor(e){this._delegate=e}static fromBase64String(e){return Og(),new Qc(Xo.fromBase64String(e))}static fromUint8Array(e){return Ty(),new Qc(Xo.fromUint8Array(e))}toBase64(){return Og(),this._delegate.toBase64()}toUint8Array(){return Ty(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Zd(s){return function(s,e){if("object"!=typeof s||null===s)return!1;const i=s;for(const a of["next","error","complete"])if(a in i&&"function"==typeof i[a])return!0;return!1}(s)}class hv{enableIndexedDbPersistence(e,i){return function(s,e){_f(s=ei(s,ms));const i=Vs(s),a=s._freezeSettings(),c=new af;return ny(i,c,new F_(c,a.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(e){return function(s){_f(s=ei(s,ms));const e=Vs(s),i=s._freezeSettings(),a=new af;return ny(e,a,new L_(a,i.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(s){if(s._initialized&&!s._terminated)throw new Dt(at.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Vi;return s._queue.enqueueAndForgetEvenWhileRestricted((0,ie.Z)(function*(){try{yield(i=(0,ie.Z)(function*(a){if(!da.bt())return Promise.resolve();const c=a+"main";yield da.delete(c)}),function(a){return i.apply(this,arguments)})(Ph(s._databaseId,s._persistenceKey)),e.resolve()}catch(i){e.reject(i)}var i})),e.promise}(e._delegate)}}class Ay{constructor(e,i,a){this._delegate=i,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ld||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const i=this._delegate._getSettings();!e.merge&&i.host!==e.host&&mo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},i),e)).merge,this._delegate._setSettings(e)}useEmulator(e,i,a={}){!function(s,e,i,a={}){var c;const p=(s=ei(s,$c))._getSettings();if("firestore.googleapis.com"!==p.host&&p.host!==e&&mo("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},p),{host:`${e}:${i}`,ssl:!1})),a.mockUserToken){let w,k;if("string"==typeof a.mockUserToken)w=a.mockUserToken,k=ar.MOCK_USER;else{w=(0,he.Sg)(a.mockUserToken,null===(c=s._app)||void 0===c?void 0:c.options.projectId);const z=a.mockUserToken.sub||a.mockUserToken.user_id;if(!z)throw new Dt(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");k=new ar(z)}s._credentials=new Eu(new _o(w,k))}}(this._delegate,e,i,a)}enableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,ie.Z)(function*(){const e=yield Ym(s),i=yield df(s);return e.setNetworkEnabled(!0),function(a){const c=Jt(a);return c.Kr.delete(0),rc(c)}(i)}))}(Vs(s=ei(s,ms)))}(this._delegate)}disableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,ie.Z)(function*(){const e=yield Ym(s),i=yield df(s);return e.setNetworkEnabled(!1),(a=(0,ie.Z)(function*(c){const p=Jt(c);p.Kr.add(0),yield ic(p),p.Wr.set("Offline")}),function(c){return a.apply(this,arguments)})(i);var a}))}(Vs(s=ei(s,ms)))}(this._delegate)}enablePersistence(e){let i=!1,a=!1;return e&&(i=!!e.synchronizeTabs,a=!!e.experimentalForceOwningTab,gg("synchronizeTabs",i,"experimentalForceOwningTab",a)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(s){return function(e){const i=new Vi;return e.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return function(s,e){return Jh.apply(this,arguments)}(yield hf(e),i)})),i.promise}(Vs(s=ei(s,ms)))}(this._delegate)}onSnapshotsInSync(e){return function(s,e){return function(s,e){const i=new Hc(e);return s.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return a=yield cc(s),c=i,Jt(a).Zr.add(c),void c.next();var a,c})),()=>{i.Xo(),s.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return a=yield cc(s),c=i,void Jt(a).Zr.delete(c);var a,c}))}}(Vs(s=ei(s,ms)),vg(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Dt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new pc(this,yg(this._delegate,e))}catch(i){throw No(i,"collection()","Firestore.collection()")}}doc(e){try{return new Da(this,gf(this._delegate,e))}catch(i){throw No(i,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ma(this,function(s,e){if(s=ei(s,$c),pg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Dt(at.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Po(s,null,(i=e,new Yo(qr.emptyPath(),i)));var i}(this._delegate,e))}catch(i){throw No(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(s,e){return function(s,e){const i=new Vi;return s.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){const a=yield(c=s,Fd(c).then(p=>p.datastore));var c;new lg(s.asyncQueue,a,e,i).run()})),i.promise}(Vs(s),i=>e(new vy(s,i)))}(this._delegate,i=>e(new Rf(this,i)))}batch(){return Vs(this._delegate),new Ng(new yy(this._delegate,e=>Nl(this._delegate,e)))}loadBundle(e){return function(s,e){const i=Vs(s=ei(s,ms)),a=new W_;return function(s,e,i,a){const c=function(p,w){let k;return k="string"==typeof p?(new TextEncoder).encode(p):p,z=function(z,ce){if(z instanceof Uint8Array)return qi(z,void 0);if(z instanceof ArrayBuffer)return qi(new Uint8Array(z),void 0);if(z instanceof ReadableStream)return z.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(k),new $w(z,w);var z}(i,Lh(e));s.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){!function(s,e,i){const a=Jt(s);var c;(c=(0,ie.Z)(function*(p,w,k){try{const z=yield w.getMetadata();if(yield function(ht,Ct){const Yt=Jt(ht),Sn=ks(Ct.createTime);return Yt.persistence.runTransaction("hasNewerBundle","readonly",pr=>Yt.Je.getBundleMetadata(pr,Ct.id)).then(pr=>!!pr&&pr.createTime.compareTo(Sn)>=0)}(p.localStore,z))return yield w.close(),void k._completeWith((ht=z,{taskState:"Success",documentsLoaded:ht.totalDocuments,bytesLoaded:ht.totalBytes,totalDocuments:ht.totalDocuments,totalBytes:ht.totalBytes}));k._updateProgress(Gp(z));const ce=new jm(z,p.localStore,w.N);let we=yield w.Qo();for(;we;){const ht=yield ce.fo(we);ht&&k._updateProgress(ht),we=yield w.Qo()}const je=yield ce.complete();yield Ju(p,je.En,void 0),yield function(ht,Ct){const Yt=Jt(ht);return Yt.persistence.runTransaction("Save bundle","readwrite",Sn=>Yt.Je.saveBundleMetadata(Sn,Ct))}(p.localStore,z),k._completeWith(je.progress)}catch(z){mo("SyncEngine",`Loading bundle failed with ${z}`),k._failWith(z)}var ht}),function(p,w,k){return c.apply(this,arguments)})(a,e,i).then(()=>{a.sharedClientState.notifyBundleLoaded()})}(yield hf(s),c,a)}))}(i,s._databaseId,e,a),a}(this._delegate,e)}namedQuery(e){return function(s,e){return function(s,e){return s.asyncQueue.enqueue((0,ie.Z)(function*(){return function(i,a){const c=Jt(i);return c.persistence.runTransaction("Get named query","readonly",p=>c.Je.getNamedQuery(p,a))}(yield lc(s),e)}))}(Vs(s=ei(s,ms)),e).then(i=>i?new Po(s,null,i.query):null)}(this._delegate,e).then(i=>i?new ma(this,i):null)}}class xf extends Ag{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qc(new Xo(e))}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return Da.forKey(i,this.firestore,null)}}class Rf{constructor(e,i){this._firestore=e,this._delegate=i,this._userDataWriter=new xf(e)}get(e){const i=gc(e);return this._delegate.get(i).then(a=>new Jc(this._firestore,new Ml(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,i.converter)))}set(e,i,a){const c=gc(e);return a?(Sf("Transaction.set",a),this._delegate.set(c,i,a)):this._delegate.set(c,i),this}update(e,i,a,...c){const p=gc(e);return 2===arguments.length?this._delegate.update(p,i):this._delegate.update(p,i,a,...c),this}delete(e){const i=gc(e);return this._delegate.delete(i),this}}class Ng{constructor(e){this._delegate=e}set(e,i,a){const c=gc(e);return a?(Sf("WriteBatch.set",a),this._delegate.set(c,i,a)):this._delegate.set(c,i),this}update(e,i,a,...c){const p=gc(e);return 2===arguments.length?this._delegate.update(p,i):this._delegate.update(p,i,a,...c),this}delete(e){const i=gc(e);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class kl{constructor(e,i,a){this._firestore=e,this._userDataWriter=i,this._delegate=a}fromFirestore(e,i){const a=new Tf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Xc(this._firestore,a),null!=i?i:{})}toFirestore(e,i){return i?this._delegate.toFirestore(e,i):this._delegate.toFirestore(e)}static getInstance(e,i){const a=kl.INSTANCES;let c=a.get(e);c||(c=new WeakMap,a.set(e,c));let p=c.get(i);return p||(p=new kl(e,new xf(e),i),c.set(i,p)),p}}kl.INSTANCES=new WeakMap;class Da{constructor(e,i){this.firestore=e,this._delegate=i,this._userDataWriter=new xf(e)}static forPath(e,i,a){if(e.length%2!=0)throw new Dt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Da(i,new Bi(i._delegate,a,new ln(e)))}static forKey(e,i,a){return new Da(i,new Bi(i._delegate,a,e))}get id(){return this._delegate.id}get parent(){return new pc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new pc(this.firestore,yg(this._delegate,e))}catch(i){throw No(i,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,he.m9)(e))instanceof Bi&&mf(this._delegate,e)}set(e,i){i=Sf("DocumentReference.set",i);try{return i?av(this._delegate,e,i):av(this._delegate,e)}catch(a){throw No(a,"setDoc()","DocumentReference.set()")}}update(e,i,...a){try{return 1===arguments.length?Yc(this._delegate,e):Yc(this._delegate,e,i,...a)}catch(c){throw No(c,"updateDoc()","DocumentReference.update()")}}delete(){return function(s){return Nl(ei(s.firestore,ms),[new Hl(s._key,Gi.none())])}(this._delegate)}onSnapshot(...e){const i=kg(e),a=Fg(e,c=>new Jc(this.firestore,new Ml(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return Af(this._delegate,i,a)}get(e){let i;return i="cache"===(null==e?void 0:e.source)?function(s){s=ei(s,Bi);const e=ei(s.firestore,ms),i=Vs(e),a=new Ol(e);return function(s,e){const i=new Vi;return s.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return(a=(0,ie.Z)(function*(c,p,w){try{const k=yield function(z,ce){const we=Jt(z);return we.persistence.runTransaction("read document","readonly",je=>we.Qn.An(je,ce))}(c,p);k.isFoundDocument()?w.resolve(k):k.isNoDocument()?w.resolve(null):w.reject(new Dt(at.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(k){const z=Vc(k,`Failed to get document '${p} from cache`);w.reject(z)}}),function(c,p,w){return a.apply(this,arguments)})(yield lc(s),e,i);var a})),i.promise}(i,s._key).then(c=>new Ml(e,a,s._key,c,new Wc(null!==c&&c.hasLocalMutations,!0),s.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(s){s=ei(s,Bi);const e=ei(s.firestore,ms);return Jm(Vs(e),s._key,{source:"server"}).then(i=>zd(e,s,i))}(this._delegate):function(s){s=ei(s,Bi);const e=ei(s.firestore,ms);return Jm(Vs(e),s._key).then(i=>zd(e,s,i))}(this._delegate),i.then(a=>new Jc(this.firestore,new Ml(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(e){return new Da(this.firestore,this._delegate.withConverter(e?kl.getInstance(this.firestore,e):null))}}function No(s,e,i){return s.message=s.message.replace(e,i),s}function kg(s){for(const e of s)if("object"==typeof e&&!Zd(e))return e;return{}}function Fg(s,e){var i,a;let c;return c=Zd(s[0])?s[0]:Zd(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]},{next:p=>{c.next&&c.next(e(p))},error:null===(i=c.error)||void 0===i?void 0:i.bind(c),complete:null===(a=c.complete)||void 0===a?void 0:a.bind(c)}}class Jc{constructor(e,i){this._firestore=e,this._delegate=i}get ref(){return new Da(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,i){return this._delegate.get(e,i)}isEqual(e){return ly(this._delegate,e._delegate)}}class Xc extends Jc{data(e){const i=this._delegate.data(e);return function(s,e){s||gn()}(void 0!==i),i}}class ma{constructor(e,i){this.firestore=e,this._delegate=i,this._userDataWriter=new xf(e)}where(e,i,a){try{return new ma(this.firestore,Ou(this._delegate,function(s,e,i){const a=e,c=Gd("where",s);return new tv(c,a,i)}(e,i,a)))}catch(c){throw No(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,i){try{return new ma(this.firestore,Ou(this._delegate,function(s,e="asc"){const i=e,a=Gd("orderBy",s);return new Ww(a,i)}(e,i)))}catch(a){throw No(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ma(this.firestore,Ou(this._delegate,function(s){return q_("limit",s),new dy("limit",s,"F")}(e)))}catch(i){throw No(i,"limit()","Query.limit()")}}limitToLast(e){try{return new ma(this.firestore,Ou(this._delegate,function(s){return q_("limitToLast",s),new dy("limitToLast",s,"L")}(e)))}catch(i){throw No(i,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ma(this.firestore,Ou(this._delegate,function(...s){return new fy("startAt",s,!0)}(...e)))}catch(i){throw No(i,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ma(this.firestore,Ou(this._delegate,function(...s){return new fy("startAfter",s,!1)}(...e)))}catch(i){throw No(i,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ma(this.firestore,Ou(this._delegate,function(...s){return new Tg("endBefore",s,!0)}(...e)))}catch(i){throw No(i,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ma(this.firestore,Ou(this._delegate,function(...s){return new Tg("endAt",s,!1)}(...e)))}catch(i){throw No(i,"endAt()","Query.endAt()")}}isEqual(e){return ty(this._delegate,e._delegate)}get(e){let i;return i="cache"===(null==e?void 0:e.source)?function(s){s=ei(s,Po);const e=ei(s.firestore,ms),i=Vs(e),a=new Ol(e);return function(s,e){const i=new Vi;return s.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return(a=(0,ie.Z)(function*(c,p,w){try{const k=yield Nh(c,p,!0),z=new Wh(p,k.Gn),ce=z.Io(k.documents),we=z.applyChanges(ce,!1);w.resolve(we.snapshot)}catch(k){const z=Vc(k,`Failed to execute query '${p} against cache`);w.reject(z)}}),function(c,p,w){return a.apply(this,arguments)})(yield lc(s),e,i);var a})),i.promise}(i,s._query).then(c=>new Pl(e,a,s,c))}(this._delegate):"server"===(null==e?void 0:e.source)?function(s){s=ei(s,Po);const e=ei(s.firestore,ms),i=Vs(e),a=new Ol(e);return fg(i,s._query,{source:"server"}).then(c=>new Pl(e,a,s,c))}(this._delegate):function(s){s=ei(s,Po);const e=ei(s.firestore,ms),i=Vs(e),a=new Ol(e);return cy(s._query),fg(i,s._query).then(c=>new Pl(e,a,s,c))}(this._delegate),i.then(a=>new Lg(this.firestore,new Pl(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...e){const i=kg(e),a=Fg(e,c=>new Lg(this.firestore,new Pl(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return Af(this._delegate,i,a)}withConverter(e){return new ma(this.firestore,this._delegate.withConverter(e?kl.getInstance(this.firestore,e):null))}}class fv{constructor(e,i){this._firestore=e,this._delegate=i}get type(){return this._delegate.type}get doc(){return new Xc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Lg{constructor(e,i){this._firestore=e,this._delegate=i}get query(){return new ma(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Xc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(i=>new fv(this._firestore,i))}forEach(e,i){this._delegate.forEach(a=>{e.call(i,new Xc(this._firestore,a))})}isEqual(e){return ly(this._delegate,e._delegate)}}class pc extends ma{constructor(e,i){super(e,i),this.firestore=e,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Da(this.firestore,e):null}doc(e){try{return new Da(this.firestore,void 0===e?gf(this._delegate):gf(this._delegate,e))}catch(i){throw No(i,"doc()","CollectionReference.doc()")}}add(e){return function(s,e){const i=ei(s.firestore,ms),a=gf(s),c=Df(s.converter,e);return Nl(i,[$d(xl(s.firestore),"addDoc",a._key,c,null!==s.converter,{}).toMutation(a._key,Gi.exists(!1))]).then(()=>a)}(this._delegate,e).then(i=>new Da(this.firestore,i))}isEqual(e){return mf(this._delegate,e._delegate)}withConverter(e){return new pc(this.firestore,this._delegate.withConverter(e?kl.getInstance(this.firestore,e):null))}}function gc(s){return ei(s,Bi)}class As{constructor(...e){this._delegate=new ga(...e)}static documentId(){return new As(v.keyField().canonicalString())}isEqual(e){return(e=(0,he.m9)(e))instanceof ga&&this._delegate._internalPath.isEqual(e._internalPath)}}class Fl{constructor(e){this._delegate=e}static serverTimestamp(){const e=new vf("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Fl(e)}static delete(){const e=new Zc("deleteField");return e._methodName="FieldValue.delete",new Fl(e)}static arrayUnion(...e){const i=function(...s){return new iy("arrayUnion",s)}(...e);return i._methodName="FieldValue.arrayUnion",new Fl(i)}static arrayRemove(...e){const i=function(...s){return new sy("arrayRemove",s)}(...e);return i._methodName="FieldValue.arrayRemove",new Fl(i)}static increment(e){const i=function(s){return new Q_("increment",s)}(e);return i._methodName="FieldValue.increment",new Fl(i)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const pv={Firestore:Ay,GeoPoint:tl,Timestamp:Ti,Blob:Qc,Transaction:Rf,WriteBatch:Ng,DocumentReference:Da,DocumentSnapshot:Jc,Query:ma,QueryDocumentSnapshot:Xc,QuerySnapshot:Lg,CollectionReference:pc,FieldPath:As,FieldValue:Fl,setLogLevel:function(s){!function(s){Li.setLogLevel(s)}(s)},CACHE_SIZE_UNLIMITED:-1};!function(s){(function(s,e){s.INTERNAL.registerComponent(new me.wA("firestore-compat",i=>((e,i)=>new Ay(e,i,new hv))(i.getProvider("app-compat").getImmediate(),i.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},pv)))})(s),s.registerVersion("@firebase/firestore-compat","0.1.4")}(Ot.Z);var Ll=j(8778),Ry=j(2965);function My(s,e){return function(s,e=S.z){return new J.y(i=>{let a;return null!=e?e.schedule(()=>{a=s.onSnapshot({includeMetadataChanges:!0},i)}):a=s.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=a&&a()}})}(s,e)}function Mf(s,e){return My(s,e).pipe((0,Me.U)(i=>({payload:i,type:"query"})))}function Pf(s,e){return Mf(s,e).pipe(be(void 0),Fe(),(0,Me.U)(([i,a])=>{const c=a.payload.docChanges(),p=c.map(w=>({type:w.type,payload:w}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((w,k)=>{const z=c.find(we=>we.doc.ref.isEqual(w.ref)),ce=null==i?void 0:i.payload.docs.find(we=>we.ref.isEqual(w.ref));z&&JSON.stringify(z.doc.metadata)===JSON.stringify(w.metadata)||!z&&ce&&JSON.stringify(ce.metadata)===JSON.stringify(w.metadata)||p.push({type:"modified",payload:{oldIndex:k,newIndex:k,type:"modified",doc:w}})}),p}))}function Vg(s,e,i){return Pf(s,i).pipe(Oe((a,c)=>function(s,e,i){return e.forEach(a=>{i.indexOf(a.type)>-1&&(s=function(s,e){switch(e.type){case"added":if(!s[e.newIndex]||!s[e.newIndex].doc.ref.isEqual(e.doc.ref))return Of(s,e.newIndex,0,e);break;case"modified":if(null==s[e.oldIndex]||s[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const i=s.slice();return i.splice(e.oldIndex,1),i.splice(e.newIndex,0,e),i}return Of(s,e.newIndex,1,e)}break;case"removed":if(s[e.oldIndex]&&s[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Of(s,e.oldIndex,1)}return s}(s,a))}),s}(a,c.map(p=>p.payload),e),[]),function(s,e=Ve.y){return s=null!=s?s:Be,(0,ee.e)((i,a)=>{let c,p=!0;i.subscribe(new ze.Q(a,w=>{const k=e(w);(p||!s(c,k))&&(p=!1,c=k,a.next(w))}))})}(),(0,Me.U)(a=>a.map(c=>({type:c.type,payload:c}))))}function Of(s,e,i,...a){const c=s.slice();return c.splice(e,i,...a),c}function fu(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}j(7841);class Py{constructor(e,i,a){this.ref=e,this.query=i,this.afs=a}stateChanges(e){let i=Pf(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(i=i.pipe((0,Me.U)(a=>a.filter(c=>e.indexOf(c.type)>-1)))),i.pipe(be(void 0),Fe(),(0,$e.h)(([a,c])=>c.length>0||!a),(0,Me.U)(([a,c])=>c),Ie.iC)}auditTrail(e){return this.stateChanges(e).pipe(Oe((i,a)=>[...i,...a],[]))}snapshotChanges(e){const i=fu(e);return Vg(this.query,i,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}valueChanges(e={}){return Mf(this.query,this.afs.schedulers.outsideAngular).pipe((0,Me.U)(i=>i.payload.docs.map(a=>e.idField?Object.assign(Object.assign({},a.data()),{[e.idField]:a.id}):a.data())),Ie.iC)}get(e){return(0,Ae.D)(this.query.get(e)).pipe(Ie.iC)}add(e){return this.ref.add(e)}doc(e){return new Oy(this.ref.doc(e),this.afs)}}class Oy{constructor(e,i){this.ref=e,this.afs=i}set(e,i){return this.ref.set(e,i)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,i){const a=this.ref.collection(e),{ref:c,query:p}=Fy(a,i);return new Py(c,p,this.afs)}snapshotChanges(){return function(s,e){return My(s,e).pipe(be(void 0),Fe(),(0,Me.U)(([i,a])=>a.exists?(null==i?void 0:i.exists)?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Me.U)(({payload:i})=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data()))}get(e){return(0,Ae.D)(this.ref.get(e)).pipe(Ie.iC)}}class Nu{constructor(e,i){this.query=e,this.afs=i}stateChanges(e){return e&&0!==e.length?Pf(this.query,this.afs.schedulers.outsideAngular).pipe((0,Me.U)(i=>i.filter(a=>e.indexOf(a.type)>-1)),(0,$e.h)(i=>i.length>0),Ie.iC):Pf(this.query,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}auditTrail(e){return this.stateChanges(e).pipe(Oe((i,a)=>[...i,...a],[]))}snapshotChanges(e){const i=fu(e);return Vg(this.query,i,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}valueChanges(e={}){return Mf(this.query,this.afs.schedulers.outsideAngular).pipe((0,Me.U)(a=>a.payload.docs.map(c=>e.idField?Object.assign({[e.idField]:c.id},c.data()):c.data())),Ie.iC)}get(e){return(0,Ae.D)(this.query.get(e)).pipe(Ie.iC)}}const pu=new y.OlP("angularfire2.enableFirestorePersistence"),gu=new y.OlP("angularfire2.firestore.persistenceSettings"),Ny=new y.OlP("angularfire2.firestore.settings"),ky=new y.OlP("angularfire2.firestore.use-emulator");function Fy(s,e=(i=>i)){return{query:e(s),ref:s}}let _v=(()=>{class s{constructor(i,a,c,p,w,k,z,ce,we,je,ht,Ct,Yt,Sn,pr,us,qa){this.schedulers=z;const mu=(0,dt.on)(i,k,a),ku=we;je&&(0,Ll.nw)(mu,k,ht,Yt,Sn,pr,Ct,us),[this.firestore,this.persistenceEnabled$]=(0,dt.cc)(`${mu.name}.firestore`,"AngularFirestore",mu.name,()=>{const Fu=k.runOutsideAngular(()=>mu.firestore());if(p&&Fu.settings(p),ku&&Fu.useEmulator(...ku),c&&!(0,it.PM)(w)){const Nf=()=>{try{return(0,Ae.D)(Fu.enablePersistence(ce||void 0).then(()=>!0,()=>!1))}catch(vv){return"undefined"!=typeof console&&console.warn(vv),(0,A.of)(!1)}};return[Fu,k.runOutsideAngular(Nf)]}return[Fu,(0,A.of)(!1)]},[p,ku,c])}collection(i,a){let c;c="string"==typeof i?this.firestore.collection(i):i;const{ref:p,query:w}=Fy(c,a),k=this.schedulers.ngZone.run(()=>p);return new Py(k,w,this)}collectionGroup(i,a){const c=a||(w=>w),p=this.firestore.collectionGroup(i);return new Nu(c(p),this)}doc(i){let a;a="string"==typeof i?this.firestore.doc(i):i;const c=this.schedulers.ngZone.run(()=>a);return new Oy(c,this)}createId(){return this.firestore.collection("_").doc().id}}return s.\u0275fac=function(i){return new(i||s)(y.LFG(dt.Dh),y.LFG(dt.xv,8),y.LFG(pu,8),y.LFG(Ny,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(Ie.HU),y.LFG(gu,8),y.LFG(ky,8),y.LFG(Ll.zQ,8),y.LFG(Ll.Qv,8),y.LFG(Ll.L6,8),y.LFG(Ll._Q,8),y.LFG(Ll.rT,8),y.LFG(Ll.lh,8),y.LFG(Ll.f7,8),y.LFG(Ry.nm,8))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})()},8939:(Pt,Le,j)=>{"use strict";j.d(Le,{hO:()=>ze,xv:()=>fe,Dh:()=>Qe,GT:()=>Ie,cc:()=>Fe,on:()=>Y,pX:()=>A});var y=j(639),S=j(7841),J=j(8797);Pt=j.hmd(Pt);const Ae=["ngOnDestroy"],A=(le,Be,Me,$e={})=>new Proxy(le,{get:(dt,it)=>Me.runOutsideAngular(()=>{var zt;if(le[it])return(null===(zt=null==$e?void 0:$e.spy)||void 0===zt?void 0:zt.get)&&$e.spy.get(it,le[it]),le[it];if(Ae.indexOf(it)>-1)return()=>{};const Ot=Be.toPromise().then(ie=>{const ue=ie&&ie[it];return"function"==typeof ue?ue.bind(ie):ue&&ue.then?ue.then(me=>Me.run(()=>me)):Me.run(()=>ue)});return new Proxy(()=>{},{get:(ie,ue)=>Ot[ue],apply:(ie,ue,me)=>Ot.then(ye=>{var he;const Ze=ye&&ye(...me);return(null===(he=null==$e?void 0:$e.spy)||void 0===he?void 0:he.apply)&&$e.spy.apply(it,me,Ze),Ze})})})}),Ie=(le,Be)=>{Be.forEach(Me=>{Object.getOwnPropertyNames(Me.prototype||Me).forEach($e=>{Object.defineProperty(le.prototype,$e,Object.getOwnPropertyDescriptor(Me.prototype||Me,$e))})})};class ke{constructor(Be){return Be}}const Qe=new y.OlP("angularfire2.app.options"),fe=new y.OlP("angularfire2.app.name");function Y(le,Be,Me){const dt="object"==typeof Me&&Me||{};dt.name=dt.name||"string"==typeof Me&&Me||"[DEFAULT]";const zt=S.Z.apps.filter(Ot=>Ot&&Ot.name===dt.name)[0]||Be.runOutsideAngular(()=>S.Z.initializeApp(le,dt));try{JSON.stringify(le)!==JSON.stringify(zt.options)&&ee("error",`${zt.name} Firebase App already initialized with different options${Pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ot){}return new ke(zt)}const ee=(le,...Be)=>{(0,y.X6Q)()&&"undefined"!=typeof console&&console[le](...Be)},be={provide:ke,useFactory:Y,deps:[Qe,y.R0b,[new y.FiY,fe]]};let ze=(()=>{class le{constructor(Me){S.Z.registerVersion("angularfire",J.q4.full,"core"),S.Z.registerVersion("angularfire",J.q4.full,"app-compat"),S.Z.registerVersion("angular",y.q4F.full,Me.toString())}static initializeApp(Me,$e){return{ngModule:le,providers:[{provide:Qe,useValue:Me},{provide:fe,useValue:$e}]}}}return le.\u0275fac=function(Me){return new(Me||le)(y.LFG(y.Lbi))},le.\u0275mod=y.oAB({type:le}),le.\u0275inj=y.cJS({providers:[be]}),le})();function Fe(le,Be,Me,$e,dt){const[,it,zt]=globalThis.\u0275AngularfireInstanceCache.find(Ot=>Ot[0]===le)||[];if(it)return function(le,Be){try{return le.toString()===Be.toString()}catch(Me){return le===Be}}(dt,zt)||(Ve("error",`${Be} was already initialized on the ${Me} Firebase App with different settings.${Oe?" You may need to reload as Firebase is not HMR aware.":""}`),Ve("warn",{is:dt,was:zt})),it;{const Ot=$e();return globalThis.\u0275AngularfireInstanceCache.push([le,Ot,dt]),Ot}}const Oe=!!Pt.hot,Ve=(le,...Be)=>{(0,y.X6Q)()&&"undefined"!=typeof console&&console[le](...Be)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8797:(Pt,Le,j)=>{"use strict";j.d(Le,{q4:()=>ia,iC:()=>Fa,fc:()=>no,HU:()=>Ps,vb:()=>sa,JM:()=>Oa});var y=j(639),S=j(2329),J=j(8239),Ae=j(5452),A=j(3854),Ie=j(6034),ke=j(5601),Qe=j(6676);const fe="@firebase/installations",Y="0.5.2",be=`w:${Y}`,ze="FIS_v2",Be=new A.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Me(M){return M instanceof A.ZR&&M.code.includes("request-failed")}function $e({projectId:M}){return`https://firebaseinstallations.googleapis.com/v1/projects/${M}/installations`}function dt(M){return{token:M.token,requestStatus:2,expiresIn:ye(M.expiresIn),creationTime:Date.now()}}function it(M,B){return zt.apply(this,arguments)}function zt(){return(zt=(0,J.Z)(function*(M,B){const ge=(yield B.json()).error;return Be.create("request-failed",{requestName:M,serverCode:ge.code,serverMessage:ge.message,serverStatus:ge.status})})).apply(this,arguments)}function Ot({apiKey:M}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M})}function ie(M,{refreshToken:B}){const Q=Ot(M);return Q.append("Authorization",function(M){return`${ze} ${M}`}(B)),Q}function ue(M){return me.apply(this,arguments)}function me(){return(me=(0,J.Z)(function*(M){const B=yield M();return B.status>=500&&B.status<600?M():B})).apply(this,arguments)}function ye(M){return Number(M.replace("s","000"))}function Ze(M,B){return pe.apply(this,arguments)}function pe(){return(pe=(0,J.Z)(function*(M,{fid:B}){const Q=$e(M),st={method:"POST",headers:Ot(M),body:JSON.stringify({fid:B,authVersion:ze,appId:M.appId,sdkVersion:be})},At=yield ue(()=>fetch(Q,st));if(At.ok){const cn=yield At.json();return{fid:cn.fid||B,registrationStatus:2,refreshToken:cn.refreshToken,authToken:dt(cn.authToken)}}throw yield it("Create Installation",At)})).apply(this,arguments)}function Ge(M){return new Promise(B=>{setTimeout(B,M)})}const Rt=/^[cdef][\w-]{21}$/;function Gt(){try{const M=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(M),M[0]=112+M[0]%16;const Q=function(M){return function(M){return btoa(String.fromCharCode(...M)).replace(/\+/g,"-").replace(/\//g,"_")}(M).substr(0,22)}(M);return Rt.test(Q)?Q:""}catch(M){return""}}function Xt(M){return`${M.appName}!${M.appId}`}const jn=new Map;function sr(M,B){const Q=Xt(M);nn(Q,B),function(M,B){const Q=(!qt&&"BroadcastChannel"in self&&(qt=new BroadcastChannel("[Firebase] FID Change"),qt.onmessage=M=>{nn(M.data.key,M.data.fid)}),qt);Q&&Q.postMessage({key:M,fid:B}),0===jn.size&&qt&&(qt.close(),qt=null)}(Q,B)}function nn(M,B){const Q=jn.get(M);if(Q)for(const ge of Q)ge(B)}let qt=null;const Fr="firebase-installations-store";let kt=null;function wn(){return kt||(kt=(0,Qe.openDb)("firebase-installations-database",1,M=>{switch(M.oldVersion){case 0:M.createObjectStore(Fr)}})),kt}function Wn(M,B){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,J.Z)(function*(M,B){const Q=Xt(M),We=(yield wn()).transaction(Fr,"readwrite"),st=We.objectStore(Fr),At=yield st.get(Q);return yield st.put(B,Q),yield We.complete,(!At||At.fid!==B.fid)&&sr(M,B.fid),B})).apply(this,arguments)}function Tt(M){return vt.apply(this,arguments)}function vt(){return(vt=(0,J.Z)(function*(M){const B=Xt(M),ge=(yield wn()).transaction(Fr,"readwrite");yield ge.objectStore(Fr).delete(B),yield ge.complete})).apply(this,arguments)}function Je(M,B){return tt.apply(this,arguments)}function tt(){return(tt=(0,J.Z)(function*(M,B){const Q=Xt(M),We=(yield wn()).transaction(Fr,"readwrite"),st=We.objectStore(Fr),At=yield st.get(Q),cn=B(At);return void 0===cn?yield st.delete(Q):yield st.put(cn,Q),yield We.complete,cn&&(!At||At.fid!==cn.fid)&&sr(M,cn.fid),cn})).apply(this,arguments)}function Ut(M){return jt.apply(this,arguments)}function jt(){return(jt=(0,J.Z)(function*(M){let B;const Q=yield Je(M,ge=>{const We=wt(ge),st=pn(M,We);return B=st.registrationPromise,st.installationEntry});return""===Q.fid?{installationEntry:yield B}:{installationEntry:Q,registrationPromise:B}})).apply(this,arguments)}function wt(M){return En(M||{fid:Gt(),registrationStatus:0})}function pn(M,B){if(0===B.registrationStatus){if(!navigator.onLine)return{installationEntry:B,registrationPromise:Promise.reject(Be.create("app-offline"))};const Q={fid:B.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:Q,registrationPromise:function(M,B){return Zt.apply(this,arguments)}(M,Q)}}return 1===B.registrationStatus?{installationEntry:B,registrationPromise:Kn(M)}:{installationEntry:B}}function Zt(){return(Zt=(0,J.Z)(function*(M,B){try{return Wn(M,yield Ze(M,B))}catch(Q){throw Me(Q)&&409===Q.customData.serverCode?yield Tt(M):yield Wn(M,{fid:B.fid,registrationStatus:0}),Q}})).apply(this,arguments)}function Kn(M){return vr.apply(this,arguments)}function vr(){return(vr=(0,J.Z)(function*(M){let B=yield Xn(M);for(;1===B.registrationStatus;)yield Ge(100),B=yield Xn(M);if(0===B.registrationStatus){const{installationEntry:Q,registrationPromise:ge}=yield Ut(M);return ge||Q}return B})).apply(this,arguments)}function Xn(M){return Je(M,B=>{if(!B)throw Be.create("installation-not-found");return En(B)})}function En(M){return function(M){return 1===M.registrationStatus&&M.registrationTime+1e4<Date.now()}(M)?{fid:M.fid,registrationStatus:0}:M}function hr(M,B){return ve.apply(this,arguments)}function ve(){return(ve=(0,J.Z)(function*({appConfig:M,platformLoggerProvider:B},Q){const ge=Se(M,Q),We=ie(M,Q),st=B.getImmediate({optional:!0});st&&We.append("x-firebase-client",st.getPlatformInfoString());const cn={method:"POST",headers:We,body:JSON.stringify({installation:{sdkVersion:be}})},$t=yield ue(()=>fetch(ge,cn));if($t.ok)return dt(yield $t.json());throw yield it("Generate Auth Token",$t)})).apply(this,arguments)}function Se(M,{fid:B}){return`${$e(M)}/${B}/authTokens:generate`}function Re(M){return ut.apply(this,arguments)}function ut(){return(ut=(0,J.Z)(function*(M,B=!1){let Q;const ge=yield Je(M.appConfig,st=>{if(!dn(st))throw Be.create("not-registered");const At=st.authToken;if(!B&&Br(At))return st;if(1===At.requestStatus)return Q=He(M,B),st;{if(!navigator.onLine)throw Be.create("app-offline");const cn=jr(st);return Q=zn(M,cn),cn}});return Q?yield Q:ge.authToken})).apply(this,arguments)}function He(M,B){return yt.apply(this,arguments)}function yt(){return(yt=(0,J.Z)(function*(M,B){let Q=yield en(M.appConfig);for(;1===Q.authToken.requestStatus;)yield Ge(100),Q=yield en(M.appConfig);const ge=Q.authToken;return 0===ge.requestStatus?Re(M,B):ge})).apply(this,arguments)}function en(M){return Je(M,B=>{if(!dn(B))throw Be.create("not-registered");return function(M){return 1===M.requestStatus&&M.requestTime+1e4<Date.now()}(B.authToken)?Object.assign(Object.assign({},B),{authToken:{requestStatus:0}}):B})}function zn(M,B){return Un.apply(this,arguments)}function Un(){return(Un=(0,J.Z)(function*(M,B){try{const Q=yield hr(M,B),ge=Object.assign(Object.assign({},B),{authToken:Q});return yield Wn(M.appConfig,ge),Q}catch(Q){if(!Me(Q)||401!==Q.customData.serverCode&&404!==Q.customData.serverCode){const ge=Object.assign(Object.assign({},B),{authToken:{requestStatus:0}});yield Wn(M.appConfig,ge)}else yield Tt(M.appConfig);throw Q}})).apply(this,arguments)}function dn(M){return void 0!==M&&2===M.registrationStatus}function Br(M){return 2===M.requestStatus&&!function(M){const B=Date.now();return B<M.creationTime||M.creationTime+M.expiresIn<B+36e5}(M)}function jr(M){const B={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},M),{authToken:B})}function hn(){return(hn=(0,J.Z)(function*(M){const B=M,{installationEntry:Q,registrationPromise:ge}=yield Ut(B.appConfig);return ge?ge.catch(console.error):Re(B).catch(console.error),Q.fid})).apply(this,arguments)}function zi(){return(zi=(0,J.Z)(function*(M,B=!1){const Q=M;return yield Ei(Q.appConfig),(yield Re(Q,B)).token})).apply(this,arguments)}function Ei(M){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,J.Z)(function*(M){const{registrationPromise:B}=yield Ut(M);B&&(yield B)})).apply(this,arguments)}function Pr(M){return Be.create("missing-app-config-values",{valueName:M})}const or="installations";(0,Ae._registerComponent)(new Ie.wA(or,M=>{const B=M.getProvider("app").getImmediate();return{app:B,appConfig:function(M){if(!M||!M.options)throw Pr("App Configuration");if(!M.name)throw Pr("App Name");const B=["projectId","apiKey","appId"];for(const Q of B)if(!M.options[Q])throw Pr(Q);return{appName:M.name,projectId:M.options.projectId,apiKey:M.options.apiKey,appId:M.options.appId}}(B),platformLoggerProvider:(0,Ae._getProvider)(B,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,Ae._registerComponent)(new Ie.wA("installations-internal",M=>{const B=M.getProvider("app").getImmediate(),Q=(0,Ae._getProvider)(B,or).getImmediate();return{getId:()=>function(M){return hn.apply(this,arguments)}(Q),getToken:We=>function(M){return zi.apply(this,arguments)}(Q,We)}},"PRIVATE")),(0,Ae.registerVersion)(fe,Y),(0,Ae.registerVersion)(fe,Y,"esm2017");const Lt="@firebase/remote-config",Ln=new A.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Bn{constructor(B,Q,ge,We){this.client=B,this.storage=Q,this.storageCache=ge,this.logger=We}isCachedDataFresh(B,Q){if(!Q)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ge=Date.now()-Q,We=ge<=B;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ge}. Cache max age millis (minimumFetchIntervalMillis setting): ${B}. Is cache hit: ${We}.`),We}fetch(B){var Q=this;return(0,J.Z)(function*(){const[ge,We]=yield Promise.all([Q.storage.getLastSuccessfulFetchTimestampMillis(),Q.storage.getLastSuccessfulFetchResponse()]);if(We&&Q.isCachedDataFresh(B.cacheMaxAgeMillis,ge))return We;B.eTag=We&&We.eTag;const st=yield Q.client.fetch(B),At=[Q.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===st.status&&At.push(Q.storage.setLastSuccessfulFetchResponse(st)),yield Promise.all(At),st})()}}function fr(M=navigator){return M.languages&&M.languages[0]||M.language}class Tn{constructor(B,Q,ge,We,st,At){this.firebaseInstallations=B,this.sdkVersion=Q,this.namespace=ge,this.projectId=We,this.apiKey=st,this.appId=At}fetch(B){var Q=this;return(0,J.Z)(function*(){const[ge,We]=yield Promise.all([Q.firebaseInstallations.getId(),Q.firebaseInstallations.getToken()]),At=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Q.projectId}/namespaces/${Q.namespace}:fetch?key=${Q.apiKey}`,cn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":B.eTag||"*"},$t={sdk_version:Q.sdkVersion,app_instance_id:ge,app_instance_id_token:We,app_id:Q.appId,language_code:fr()},Nn={method:"POST",headers:cn,body:JSON.stringify($t)},xr=fetch(At,Nn),Ji=new Promise((Is,Ns)=>{B.signal.addEventListener(()=>{const Gu=new Error("The operation was aborted.");Gu.name="AbortError",Ns(Gu)})});let Ao;try{yield Promise.race([xr,Ji]),Ao=yield xr}catch(Is){let Ns="fetch-client-network";throw"AbortError"===Is.name&&(Ns="fetch-timeout"),Ln.create(Ns,{originalErrorMessage:Is.message})}let as=Ao.status;const La=Ao.headers.get("ETag")||void 0;let Yo,Va;if(200===Ao.status){let Is;try{Is=yield Ao.json()}catch(Ns){throw Ln.create("fetch-client-parse",{originalErrorMessage:Ns.message})}Yo=Is.entries,Va=Is.state}if("INSTANCE_STATE_UNSPECIFIED"===Va?as=500:"NO_CHANGE"===Va?as=304:("NO_TEMPLATE"===Va||"EMPTY_CONFIG"===Va)&&(Yo={}),304!==as&&200!==as)throw Ln.create("fetch-status",{httpStatus:as});return{status:as,eTag:La,config:Yo}})()}}class Zn{constructor(B,Q){this.client=B,this.storage=Q}fetch(B){var Q=this;return(0,J.Z)(function*(){const ge=(yield Q.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Q.attemptFetch(B,ge)})()}attemptFetch(B,{throttleEndTimeMillis:Q,backoffCount:ge}){var We=this;return(0,J.Z)(function*(){yield function(M,B){return new Promise((Q,ge)=>{const We=Math.max(B-Date.now(),0),st=setTimeout(Q,We);M.addEventListener(()=>{clearTimeout(st),ge(Ln.create("fetch-throttle",{throttleEndTimeMillis:B}))})})}(B.signal,Q);try{const st=yield We.client.fetch(B);return yield We.storage.deleteThrottleMetadata(),st}catch(st){if(!function(M){if(!(M instanceof A.ZR&&M.customData))return!1;const B=Number(M.customData.httpStatus);return 429===B||500===B||503===B||504===B}(st))throw st;const At={throttleEndTimeMillis:Date.now()+(0,A.$s)(ge),backoffCount:ge+1};return yield We.storage.setThrottleMetadata(At),We.attemptFetch(B,At)}})()}}class Oi{constructor(B,Q,ge,We,st){this.app=B,this._client=Q,this._storageCache=ge,this._storage=We,this._logger=st,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Nr(M,B){const Q=M.target.error||void 0;return Ln.create(B,{originalErrorMessage:Q&&Q.message})}const yi="app_namespace_store";class oo{constructor(B,Q,ge,We=function(){return new Promise((M,B)=>{try{const Q=indexedDB.open("firebase_remote_config",1);Q.onerror=ge=>{B(Nr(ge,"storage-open"))},Q.onsuccess=ge=>{M(ge.target.result)},Q.onupgradeneeded=ge=>{const We=ge.target.result;switch(ge.oldVersion){case 0:We.createObjectStore(yi,{keyPath:"compositeKey"})}}}catch(Q){B(Ln.create("storage-open",{originalErrorMessage:Q}))}})}()){this.appId=B,this.appName=Q,this.namespace=ge,this.openDbPromise=We}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(B){return this.set("last_fetch_status",B)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(B){return this.set("last_successful_fetch_timestamp_millis",B)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(B){return this.set("last_successful_fetch_response",B)}getActiveConfig(){return this.get("active_config")}setActiveConfig(B){return this.set("active_config",B)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(B){return this.set("active_config_etag",B)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(B){return this.set("throttle_metadata",B)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(B){var Q=this;return(0,J.Z)(function*(){const ge=yield Q.openDbPromise;return new Promise((We,st)=>{const cn=ge.transaction([yi],"readonly").objectStore(yi),$t=Q.createCompositeKey(B);try{const Nn=cn.get($t);Nn.onerror=xr=>{st(Nr(xr,"storage-get"))},Nn.onsuccess=xr=>{const Ji=xr.target.result;We(Ji?Ji.value:void 0)}}catch(Nn){st(Ln.create("storage-get",{originalErrorMessage:Nn&&Nn.message}))}})})()}set(B,Q){var ge=this;return(0,J.Z)(function*(){const We=yield ge.openDbPromise;return new Promise((st,At)=>{const $t=We.transaction([yi],"readwrite").objectStore(yi),Nn=ge.createCompositeKey(B);try{const xr=$t.put({compositeKey:Nn,value:Q});xr.onerror=Ji=>{At(Nr(Ji,"storage-set"))},xr.onsuccess=()=>{st()}}catch(xr){At(Ln.create("storage-set",{originalErrorMessage:xr&&xr.message}))}})})()}delete(B){var Q=this;return(0,J.Z)(function*(){const ge=yield Q.openDbPromise;return new Promise((We,st)=>{const cn=ge.transaction([yi],"readwrite").objectStore(yi),$t=Q.createCompositeKey(B);try{const Nn=cn.delete($t);Nn.onerror=xr=>{st(Nr(xr,"storage-delete"))},Nn.onsuccess=()=>{We()}}catch(Nn){st(Ln.create("storage-delete",{originalErrorMessage:Nn&&Nn.message}))}})})()}createCompositeKey(B){return[this.appId,this.appName,this.namespace,B].join()}}class _i{constructor(B){this.storage=B}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var B=this;return(0,J.Z)(function*(){const Q=B.storage.getLastFetchStatus(),ge=B.storage.getLastSuccessfulFetchTimestampMillis(),We=B.storage.getActiveConfig(),st=yield Q;st&&(B.lastFetchStatus=st);const At=yield ge;At&&(B.lastSuccessfulFetchTimestampMillis=At);const cn=yield We;cn&&(B.activeConfig=cn)})()}setLastFetchStatus(B){return this.lastFetchStatus=B,this.storage.setLastFetchStatus(B)}setLastSuccessfulFetchTimestampMillis(B){return this.lastSuccessfulFetchTimestampMillis=B,this.storage.setLastSuccessfulFetchTimestampMillis(B)}setActiveConfig(B){return this.activeConfig=B,this.storage.setActiveConfig(B)}}function Bs(){return ys.apply(this,arguments)}function ys(){return(ys=(0,J.Z)(function*(){if(!(0,A.hl)())return!1;try{return yield(0,A.eu)()}catch(M){return!1}})).apply(this,arguments)}(0,Ae._registerComponent)(new Ie.wA("remote-config",function(B,{instanceIdentifier:Q}){const ge=B.getProvider("app").getImmediate(),We=B.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ln.create("registration-window");if(!(0,A.hl)())throw Ln.create("indexed-db-unavailable");const{projectId:st,apiKey:At,appId:cn}=ge.options;if(!st)throw Ln.create("registration-project-id");if(!At)throw Ln.create("registration-api-key");if(!cn)throw Ln.create("registration-app-id");const $t=new oo(cn,ge.name,Q=Q||"firebase"),Nn=new _i($t),xr=new ke.Yd(Lt);xr.logLevel=ke.in.ERROR;const Ji=new Tn(We,Ae.SDK_VERSION,Q,st,At,cn),Ao=new Zn(Ji,$t),as=new Bn(Ao,$t,Nn,xr),La=new Oi(ge,as,Nn,$t,xr);return function(M){const B=(0,A.m9)(M);B._initializePromise||(B._initializePromise=B._storageCache.loadFromStorage().then(()=>{B._isInitializationComplete=!0}))}(La),La},"PUBLIC").setMultipleInstances(!0)),(0,Ae.registerVersion)(Lt,"0.3.1"),(0,Ae.registerVersion)(Lt,"0.3.1","esm2017");const Ii="/firebase-messaging-sw.js",Wi="/firebase-cloud-messaging-push-scope",ci="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",js="google.c.a.c_id",Ki="google.c.a.c_l",uo="google.c.a.ts",Hi="google.c.a.e";var Si=(()=>{return(M=Si||(Si={})).PUSH_RECEIVED="push-received",M.NOTIFICATION_CLICKED="notification-clicked",Si;var M})();function di(M){const B=new Uint8Array(M);return btoa(String.fromCharCode(...B)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _s(M){const Q=(M+"=".repeat((4-M.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ge=atob(Q),We=new Uint8Array(ge.length);for(let st=0;st<ge.length;++st)We[st]=ge.charCodeAt(st);return We}const hi="fcm_token_details_db",ds="fcm_token_object_Store";function vs(M){return ws.apply(this,arguments)}function ws(){return(ws=(0,J.Z)(function*(M){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(st=>st.name).includes(hi))return null;let B=null;return(yield(0,Qe.openDb)(hi,5,function(){var ge=(0,J.Z)(function*(We){var st;if(We.oldVersion<2||!We.objectStoreNames.contains(ds))return;const At=We.transaction.objectStore(ds),cn=yield At.index("fcmSenderId").get(M);if(yield At.clear(),cn)if(2===We.oldVersion){const $t=cn;if(!$t.auth||!$t.p256dh||!$t.endpoint)return;B={token:$t.fcmToken,createTime:null!==(st=$t.createTime)&&void 0!==st?st:Date.now(),subscriptionOptions:{auth:$t.auth,p256dh:$t.p256dh,endpoint:$t.endpoint,swScope:$t.swScope,vapidKey:"string"==typeof $t.vapidKey?$t.vapidKey:di($t.vapidKey)}}}else if(3===We.oldVersion){const $t=cn;B={token:$t.fcmToken,createTime:$t.createTime,subscriptionOptions:{auth:di($t.auth),p256dh:di($t.p256dh),endpoint:$t.endpoint,swScope:$t.swScope,vapidKey:di($t.vapidKey)}}}else if(4===We.oldVersion){const $t=cn;B={token:$t.fcmToken,createTime:$t.createTime,subscriptionOptions:{auth:di($t.auth),p256dh:di($t.p256dh),endpoint:$t.endpoint,swScope:$t.swScope,vapidKey:di($t.vapidKey)}}}});return function(We){return ge.apply(this,arguments)}}())).close(),yield(0,Qe.deleteDb)(hi),yield(0,Qe.deleteDb)("fcm_vapid_details_db"),yield(0,Qe.deleteDb)("undefined"),Yi(B)?B:null})).apply(this,arguments)}function Yi(M){if(!M||!M.subscriptionOptions)return!1;const{subscriptionOptions:B}=M;return"number"==typeof M.createTime&&M.createTime>0&&"string"==typeof M.token&&M.token.length>0&&"string"==typeof B.auth&&B.auth.length>0&&"string"==typeof B.p256dh&&B.p256dh.length>0&&"string"==typeof B.endpoint&&B.endpoint.length>0&&"string"==typeof B.swScope&&B.swScope.length>0&&"string"==typeof B.vapidKey&&B.vapidKey.length>0}const hs="firebase-messaging-store";let bs=null;function F(){return bs||(bs=(0,Qe.openDb)("firebase-messaging-database",1,M=>{switch(M.oldVersion){case 0:M.createObjectStore(hs)}})),bs}function K(M){return L.apply(this,arguments)}function L(){return(L=(0,J.Z)(function*(M){const B=O(M),ge=yield(yield F()).transaction(hs).objectStore(hs).get(B);if(ge)return ge;{const We=yield vs(M.appConfig.senderId);if(We)return yield te(M,We),We}})).apply(this,arguments)}function te(M,B){return xe.apply(this,arguments)}function xe(){return(xe=(0,J.Z)(function*(M,B){const Q=O(M),We=(yield F()).transaction(hs,"readwrite");return yield We.objectStore(hs).put(B,Q),yield We.complete,B})).apply(this,arguments)}function ot(M){return _t.apply(this,arguments)}function _t(){return(_t=(0,J.Z)(function*(M){const B=O(M),ge=(yield F()).transaction(hs,"readwrite");yield ge.objectStore(hs).delete(B),yield ge.complete})).apply(this,arguments)}function O({appConfig:M}){return M.appId}const T=new A.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function W(M,B){return qe.apply(this,arguments)}function qe(){return(qe=(0,J.Z)(function*(M,B){const Q=yield kr(M),ge=ii(B),We={method:"POST",headers:Q,body:JSON.stringify(ge)};let st;try{st=yield(yield fetch(_r(M.appConfig),We)).json()}catch(At){throw T.create("token-subscribe-failed",{errorInfo:At})}if(st.error)throw T.create("token-subscribe-failed",{errorInfo:st.error.message});if(!st.token)throw T.create("token-subscribe-no-token");return st.token})).apply(this,arguments)}function ft(M,B){return un.apply(this,arguments)}function un(){return(un=(0,J.Z)(function*(M,B){const Q=yield kr(M),ge=ii(B.subscriptionOptions),We={method:"PATCH",headers:Q,body:JSON.stringify(ge)};let st;try{st=yield(yield fetch(`${_r(M.appConfig)}/${B.token}`,We)).json()}catch(At){throw T.create("token-update-failed",{errorInfo:At})}if(st.error)throw T.create("token-update-failed",{errorInfo:st.error.message});if(!st.token)throw T.create("token-update-no-token");return st.token})).apply(this,arguments)}function yr(M,B){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,J.Z)(function*(M,B){const ge={method:"DELETE",headers:yield kr(M)};try{const st=yield(yield fetch(`${_r(M.appConfig)}/${B}`,ge)).json();if(st.error)throw T.create("token-unsubscribe-failed",{errorInfo:st.error.message})}catch(We){throw T.create("token-unsubscribe-failed",{errorInfo:We})}})).apply(this,arguments)}function _r({projectId:M}){return`https://fcmregistrations.googleapis.com/v1/projects/${M}/registrations`}function kr(M){return xi.apply(this,arguments)}function xi(){return(xi=(0,J.Z)(function*({appConfig:M,installations:B}){const Q=yield B.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M.apiKey,"x-goog-firebase-installations-auth":`FIS ${Q}`})})).apply(this,arguments)}function ii({p256dh:M,auth:B,endpoint:Q,vapidKey:ge}){const We={web:{endpoint:Q,auth:B,p256dh:M}};return ge!==ci&&(We.web.applicationPubKey=ge),We}const fi=6048e5;function Lo(M){return bo.apply(this,arguments)}function bo(){return(bo=(0,J.Z)(function*(M){const B=yield Eo(M.swRegistration,M.vapidKey),Q={vapidKey:M.vapidKey,swScope:M.swRegistration.scope,endpoint:B.endpoint,auth:di(B.getKey("auth")),p256dh:di(B.getKey("p256dh"))},ge=yield K(M.firebaseDependencies);if(ge){if(Es(ge.subscriptionOptions,Q))return Date.now()>=ge.createTime+fi?Ri(M,{token:ge.token,createTime:Date.now(),subscriptionOptions:Q}):ge.token;try{yield yr(M.firebaseDependencies,ge.token)}catch(We){console.warn(We)}return In(M.firebaseDependencies,Q)}return In(M.firebaseDependencies,Q)})).apply(this,arguments)}function xa(M){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,J.Z)(function*(M){const B=yield K(M.firebaseDependencies);B&&(yield yr(M.firebaseDependencies,B.token),yield ot(M.firebaseDependencies));const Q=yield M.swRegistration.pushManager.getSubscription();return!Q||Q.unsubscribe()})).apply(this,arguments)}function Ri(M,B){return $s.apply(this,arguments)}function $s(){return($s=(0,J.Z)(function*(M,B){try{const Q=yield ft(M.firebaseDependencies,B),ge=Object.assign(Object.assign({},B),{token:Q,createTime:Date.now()});return yield te(M.firebaseDependencies,ge),Q}catch(Q){throw yield xa(M),Q}})).apply(this,arguments)}function In(M,B){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,J.Z)(function*(M,B){const ge={token:yield W(M,B),createTime:Date.now(),subscriptionOptions:B};return yield te(M,ge),ge.token})).apply(this,arguments)}function Eo(M,B){return lo.apply(this,arguments)}function lo(){return(lo=(0,J.Z)(function*(M,B){return(yield M.pushManager.getSubscription())||M.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_s(B)})})).apply(this,arguments)}function Es(M,B){return B.vapidKey===M.vapidKey&&B.endpoint===M.endpoint&&B.auth===M.auth&&B.p256dh===M.p256dh}function Co(M){const B={from:M.from,collapseKey:M.collapse_key,messageId:M.fcm_message_id};return function(M,B){if(!B.notification)return;M.notification={};const Q=B.notification.title;Q&&(M.notification.title=Q);const ge=B.notification.body;ge&&(M.notification.body=ge);const We=B.notification.image;We&&(M.notification.image=We)}(B,M),function(M,B){!B.data||(M.data=B.data)}(B,M),function(M,B){if(!B.fcmOptions)return;M.fcmOptions={};const Q=B.fcmOptions.link;Q&&(M.fcmOptions.link=Q);const ge=B.fcmOptions.analytics_label;ge&&(M.fcmOptions.analyticsLabel=ge)}(B,M),B}function er(M){return"object"==typeof M&&!!M&&js in M}function Bo(M,B){const Q=[];for(let ge=0;ge<M.length;ge++)Q.push(M.charAt(ge)),ge<B.length&&Q.push(B.charAt(ge));return Q.join("")}function co(M){return T.create("missing-app-config-values",{valueName:M})}Bo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Bo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ss{constructor(B,Q,ge){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const We=function(M){if(!M||!M.options)throw co("App Configuration Object");if(!M.name)throw co("App Name");const B=["projectId","apiKey","appId","messagingSenderId"],{options:Q}=M;for(const ge of B)if(!Q[ge])throw co(ge);return{appName:M.name,projectId:Q.projectId,apiKey:Q.apiKey,appId:Q.appId,senderId:Q.messagingSenderId}}(B);this.firebaseDependencies={app:B,appConfig:We,installations:Q,analyticsProvider:ge}}_delete(){return Promise.resolve()}}function fs(M){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,J.Z)(function*(M){try{M.swRegistration=yield navigator.serviceWorker.register(Ii,{scope:Wi}),M.swRegistration.update().catch(()=>{})}catch(B){throw T.create("failed-service-worker-registration",{browserErrorMessage:B.message})}})).apply(this,arguments)}function ho(M,B){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,J.Z)(function*(M,B){if(!B&&!M.swRegistration&&(yield fs(M)),B||!M.swRegistration){if(!(B instanceof ServiceWorkerRegistration))throw T.create("invalid-sw-registration");M.swRegistration=B}})).apply(this,arguments)}function Ks(M,B){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,J.Z)(function*(M,B){B?M.vapidKey=B:M.vapidKey||(M.vapidKey=ci)})).apply(this,arguments)}function si(){return(si=(0,J.Z)(function*(M,B){if(!navigator)throw T.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw T.create("permission-blocked");return yield Ks(M,null==B?void 0:B.vapidKey),yield ho(M,null==B?void 0:B.serviceWorkerRegistration),Lo(M)})).apply(this,arguments)}function Fi(M,B,Q){return xs.apply(this,arguments)}function xs(){return(xs=(0,J.Z)(function*(M,B,Q){const ge=Qs(B);(yield M.firebaseDependencies.analyticsProvider.get()).logEvent(ge,{message_id:Q[js],message_name:Q[Ki],message_time:Q[uo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Qs(M){switch(M){case Si.NOTIFICATION_CLICKED:return"notification_open";case Si.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function jo(){return(jo=(0,J.Z)(function*(M,B){const Q=B.data;if(!Q.isFirebaseMessaging)return;M.onMessageHandler&&Q.messageType===Si.PUSH_RECEIVED&&("function"==typeof M.onMessageHandler?M.onMessageHandler(Co(Q)):M.onMessageHandler.next(Co(Q)));const ge=Q.data;er(ge)&&"1"===ge[Hi]&&(yield Fi(M,Q.messageType,ge))})).apply(this,arguments)}const Io="@firebase/messaging";function ta(){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,J.Z)(function*(){return"undefined"!=typeof window&&(0,A.hl)()&&(yield(0,A.eu)())&&(0,A.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,Ae._registerComponent)(new Ie.wA("messaging",M=>{const B=new ss(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),M.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Q=>function(M,B){return jo.apply(this,arguments)}(B,Q)),B},"PUBLIC")),(0,Ae._registerComponent)(new Ie.wA("messaging-internal",M=>{const B=M.getProvider("messaging").getImmediate();return{getToken:ge=>function(M,B){return si.apply(this,arguments)}(B,ge)}},"PRIVATE")),(0,Ae.registerVersion)(Io,"0.9.2"),(0,Ae.registerVersion)(Io,"0.9.2","esm2017");const qo="analytics",U="firebase_id",N="origin",se="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ce="https://www.googletagmanager.com/gtag/js",Ye=new ke.Yd("@firebase/analytics");function pt(M){return Promise.all(M.map(B=>B.catch(Q=>Q)))}function Kt(M,B){const Q=document.createElement("script");Q.src=`${Ce}?l=${M}&id=${B}`,Q.async=!0,document.head.appendChild(Q)}function _n(M,B,Q,ge,We,st){return fn.apply(this,arguments)}function fn(){return(fn=(0,J.Z)(function*(M,B,Q,ge,We,st){const At=ge[We];try{if(At)yield B[At];else{const $t=(yield pt(Q)).find(Nn=>Nn.measurementId===We);$t&&(yield B[$t.appId])}}catch(cn){Ye.error(cn)}M("config",We,st)})).apply(this,arguments)}function Hn(M,B,Q,ge,We){return I.apply(this,arguments)}function I(){return(I=(0,J.Z)(function*(M,B,Q,ge,We){try{let st=[];if(We&&We.send_to){let At=We.send_to;Array.isArray(At)||(At=[At]);const cn=yield pt(Q);for(const $t of At){const Nn=cn.find(Ji=>Ji.measurementId===$t),xr=Nn&&B[Nn.appId];if(!xr){st=[];break}st.push(xr)}}0===st.length&&(st=Object.values(B)),yield Promise.all(st),M("event",ge,We||{})}catch(st){Ye.error(st)}})).apply(this,arguments)}function Ee(){const M=window.document.getElementsByTagName("script");for(const B of Object.values(M))if(B.src&&B.src.includes(Ce))return B;return null}const Wt=new A.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Dr=new class{constructor(B={},Q=1e3){this.throttleMetadata=B,this.intervalMillis=Q}getThrottleMetadata(B){return this.throttleMetadata[B]}setThrottleMetadata(B,Q){this.throttleMetadata[B]=Q}deleteThrottleMetadata(B){delete this.throttleMetadata[B]}};function qs(M){return new Headers({Accept:"application/json","x-goog-api-key":M})}function pi(M){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,J.Z)(function*(M){var B;const{appId:Q,apiKey:ge}=M,We={method:"GET",headers:qs(ge)},st=se.replace("{app-id}",Q),At=yield fetch(st,We);if(200!==At.status&&304!==At.status){let cn="";try{const $t=yield At.json();(null===(B=$t.error)||void 0===B?void 0:B.message)&&(cn=$t.error.message)}catch($t){}throw Wt.create("config-fetch-failed",{httpStatus:At.status,responseMessage:cn})}return At.json()})).apply(this,arguments)}function ba(M){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,J.Z)(function*(M,B=Dr,Q){const{appId:ge,apiKey:We,measurementId:st}=M.options;if(!ge)throw Wt.create("no-app-id");if(!We){if(st)return{measurementId:st,appId:ge};throw Wt.create("no-api-key")}const At=B.getThrottleMetadata(ge)||{backoffCount:0,throttleEndTimeMillis:Date.now()},cn=new ul;return setTimeout((0,J.Z)(function*(){cn.abort()}),void 0!==Q?Q:6e4),Js({appId:ge,apiKey:We,measurementId:st},At,cn,B)})).apply(this,arguments)}function Js(M,B,Q){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,J.Z)(function*(M,{throttleEndTimeMillis:B,backoffCount:Q},ge,We=Dr){const{appId:st,measurementId:At}=M;try{yield vu(ge,B)}catch(cn){if(At)return Ye.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${At} provided in the "measurementId" field in the local Firebase config. [${cn.message}]`),{appId:st,measurementId:At};throw cn}try{const cn=yield pi(M);return We.deleteThrottleMetadata(st),cn}catch(cn){if(!wu(cn)){if(We.deleteThrottleMetadata(st),At)return Ye.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${At} provided in the "measurementId" field in the local Firebase config. [${cn.message}]`),{appId:st,measurementId:At};throw cn}const $t=503===Number(cn.customData.httpStatus)?(0,A.$s)(Q,We.intervalMillis,30):(0,A.$s)(Q,We.intervalMillis),Nn={throttleEndTimeMillis:Date.now()+$t,backoffCount:Q+1};return We.setThrottleMetadata(st,Nn),Ye.debug(`Calling attemptFetch again in ${$t} millis`),Js(M,Nn,ge,We)}})).apply(this,arguments)}function vu(M,B){return new Promise((Q,ge)=>{const We=Math.max(B-Date.now(),0),st=setTimeout(Q,We);M.addEventListener(()=>{clearTimeout(st),ge(Wt.create("fetch-throttle",{throttleEndTimeMillis:B}))})})}function wu(M){if(!(M instanceof A.ZR&&M.customData))return!1;const B=Number(M.customData.httpStatus);return 429===B||500===B||503===B||504===B}class ul{constructor(){this.listeners=[]}addEventListener(B){this.listeners.push(B)}abort(){this.listeners.forEach(B=>B())}}function zs(){return bu.apply(this,arguments)}function bu(){return(bu=(0,J.Z)(function*(){if(!(0,A.hl)())return Ye.warn(Wt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,A.eu)()}catch(M){return Ye.warn(Wt.create("indexeddb-unavailable",{errorInfo:M}).message),!1}return!0})).apply(this,arguments)}function ar(){return(ar=(0,J.Z)(function*(M,B,Q,ge,We,st,At){var cn;const $t=ba(M);$t.then(as=>{Q[as.measurementId]=as.appId,M.options.measurementId&&as.measurementId!==M.options.measurementId&&Ye.warn(`The measurement ID in the local Firebase config (${M.options.measurementId}) does not match the measurement ID fetched from the server (${as.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(as=>Ye.error(as)),B.push($t);const Nn=zs().then(as=>{if(as)return ge.getId()}),[xr,Ji]=yield Promise.all([$t,Nn]);Ee()||Kt(st,xr.measurementId),We("js",new Date);const Ao=null!==(cn=null==At?void 0:At.config)&&void 0!==cn?cn:{};return Ao[N]="firebase",Ao.update=!0,null!=Ji&&(Ao[U]=Ji),We("config",xr.measurementId,Ao),xr.measurementId})).apply(this,arguments)}class zo{constructor(B){this.app=B}_delete(){return delete Li[this.app.options.appId],Promise.resolve()}}let Li={},Zo=[];const na={};let mo,yo,Nt="dataLayer",gn=!1;function Jt(M,B,Q){!function(){const M=[];if((0,A.ru)()&&M.push("This is a browser extension environment."),(0,A.zI)()||M.push("Cookies are not available."),M.length>0){const B=M.map((ge,We)=>`(${We+1}) ${ge}`).join(" "),Q=Wt.create("invalid-analytics-context",{errorInfo:B});Ye.warn(Q.message)}}();const ge=M.options.appId;if(!ge)throw Wt.create("no-app-id");if(!M.options.apiKey){if(!M.options.measurementId)throw Wt.create("no-api-key");Ye.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${M.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Li[ge])throw Wt.create("already-exists",{id:ge});if(!gn){!function(M){let B=[];Array.isArray(window[M])?B=window[M]:window[M]=B}(Nt);const{wrappedGtag:st,gtagCore:At}=function(M,B,Q,ge,We){let st=function(...At){window[ge].push(arguments)};return window[We]&&"function"==typeof window[We]&&(st=window[We]),window[We]=function(M,B,Q,ge){function st(){return(st=(0,J.Z)(function*(At,cn,$t){try{"event"===At?yield Hn(M,B,Q,cn,$t):"config"===At?yield _n(M,B,Q,ge,cn,$t):M("set",cn)}catch(Nn){Ye.error(Nn)}})).apply(this,arguments)}return function(At,cn,$t){return st.apply(this,arguments)}}(st,M,B,Q),{gtagCore:st,wrappedGtag:window[We]}}(Li,Zo,na,Nt,"gtag");yo=st,mo=At,gn=!0}return Li[ge]=function(M,B,Q,ge,We,st,At){return ar.apply(this,arguments)}(M,Zo,na,B,mo,Nt,Q),new zo(M)}function Dt(){return(Dt=(0,J.Z)(function*(M,B,Q,ge,We){if(We&&We.global)M("event",Q,ge);else{const st=yield B;M("event",Q,Object.assign(Object.assign({},ge),{send_to:st}))}})).apply(this,arguments)}function tr(){return Do.apply(this,arguments)}function Do(){return(Do=(0,J.Z)(function*(){if((0,A.ru)()||!(0,A.zI)()||!(0,A.hl)())return!1;try{return yield(0,A.eu)()}catch(M){return!1}})).apply(this,arguments)}const Pa="@firebase/analytics";(0,Ae._registerComponent)(new Ie.wA(qo,(B,{options:Q})=>Jt(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),Q),"PUBLIC")),(0,Ae._registerComponent)(new Ie.wA("analytics-internal",function(B){try{const Q=B.getProvider(qo).getImmediate();return{logEvent:(ge,We,st)=>function(M,B,Q,ge){M=(0,A.m9)(M),function(M,B,Q,ge,We){return Dt.apply(this,arguments)}(yo,Li[M.app.options.appId],B,Q,ge).catch(We=>Ye.error(We))}(Q,ge,We,st)}}catch(Q){throw Wt.create("interop-component-reg-failed",{reason:Q})}},"PRIVATE")),(0,Ae.registerVersion)(Pa,"0.7.2"),(0,Ae.registerVersion)(Pa,"0.7.2","esm2017");var C=j(504);class v extends C.o{constructor(B,Q){super(B,Q),this.scheduler=B,this.work=Q}schedule(B,Q=0){return Q>0?super.schedule(B,Q):(this.delay=Q,this.state=B,this.scheduler.flush(this),this)}execute(B,Q){return Q>0||this.closed?super.execute(B,Q):this._execute(B,Q)}requestAsyncId(B,Q,ge=0){return null!=ge&&ge>0||null==ge&&this.delay>0?super.requestAsyncId(B,Q,ge):B.flush(this)}}var m=j(9713);class R extends m.v{}const V=new R(v);var _e=j(4346),Te=j(6361),gt=j(3201),sn=j(1894),br=j(576),ur=j(8341),lr=j(8127);const ia=new y.GfV("7.1.0"),Di="__angularfire_symbol__analyticsIsSupported",Sr="__angularfire_symbol__remoteConfigIsSupported",Wo="__angularfire_symbol__messagingIsSupported";function Oa(M,B,Q){if(B){if(1===B.length)return B[0];const st=B.filter(At=>At.app===Q);if(1===st.length)return st[0]}return Q.container.getProvider(M).getImmediate({optional:!0})}globalThis[Di]||(globalThis[Di]=tr().then(M=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=M)),globalThis[Wo]||(globalThis[Wo]=ta().then(M=>globalThis.__angularfire_symbol__messagingIsSupportedValue=M)),globalThis[Sr]||(globalThis[Sr]=Bs().then(M=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=M));const sa=(M,B)=>{const Q=B?[B]:(0,S.C6)(),ge=[];return Q.forEach(We=>{We.container.getProvider(M).instances.forEach(At=>{ge.includes(At)||ge.push(At)})}),ge};function to(){}class Na{constructor(B,Q=V){this.zone=B,this.delegate=Q}now(){return this.delegate.now()}schedule(B,Q,ge){const We=this.zone;return this.delegate.schedule(function(At){We.runGuarded(()=>{B.apply(this,[At])})},Q,ge)}}class Hu{constructor(B){this.zone=B,this.task=null}call(B,Q){const ge=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",to,{},to,to)),Q.pipe(function(M,B,Q){const ge=(0,Te.m)(M)?{next:M,error:B,complete:Q}:M;return ge?(0,gt.e)((We,st)=>{var At;null===(At=ge.subscribe)||void 0===At||At.call(ge);let cn=!0;We.subscribe(new sn.Q(st,$t=>{var Nn;null===(Nn=ge.next)||void 0===Nn||Nn.call(ge,$t),st.next($t)},()=>{var $t;cn=!1,null===($t=ge.complete)||void 0===$t||$t.call(ge),st.complete()},$t=>{var Nn;cn=!1,null===(Nn=ge.error)||void 0===Nn||Nn.call(ge,$t),st.error($t)},()=>{var $t,Nn;cn&&(null===($t=ge.unsubscribe)||void 0===$t||$t.call(ge)),null===(Nn=ge.finalize)||void 0===Nn||Nn.call(ge)}))}):br.y}({next:ge,complete:ge,error:ge})).subscribe(B).add(ge)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ps=(()=>{class M{constructor(Q){this.ngZone=Q,this.outsideAngular=Q.runOutsideAngular(()=>new Na(Zone.current)),this.insideAngular=Q.run(()=>new Na(Zone.current,_e.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return M.\u0275fac=function(Q){return new(Q||M)(y.LFG(y.R0b))},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function Ia(){const M=globalThis.\u0275AngularFireScheduler;if(!M)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return M}function no(M){return M.pipe((0,ur.Q)(Ia().outsideAngular))}function Fa(M){return Ia(),function(M){return function(Q){return(Q=Q.lift(new Hu(M.ngZone))).pipe((0,lr.R)(M.outsideAngular),(0,ur.Q)(M.insideAngular))}}(Ia())(M)}},1827:(Pt,Le,j)=>{"use strict";j.d(Le,{y:()=>Y});var y=j(3704),S=j(2669),J=j(7328),Ae=j(576);var ke=j(5960),Qe=j(6361),fe=j(776);let Y=(()=>{class Fe{constructor(Oe){Oe&&(this._subscribe=Oe)}lift(Oe){const Ve=new Fe;return Ve.source=this,Ve.operator=Oe,Ve}subscribe(Oe,Ve,le){const Be=function(Fe){return Fe&&Fe instanceof y.Lv||function(Fe){return Fe&&(0,Qe.m)(Fe.next)&&(0,Qe.m)(Fe.error)&&(0,Qe.m)(Fe.complete)}(Fe)&&(0,S.Nn)(Fe)}(Oe)?Oe:new y.Hp(Oe,Ve,le);return(0,fe.x)(()=>{const{operator:Me,source:$e}=this;Be.add(Me?Me.call(Be,$e):$e?this._subscribe(Be):this._trySubscribe(Be))}),Be}_trySubscribe(Oe){try{return this._subscribe(Oe)}catch(Ve){Oe.error(Ve)}}forEach(Oe,Ve){return new(Ve=ee(Ve))((le,Be)=>{let Me;Me=this.subscribe($e=>{try{Oe($e)}catch(dt){Be(dt),null==Me||Me.unsubscribe()}},Be,le)})}_subscribe(Oe){var Ve;return null===(Ve=this.source)||void 0===Ve?void 0:Ve.subscribe(Oe)}[J.L](){return this}pipe(...Oe){return function(Fe){return 0===Fe.length?Ae.y:1===Fe.length?Fe[0]:function(Oe){return Fe.reduce((Ve,le)=>le(Ve),Oe)}}(Oe)(this)}toPromise(Oe){return new(Oe=ee(Oe))((Ve,le)=>{let Be;this.subscribe(Me=>Be=Me,Me=>le(Me),()=>Ve(Be))})}}return Fe.create=nt=>new Fe(nt),Fe})();function ee(Fe){var nt;return null!==(nt=null!=Fe?Fe:ke.v.Promise)&&void 0!==nt?nt:Promise}},3704:(Pt,Le,j)=>{"use strict";j.d(Le,{Hp:()=>ze,Lv:()=>be});var y=j(6361),S=j(2669),J=j(5960),Ae=j(9249);function A(){}const Ie=(()=>fe("C",void 0,void 0))();function fe(le,Be,Me){return{kind:le,value:Be,error:Me}}var Y=j(2487),ee=j(776);class be extends S.w0{constructor(Be){super(),this.isStopped=!1,Be?(this.destination=Be,(0,S.Nn)(Be)&&Be.add(this)):this.destination=Ve}static create(Be,Me,$e){return new ze(Be,Me,$e)}next(Be){this.isStopped?Oe(fe("N",Be,void 0),this):this._next(Be)}error(Be){this.isStopped?Oe(fe("E",void 0,Be),this):(this.isStopped=!0,this._error(Be))}complete(){this.isStopped?Oe(Ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Be){this.destination.next(Be)}_error(Be){try{this.destination.error(Be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class ze extends be{constructor(Be,Me,$e){let dt;if(super(),(0,y.m)(Be))dt=Be;else if(Be){let it;({next:dt,error:Me,complete:$e}=Be),this&&J.v.useDeprecatedNextContext?(it=Object.create(Be),it.unsubscribe=()=>this.unsubscribe()):it=Be,dt=null==dt?void 0:dt.bind(it),Me=null==Me?void 0:Me.bind(it),$e=null==$e?void 0:$e.bind(it)}this.destination={next:dt?Fe(dt):A,error:Fe(null!=Me?Me:nt),complete:$e?Fe($e):A}}}function Fe(le,Be){return(...Me)=>{try{le(...Me)}catch($e){J.v.useDeprecatedSynchronousErrorHandling?(0,ee.O)($e):(0,Ae.h)($e)}}}function nt(le){throw le}function Oe(le,Be){const{onStoppedNotification:Me}=J.v;Me&&Y.z.setTimeout(()=>Me(le,Be))}const Ve={closed:!0,next:A,error:nt,complete:A}},2669:(Pt,Le,j)=>{"use strict";j.d(Le,{Lc:()=>Ie,w0:()=>A,Nn:()=>ke});var y=j(6361);const J=(0,j(9753).d)(fe=>function(ee){fe(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((be,ze)=>`${ze+1}) ${be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee});var Ae=j(8208);class A{constructor(Y){this.initialTeardown=Y,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let Y;if(!this.closed){this.closed=!0;const{_parentage:ee}=this;if(ee)if(this._parentage=null,Array.isArray(ee))for(const Fe of ee)Fe.remove(this);else ee.remove(this);const{initialTeardown:be}=this;if((0,y.m)(be))try{be()}catch(Fe){Y=Fe instanceof J?Fe.errors:[Fe]}const{_teardowns:ze}=this;if(ze){this._teardowns=null;for(const Fe of ze)try{Qe(Fe)}catch(nt){Y=null!=Y?Y:[],nt instanceof J?Y=[...Y,...nt.errors]:Y.push(nt)}}if(Y)throw new J(Y)}}add(Y){var ee;if(Y&&Y!==this)if(this.closed)Qe(Y);else{if(Y instanceof A){if(Y.closed||Y._hasParent(this))return;Y._addParent(this)}(this._teardowns=null!==(ee=this._teardowns)&&void 0!==ee?ee:[]).push(Y)}}_hasParent(Y){const{_parentage:ee}=this;return ee===Y||Array.isArray(ee)&&ee.includes(Y)}_addParent(Y){const{_parentage:ee}=this;this._parentage=Array.isArray(ee)?(ee.push(Y),ee):ee?[ee,Y]:Y}_removeParent(Y){const{_parentage:ee}=this;ee===Y?this._parentage=null:Array.isArray(ee)&&(0,Ae.P)(ee,Y)}remove(Y){const{_teardowns:ee}=this;ee&&(0,Ae.P)(ee,Y),Y instanceof A&&Y._removeParent(this)}}A.EMPTY=(()=>{const fe=new A;return fe.closed=!0,fe})();const Ie=A.EMPTY;function ke(fe){return fe instanceof A||fe&&"closed"in fe&&(0,y.m)(fe.remove)&&(0,y.m)(fe.add)&&(0,y.m)(fe.unsubscribe)}function Qe(fe){(0,y.m)(fe)?fe():fe.unsubscribe()}},5960:(Pt,Le,j)=>{"use strict";j.d(Le,{v:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1179:(Pt,Le,j)=>{"use strict";j.d(Le,{D:()=>dt});var y=j(3413),S=j(8341),J=j(8127),Ie=j(1827),Qe=j(6384),fe=j(6361),Y=j(768);function be(it,zt){if(!it)throw new Error("Iterable cannot be null");return new Ie.y(Ot=>{(0,Y.f)(Ot,zt,()=>{const ie=it[Symbol.asyncIterator]();(0,Y.f)(Ot,zt,()=>{ie.next().then(ue=>{ue.done?Ot.complete():Ot.next(ue.value)})},0,!0)})})}var ze=j(8312),Fe=j(3707),nt=j(9049),Oe=j(5729),Ve=j(7153),le=j(5611),Be=j(837);function dt(it,zt){return zt?function(it,zt){if(null!=it){if((0,ze.c)(it))return function(it,zt){return(0,y.Xf)(it).pipe((0,J.R)(zt),(0,S.Q)(zt))}(it,zt);if((0,nt.z)(it))return function(it,zt){return new Ie.y(Ot=>{let ie=0;return zt.schedule(function(){ie===it.length?Ot.complete():(Ot.next(it[ie++]),Ot.closed||this.schedule())})})}(it,zt);if((0,Fe.t)(it))return function(it,zt){return(0,y.Xf)(it).pipe((0,J.R)(zt),(0,S.Q)(zt))}(it,zt);if((0,Ve.D)(it))return be(it,zt);if((0,Oe.T)(it))return function(it,zt){return new Ie.y(Ot=>{let ie;return(0,Y.f)(Ot,zt,()=>{ie=it[Qe.h](),(0,Y.f)(Ot,zt,()=>{let ue,me;try{({value:ue,done:me}=ie.next())}catch(ye){return void Ot.error(ye)}me?Ot.complete():Ot.next(ue)},0,!0)}),()=>(0,fe.m)(null==ie?void 0:ie.return)&&ie.return()})}(it,zt);if((0,Be.L)(it))return function(it,zt){return be((0,Be.Q)(it),zt)}(it,zt)}throw(0,le.z)(it)}(it,zt):(0,y.Xf)(it)}},3413:(Pt,Le,j)=>{"use strict";j.d(Le,{Xf:()=>ze});var y=j(9517),S=j(9049),J=j(3707),Ae=j(1827),A=j(8312),Ie=j(7153),ke=j(5611),Qe=j(5729),fe=j(837),Y=j(6361),ee=j(9249),be=j(7328);function ze($e){if($e instanceof Ae.y)return $e;if(null!=$e){if((0,A.c)($e))return function($e){return new Ae.y(dt=>{const it=$e[be.L]();if((0,Y.m)(it.subscribe))return it.subscribe(dt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}($e);if((0,S.z)($e))return function($e){return new Ae.y(dt=>{for(let it=0;it<$e.length&&!dt.closed;it++)dt.next($e[it]);dt.complete()})}($e);if((0,J.t)($e))return function($e){return new Ae.y(dt=>{$e.then(it=>{dt.closed||(dt.next(it),dt.complete())},it=>dt.error(it)).then(null,ee.h)})}($e);if((0,Ie.D)($e))return le($e);if((0,Qe.T)($e))return function($e){return new Ae.y(dt=>{for(const it of $e)if(dt.next(it),dt.closed)return;dt.complete()})}($e);if((0,fe.L)($e))return function($e){return le((0,fe.Q)($e))}($e)}throw(0,ke.z)($e)}function le($e){return new Ae.y(dt=>{(function($e,dt){var it,zt,Ot,ie;return(0,y.mG)(this,void 0,void 0,function*(){try{for(it=(0,y.KL)($e);!(zt=yield it.next()).done;)if(dt.next(zt.value),dt.closed)return}catch(ue){Ot={error:ue}}finally{try{zt&&!zt.done&&(ie=it.return)&&(yield ie.call(it))}finally{if(Ot)throw Ot.error}}dt.complete()})})($e,dt).catch(it=>dt.error(it))})}},4323:(Pt,Le,j)=>{"use strict";j.d(Le,{of:()=>J});var y=j(7375),S=j(1179);function J(...Ae){const A=(0,y.yG)(Ae);return(0,S.D)(Ae,A)}},1894:(Pt,Le,j)=>{"use strict";j.d(Le,{Q:()=>S});var y=j(3704);class S extends y.Lv{constructor(Ae,A,Ie,ke,Qe){super(Ae),this.onFinalize=Qe,this._next=A?function(fe){try{A(fe)}catch(Y){Ae.error(Y)}}:super._next,this._error=ke?function(fe){try{ke(fe)}catch(Y){Ae.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=Ie?function(){try{Ie()}catch(fe){Ae.error(fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ae;const{closed:A}=this;super.unsubscribe(),!A&&(null===(Ae=this.onFinalize)||void 0===Ae||Ae.call(this))}}},1971:(Pt,Le,j)=>{"use strict";j.d(Le,{h:()=>J});var y=j(3201),S=j(1894);function J(Ae,A){return(0,y.e)((Ie,ke)=>{let Qe=0;Ie.subscribe(new S.Q(ke,fe=>Ae.call(A,fe,Qe++)&&ke.next(fe)))})}},6885:(Pt,Le,j)=>{"use strict";j.d(Le,{U:()=>J});var y=j(3201),S=j(1894);function J(Ae,A){return(0,y.e)((Ie,ke)=>{let Qe=0;Ie.subscribe(new S.Q(ke,fe=>{ke.next(Ae.call(A,fe,Qe++))}))})}},2253:(Pt,Le,j)=>{"use strict";j.d(Le,{J:()=>Y});var y=j(6885),S=j(3413),J=j(3201),A=(j(768),j(1894)),ke=j(6361);function Qe(ee,be,ze=1/0){return(0,ke.m)(be)?Qe((Fe,nt)=>(0,y.U)((Oe,Ve)=>be(Fe,Oe,nt,Ve))((0,S.Xf)(ee(Fe,nt))),ze):("number"==typeof be&&(ze=be),(0,J.e)((Fe,nt)=>function(ee,be,ze,Fe,nt,Oe,Ve,le){const Be=[];let Me=0,$e=0,dt=!1;const it=()=>{dt&&!Be.length&&!Me&&be.complete()},zt=ie=>Me<Fe?Ot(ie):Be.push(ie),Ot=ie=>{Me++;let ue=!1;(0,S.Xf)(ze(ie,$e++)).subscribe(new A.Q(be,me=>{be.next(me)},()=>{ue=!0},void 0,()=>{if(ue)try{for(Me--;Be.length&&Me<Fe;){const me=Be.shift();Ot(me)}it()}catch(me){be.error(me)}}))};return ee.subscribe(new A.Q(be,zt,()=>{dt=!0,it()})),()=>{}}(Fe,nt,ee,ze)))}var fe=j(576);function Y(ee=1/0){return Qe(fe.y,ee)}},8341:(Pt,Le,j)=>{"use strict";j.d(Le,{Q:()=>Ae});var y=j(768),S=j(3201),J=j(1894);function Ae(A,Ie=0){return(0,S.e)((ke,Qe)=>{ke.subscribe(new J.Q(Qe,fe=>(0,y.f)(Qe,A,()=>Qe.next(fe),Ie),()=>(0,y.f)(Qe,A,()=>Qe.complete(),Ie),fe=>(0,y.f)(Qe,A,()=>Qe.error(fe),Ie)))})}},8127:(Pt,Le,j)=>{"use strict";j.d(Le,{R:()=>S});var y=j(3201);function S(J,Ae=0){return(0,y.e)((A,Ie)=>{Ie.add(J.schedule(()=>A.subscribe(Ie),Ae))})}},1926:(Pt,Le,j)=>{"use strict";j.d(Le,{w:()=>Ae});var y=j(3413),S=j(3201),J=j(1894);function Ae(A,Ie){return(0,S.e)((ke,Qe)=>{let fe=null,Y=0,ee=!1;const be=()=>ee&&!fe&&Qe.complete();ke.subscribe(new J.Q(Qe,ze=>{null==fe||fe.unsubscribe();let Fe=0;const nt=Y++;(0,y.Xf)(A(ze,nt)).subscribe(fe=new J.Q(Qe,Oe=>Qe.next(Ie?Ie(ze,Oe,nt,Fe++):Oe),()=>{fe=null,be()}))},()=>{ee=!0,be()}))})}},504:(Pt,Le,j)=>{"use strict";j.d(Le,{o:()=>A});var y=j(2669);class S extends y.w0{constructor(ke,Qe){super()}schedule(ke,Qe=0){return this}}const J={setInterval(...Ie){const{delegate:ke}=J;return((null==ke?void 0:ke.setInterval)||setInterval)(...Ie)},clearInterval(Ie){const{delegate:ke}=J;return((null==ke?void 0:ke.clearInterval)||clearInterval)(Ie)},delegate:void 0};var Ae=j(8208);class A extends S{constructor(ke,Qe){super(ke,Qe),this.scheduler=ke,this.work=Qe,this.pending=!1}schedule(ke,Qe=0){if(this.closed)return this;this.state=ke;const fe=this.id,Y=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(Y,fe,Qe)),this.pending=!0,this.delay=Qe,this.id=this.id||this.requestAsyncId(Y,this.id,Qe),this}requestAsyncId(ke,Qe,fe=0){return J.setInterval(ke.flush.bind(ke,this),fe)}recycleAsyncId(ke,Qe,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return Qe;J.clearInterval(Qe)}execute(ke,Qe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(ke,Qe);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ke,Qe){let Y,fe=!1;try{this.work(ke)}catch(ee){fe=!0,Y=ee||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),Y}unsubscribe(){if(!this.closed){const{id:ke,scheduler:Qe}=this,{actions:fe}=Qe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ae.P)(fe,this),null!=ke&&(this.id=this.recycleAsyncId(Qe,ke,null)),this.delay=null,super.unsubscribe()}}}},9713:(Pt,Le,j)=>{"use strict";j.d(Le,{v:()=>J});var y=j(1373);class S{constructor(A,Ie=S.now){this.schedulerActionCtor=A,this.now=Ie}schedule(A,Ie=0,ke){return new this.schedulerActionCtor(this,A).schedule(ke,Ie)}}S.now=y.l.now;class J extends S{constructor(A,Ie=S.now){super(A,Ie),this.actions=[],this._active=!1,this._scheduled=void 0}flush(A){const{actions:Ie}=this;if(this._active)return void Ie.push(A);let ke;this._active=!0;do{if(ke=A.execute(A.state,A.delay))break}while(A=Ie.shift());if(this._active=!1,ke){for(;A=Ie.shift();)A.unsubscribe();throw ke}}}},4346:(Pt,Le,j)=>{"use strict";j.d(Le,{z:()=>J});var y=j(504);const J=new(j(9713).v)(y.o)},1373:(Pt,Le,j)=>{"use strict";j.d(Le,{l:()=>y});const y={now:()=>(y.delegate||Date).now(),delegate:void 0}},2487:(Pt,Le,j)=>{"use strict";j.d(Le,{z:()=>y});const y={setTimeout(...S){const{delegate:J}=y;return((null==J?void 0:J.setTimeout)||setTimeout)(...S)},clearTimeout(S){const{delegate:J}=y;return((null==J?void 0:J.clearTimeout)||clearTimeout)(S)},delegate:void 0}},6384:(Pt,Le,j)=>{"use strict";function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}j.d(Le,{h:()=>S});const S=y()},7328:(Pt,Le,j)=>{"use strict";j.d(Le,{L:()=>y});const y=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},7375:(Pt,Le,j)=>{"use strict";j.d(Le,{_6:()=>Ie,yG:()=>A});var y=j(6361);function J(ke){return ke[ke.length-1]}function A(ke){return function(ke){return ke&&(0,y.m)(ke.schedule)}(J(ke))?ke.pop():void 0}function Ie(ke,Qe){return"number"==typeof J(ke)?ke.pop():Qe}},8208:(Pt,Le,j)=>{"use strict";function y(S,J){if(S){const Ae=S.indexOf(J);0<=Ae&&S.splice(Ae,1)}}j.d(Le,{P:()=>y})},9753:(Pt,Le,j)=>{"use strict";function y(S){const Ae=S(A=>{Error.call(A),A.stack=(new Error).stack});return Ae.prototype=Object.create(Error.prototype),Ae.prototype.constructor=Ae,Ae}j.d(Le,{d:()=>y})},776:(Pt,Le,j)=>{"use strict";j.d(Le,{x:()=>J,O:()=>Ae});var y=j(5960);let S=null;function J(A){if(y.v.useDeprecatedSynchronousErrorHandling){const Ie=!S;if(Ie&&(S={errorThrown:!1,error:null}),A(),Ie){const{errorThrown:ke,error:Qe}=S;if(S=null,ke)throw Qe}}else A()}function Ae(A){y.v.useDeprecatedSynchronousErrorHandling&&S&&(S.errorThrown=!0,S.error=A)}},768:(Pt,Le,j)=>{"use strict";function y(S,J,Ae,A=0,Ie=!1){const ke=J.schedule(function(){Ae(),Ie?S.add(this.schedule(null,A)):this.unsubscribe()},A);if(S.add(ke),!Ie)return ke}j.d(Le,{f:()=>y})},576:(Pt,Le,j)=>{"use strict";function y(S){return S}j.d(Le,{y:()=>y})},9049:(Pt,Le,j)=>{"use strict";j.d(Le,{z:()=>y});const y=S=>S&&"number"==typeof S.length&&"function"!=typeof S},7153:(Pt,Le,j)=>{"use strict";j.d(Le,{D:()=>S});var y=j(6361);function S(J){return Symbol.asyncIterator&&(0,y.m)(null==J?void 0:J[Symbol.asyncIterator])}},6361:(Pt,Le,j)=>{"use strict";function y(S){return"function"==typeof S}j.d(Le,{m:()=>y})},8312:(Pt,Le,j)=>{"use strict";j.d(Le,{c:()=>J});var y=j(7328),S=j(6361);function J(Ae){return(0,S.m)(Ae[y.L])}},5729:(Pt,Le,j)=>{"use strict";j.d(Le,{T:()=>J});var y=j(6384),S=j(6361);function J(Ae){return(0,S.m)(null==Ae?void 0:Ae[y.h])}},3707:(Pt,Le,j)=>{"use strict";j.d(Le,{t:()=>S});var y=j(6361);function S(J){return(0,y.m)(null==J?void 0:J.then)}},837:(Pt,Le,j)=>{"use strict";j.d(Le,{Q:()=>J,L:()=>Ae});var y=j(9517),S=j(6361);function J(A){return(0,y.FC)(this,arguments,function*(){const ke=A.getReader();try{for(;;){const{value:Qe,done:fe}=yield(0,y.qq)(ke.read());if(fe)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(Qe)}}finally{ke.releaseLock()}})}function Ae(A){return(0,S.m)(null==A?void 0:A.getReader)}},3201:(Pt,Le,j)=>{"use strict";j.d(Le,{e:()=>J});var y=j(6361);function J(Ae){return A=>{if(function(Ae){return(0,y.m)(null==Ae?void 0:Ae.lift)}(A))return A.lift(function(Ie){try{return Ae(Ie,this)}catch(ke){this.error(ke)}});throw new TypeError("Unable to lift unknown Observable type")}}},9249:(Pt,Le,j)=>{"use strict";j.d(Le,{h:()=>J});var y=j(5960),S=j(2487);function J(Ae){S.z.setTimeout(()=>{const{onUnhandledError:A}=y.v;if(!A)throw Ae;A(Ae)})}},5611:(Pt,Le,j)=>{"use strict";function y(S){return new TypeError(`You provided ${null!==S&&"object"==typeof S?"an invalid object":`'${S}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(Le,{z:()=>y})},665:(Pt,Le,j)=>{"use strict";j.d(Le,{Fj:()=>le,qu:()=>ot,u:()=>rs,sg:()=>Kr,u5:()=>L,JJ:()=>vt,JL:()=>Je,YN:()=>cs,wV:()=>Ke,UX:()=>te,EJ:()=>_i,kI:()=>zt,_Y:()=>rr,Kr:()=>Wi});var y=j(639),S=j(8583),J=j(7574),Ae=j(9796),A=j(8002),Ie=j(1555),ke=j(4402);function fe(O,x){return new J.y(T=>{const W=O.length;if(0===W)return void T.complete();const qe=new Array(W);let ft=0,un=0;for(let yr=0;yr<W;yr++){const Jr=(0,ke.D)(O[yr]);let _r=!1;T.add(Jr.subscribe({next:kr=>{_r||(_r=!0,un++),qe[yr]=kr},error:kr=>T.error(kr),complete:()=>{ft++,(ft===W||!_r)&&(un===W&&T.next(x?x.reduce((kr,xi,ii)=>(kr[xi]=qe[ii],kr),{}):qe),T.complete())}}))}})}let Y=(()=>{class O{constructor(T,W){this._renderer=T,this._elementRef=W,this.onChange=qe=>{},this.onTouched=()=>{}}setProperty(T,W){this._renderer.setProperty(this._elementRef.nativeElement,T,W)}registerOnTouched(T){this.onTouched=T}registerOnChange(T){this.onChange=T}setDisabledState(T){this.setProperty("disabled",T)}}return O.\u0275fac=function(T){return new(T||O)(y.Y36(y.Qsj),y.Y36(y.SBq))},O.\u0275dir=y.lG2({type:O}),O})(),ee=(()=>{class O extends Y{}return O.\u0275fac=function(){let x;return function(W){return(x||(x=y.n5z(O)))(W||O)}}(),O.\u0275dir=y.lG2({type:O,features:[y.qOj]}),O})();const be=new y.OlP("NgValueAccessor"),nt={provide:be,useExisting:(0,y.Gpc)(()=>le),multi:!0},Ve=new y.OlP("CompositionEventMode");let le=(()=>{class O extends Y{constructor(T,W,qe){super(T,W),this._compositionMode=qe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const O=(0,S.q)()?(0,S.q)().getUserAgent():"";return/android (\d+)/.test(O.toLowerCase())}())}writeValue(T){this.setProperty("value",null==T?"":T)}_handleInput(T){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(T)}_compositionStart(){this._composing=!0}_compositionEnd(T){this._composing=!1,this._compositionMode&&this.onChange(T)}}return O.\u0275fac=function(T){return new(T||O)(y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(Ve,8))},O.\u0275dir=y.lG2({type:O,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(T,W){1&T&&y.NdJ("input",function(ft){return W._handleInput(ft.target.value)})("blur",function(){return W.onTouched()})("compositionstart",function(){return W._compositionStart()})("compositionend",function(ft){return W._compositionEnd(ft.target.value)})},features:[y._Bn([nt]),y.qOj]}),O})();function Be(O){return null==O||0===O.length}function Me(O){return null!=O&&"number"==typeof O.length}const $e=new y.OlP("NgValidators"),dt=new y.OlP("NgAsyncValidators"),it=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class zt{static min(x){return O=x,x=>{if(Be(x.value)||Be(O))return null;const T=parseFloat(x.value);return!isNaN(T)&&T<O?{min:{min:O,actual:x.value}}:null};var O}static max(x){return O=x,x=>{if(Be(x.value)||Be(O))return null;const T=parseFloat(x.value);return!isNaN(T)&&T>O?{max:{max:O,actual:x.value}}:null};var O}static required(x){return Be(x.value)?{required:!0}:null}static requiredTrue(x){return!0===x.value?null:{required:!0}}static email(x){return Be((O=x).value)||it.test(O.value)?null:{email:!0};var O}static minLength(x){return O=x,x=>Be(x.value)||!Me(x.value)?null:x.value.length<O?{minlength:{requiredLength:O,actualLength:x.value.length}}:null;var O}static maxLength(x){return O=x,x=>Me(x.value)&&x.value.length>O?{maxlength:{requiredLength:O,actualLength:x.value.length}}:null;var O}static pattern(x){return function(O){if(!O)return Ge;let x,T;return"string"==typeof O?(T="","^"!==O.charAt(0)&&(T+="^"),T+=O,"$"!==O.charAt(O.length-1)&&(T+="$"),x=new RegExp(T)):(T=O.toString(),x=O),W=>{if(Be(W.value))return null;const qe=W.value;return x.test(qe)?null:{pattern:{requiredPattern:T,actualValue:qe}}}}(x)}static nullValidator(x){return null}static compose(x){return jn(x)}static composeAsync(x){return mr(x)}}function Ge(O){return null}function Ht(O){return null!=O}function Rt(O){const x=(0,y.QGY)(O)?(0,ke.D)(O):O;return(0,y.CqO)(x),x}function It(O){let x={};return O.forEach(T=>{x=null!=T?Object.assign(Object.assign({},x),T):x}),0===Object.keys(x).length?null:x}function Gt(O,x){return x.map(T=>T(O))}function Xt(O){return O.map(x=>function(O){return!O.validate}(x)?x:T=>x.validate(T))}function jn(O){if(!O)return null;const x=O.filter(Ht);return 0==x.length?null:function(T){return It(Gt(T,x))}}function sr(O){return null!=O?jn(Xt(O)):null}function mr(O){if(!O)return null;const x=O.filter(Ht);return 0==x.length?null:function(T){return function(...O){if(1===O.length){const x=O[0];if((0,Ae.k)(x))return fe(x,null);if((0,Ie.K)(x)&&Object.getPrototypeOf(x)===Object.prototype){const T=Object.keys(x);return fe(T.map(W=>x[W]),T)}}if("function"==typeof O[O.length-1]){const x=O.pop();return fe(O=1===O.length&&(0,Ae.k)(O[0])?O[0]:O,null).pipe((0,A.U)(T=>x(...T)))}return fe(O,null)}(Gt(T,x).map(Rt)).pipe((0,A.U)(It))}}function Vn(O){return null!=O?mr(Xt(O)):null}function nn(O,x){return null===O?[x]:Array.isArray(O)?[...O,x]:[O,x]}function Mn(O){return O._rawValidators}function qt(O){return O._rawAsyncValidators}function Ar(O){return O?Array.isArray(O)?O:[O]:[]}function nr(O,x){return Array.isArray(O)?O.includes(x):O===x}function Er(O,x){const T=Ar(x);return Ar(O).forEach(qe=>{nr(T,qe)||T.push(qe)}),T}function qn(O,x){return Ar(x).filter(T=>!nr(O,T))}let Fr=(()=>{class O{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(T){this._rawValidators=T||[],this._composedValidatorFn=sr(this._rawValidators)}_setAsyncValidators(T){this._rawAsyncValidators=T||[],this._composedAsyncValidatorFn=Vn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(T){this._onDestroyCallbacks.push(T)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(T=>T()),this._onDestroyCallbacks=[]}reset(T){this.control&&this.control.reset(T)}hasError(T,W){return!!this.control&&this.control.hasError(T,W)}getError(T,W){return this.control?this.control.getError(T,W):null}}return O.\u0275fac=function(T){return new(T||O)},O.\u0275dir=y.lG2({type:O}),O})(),kt=(()=>{class O extends Fr{get formDirective(){return null}get path(){return null}}return O.\u0275fac=function(){let x;return function(W){return(x||(x=y.n5z(O)))(W||O)}}(),O.\u0275dir=y.lG2({type:O,features:[y.qOj]}),O})();class wn extends Fr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Wn{constructor(x){this._cd=x}is(x){var T,W,qe;return"submitted"===x?!!(null===(T=this._cd)||void 0===T?void 0:T.submitted):!!(null===(qe=null===(W=this._cd)||void 0===W?void 0:W.control)||void 0===qe?void 0:qe[x])}}let vt=(()=>{class O extends Wn{constructor(T){super(T)}}return O.\u0275fac=function(T){return new(T||O)(y.Y36(wn,2))},O.\u0275dir=y.lG2({type:O,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(T,W){2&T&&y.ekj("ng-untouched",W.is("untouched"))("ng-touched",W.is("touched"))("ng-pristine",W.is("pristine"))("ng-dirty",W.is("dirty"))("ng-valid",W.is("valid"))("ng-invalid",W.is("invalid"))("ng-pending",W.is("pending"))},features:[y.qOj]}),O})(),Je=(()=>{class O extends Wn{constructor(T){super(T)}}return O.\u0275fac=function(T){return new(T||O)(y.Y36(kt,10))},O.\u0275dir=y.lG2({type:O,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(T,W){2&T&&y.ekj("ng-untouched",W.is("untouched"))("ng-touched",W.is("touched"))("ng-pristine",W.is("pristine"))("ng-dirty",W.is("dirty"))("ng-valid",W.is("valid"))("ng-invalid",W.is("invalid"))("ng-pending",W.is("pending"))("ng-submitted",W.is("submitted"))},features:[y.qOj]}),O})();function ve(O,x){He(O,x),x.valueAccessor.writeValue(O.value),function(O,x){x.valueAccessor.registerOnChange(T=>{O._pendingValue=T,O._pendingChange=!0,O._pendingDirty=!0,"change"===O.updateOn&&Un(O,x)})}(O,x),function(O,x){const T=(W,qe)=>{x.valueAccessor.writeValue(W),qe&&x.viewToModelUpdate(W)};O.registerOnChange(T),x._registerOnDestroy(()=>{O._unregisterOnChange(T)})}(O,x),function(O,x){x.valueAccessor.registerOnTouched(()=>{O._pendingTouched=!0,"blur"===O.updateOn&&O._pendingChange&&Un(O,x),"submit"!==O.updateOn&&O.markAsTouched()})}(O,x),function(O,x){if(x.valueAccessor.setDisabledState){const T=W=>{x.valueAccessor.setDisabledState(W)};O.registerOnDisabledChange(T),x._registerOnDestroy(()=>{O._unregisterOnDisabledChange(T)})}}(O,x)}function Se(O,x,T=!0){const W=()=>{};x.valueAccessor&&(x.valueAccessor.registerOnChange(W),x.valueAccessor.registerOnTouched(W)),yt(O,x),O&&(x._invokeOnDestroyCallbacks(),O._registerOnCollectionChange(()=>{}))}function Re(O,x){O.forEach(T=>{T.registerOnValidatorChange&&T.registerOnValidatorChange(x)})}function He(O,x){const T=Mn(O);null!==x.validator?O.setValidators(nn(T,x.validator)):"function"==typeof T&&O.setValidators([T]);const W=qt(O);null!==x.asyncValidator?O.setAsyncValidators(nn(W,x.asyncValidator)):"function"==typeof W&&O.setAsyncValidators([W]);const qe=()=>O.updateValueAndValidity();Re(x._rawValidators,qe),Re(x._rawAsyncValidators,qe)}function yt(O,x){let T=!1;if(null!==O){if(null!==x.validator){const qe=Mn(O);if(Array.isArray(qe)&&qe.length>0){const ft=qe.filter(un=>un!==x.validator);ft.length!==qe.length&&(T=!0,O.setValidators(ft))}}if(null!==x.asyncValidator){const qe=qt(O);if(Array.isArray(qe)&&qe.length>0){const ft=qe.filter(un=>un!==x.asyncValidator);ft.length!==qe.length&&(T=!0,O.setAsyncValidators(ft))}}}const W=()=>{};return Re(x._rawValidators,W),Re(x._rawAsyncValidators,W),T}function Un(O,x){O._pendingDirty&&O.markAsDirty(),O.setValue(O._pendingValue,{emitModelToViewChange:!1}),x.viewToModelUpdate(O._pendingValue),O._pendingChange=!1}function Ei(O,x){const T=O.indexOf(x);T>-1&&O.splice(T,1)}const mi="VALID",Ir="INVALID",rn="PENDING",Rr="DISABLED";function Mr(O){return(or(O)?O.validators:O)||null}function ns(O){return Array.isArray(O)?sr(O):O||null}function Zi(O,x){return(or(x)?x.asyncValidators:O)||null}function Pr(O){return Array.isArray(O)?Vn(O):O||null}function or(O){return null!=O&&!Array.isArray(O)&&"object"==typeof O}class An{constructor(x,T){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=x,this._rawAsyncValidators=T,this._composedValidatorFn=ns(this._rawValidators),this._composedAsyncValidatorFn=Pr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(x){this._rawValidators=this._composedValidatorFn=x}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(x){this._rawAsyncValidators=this._composedAsyncValidatorFn=x}get parent(){return this._parent}get valid(){return this.status===mi}get invalid(){return this.status===Ir}get pending(){return this.status==rn}get disabled(){return this.status===Rr}get enabled(){return this.status!==Rr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(x){this._rawValidators=x,this._composedValidatorFn=ns(x)}setAsyncValidators(x){this._rawAsyncValidators=x,this._composedAsyncValidatorFn=Pr(x)}addValidators(x){this.setValidators(Er(x,this._rawValidators))}addAsyncValidators(x){this.setAsyncValidators(Er(x,this._rawAsyncValidators))}removeValidators(x){this.setValidators(qn(x,this._rawValidators))}removeAsyncValidators(x){this.setAsyncValidators(qn(x,this._rawAsyncValidators))}hasValidator(x){return nr(this._rawValidators,x)}hasAsyncValidator(x){return nr(this._rawAsyncValidators,x)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(x={}){this.touched=!0,this._parent&&!x.onlySelf&&this._parent.markAsTouched(x)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(x=>x.markAllAsTouched())}markAsUntouched(x={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(T=>{T.markAsUntouched({onlySelf:!0})}),this._parent&&!x.onlySelf&&this._parent._updateTouched(x)}markAsDirty(x={}){this.pristine=!1,this._parent&&!x.onlySelf&&this._parent.markAsDirty(x)}markAsPristine(x={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(T=>{T.markAsPristine({onlySelf:!0})}),this._parent&&!x.onlySelf&&this._parent._updatePristine(x)}markAsPending(x={}){this.status=rn,!1!==x.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!x.onlySelf&&this._parent.markAsPending(x)}disable(x={}){const T=this._parentMarkedDirty(x.onlySelf);this.status=Rr,this.errors=null,this._forEachChild(W=>{W.disable(Object.assign(Object.assign({},x),{onlySelf:!0}))}),this._updateValue(),!1!==x.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},x),{skipPristineCheck:T})),this._onDisabledChange.forEach(W=>W(!0))}enable(x={}){const T=this._parentMarkedDirty(x.onlySelf);this.status=mi,this._forEachChild(W=>{W.enable(Object.assign(Object.assign({},x),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},x),{skipPristineCheck:T})),this._onDisabledChange.forEach(W=>W(!1))}_updateAncestors(x){this._parent&&!x.onlySelf&&(this._parent.updateValueAndValidity(x),x.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(x){this._parent=x}updateValueAndValidity(x={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mi||this.status===rn)&&this._runAsyncValidator(x.emitEvent)),!1!==x.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!x.onlySelf&&this._parent.updateValueAndValidity(x)}_updateTreeValidity(x={emitEvent:!0}){this._forEachChild(T=>T._updateTreeValidity(x)),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rr:mi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(x){if(this.asyncValidator){this.status=rn,this._hasOwnPendingAsyncValidator=!0;const T=Rt(this.asyncValidator(this));this._asyncValidationSubscription=T.subscribe(W=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(W,{emitEvent:x})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(x,T={}){this.errors=x,this._updateControlsErrors(!1!==T.emitEvent)}get(x){return function(O,x,T){if(null==x||(Array.isArray(x)||(x=x.split(".")),Array.isArray(x)&&0===x.length))return null;let W=O;return x.forEach(qe=>{W=W instanceof ni?W.controls.hasOwnProperty(qe)?W.controls[qe]:null:W instanceof Lr&&W.at(qe)||null}),W}(this,x)}getError(x,T){const W=T?this.get(T):this;return W&&W.errors?W.errors[x]:null}hasError(x,T){return!!this.getError(x,T)}get root(){let x=this;for(;x._parent;)x=x._parent;return x}_updateControlsErrors(x){this.status=this._calculateStatus(),x&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(x)}_initObservables(){this.valueChanges=new y.vpe,this.statusChanges=new y.vpe}_calculateStatus(){return this._allControlsDisabled()?Rr:this.errors?Ir:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rn)?rn:this._anyControlsHaveStatus(Ir)?Ir:mi}_anyControlsHaveStatus(x){return this._anyControls(T=>T.status===x)}_anyControlsDirty(){return this._anyControls(x=>x.dirty)}_anyControlsTouched(){return this._anyControls(x=>x.touched)}_updatePristine(x={}){this.pristine=!this._anyControlsDirty(),this._parent&&!x.onlySelf&&this._parent._updatePristine(x)}_updateTouched(x={}){this.touched=this._anyControlsTouched(),this._parent&&!x.onlySelf&&this._parent._updateTouched(x)}_isBoxedValue(x){return"object"==typeof x&&null!==x&&2===Object.keys(x).length&&"value"in x&&"disabled"in x}_registerOnCollectionChange(x){this._onCollectionChange=x}_setUpdateStrategy(x){or(x)&&null!=x.updateOn&&(this._updateOn=x.updateOn)}_parentMarkedDirty(x){return!x&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Or extends An{constructor(x=null,T,W){super(Mr(T),Zi(W,T)),this._onChange=[],this._applyFormState(x),this._setUpdateStrategy(T),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(x,T={}){this.value=this._pendingValue=x,this._onChange.length&&!1!==T.emitModelToViewChange&&this._onChange.forEach(W=>W(this.value,!1!==T.emitViewToModelChange)),this.updateValueAndValidity(T)}patchValue(x,T={}){this.setValue(x,T)}reset(x=null,T={}){this._applyFormState(x),this.markAsPristine(T),this.markAsUntouched(T),this.setValue(this.value,T),this._pendingChange=!1}_updateValue(){}_anyControls(x){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(x){this._onChange.push(x)}_unregisterOnChange(x){Ei(this._onChange,x)}registerOnDisabledChange(x){this._onDisabledChange.push(x)}_unregisterOnDisabledChange(x){Ei(this._onDisabledChange,x)}_forEachChild(x){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(x){this._isBoxedValue(x)?(this.value=this._pendingValue=x.value,x.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=x}}class ni extends An{constructor(x,T,W){super(Mr(T),Zi(W,T)),this.controls=x,this._initObservables(),this._setUpdateStrategy(T),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(x,T){return this.controls[x]?this.controls[x]:(this.controls[x]=T,T.setParent(this),T._registerOnCollectionChange(this._onCollectionChange),T)}addControl(x,T,W={}){this.registerControl(x,T),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}removeControl(x,T={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],this.updateValueAndValidity({emitEvent:T.emitEvent}),this._onCollectionChange()}setControl(x,T,W={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],T&&this.registerControl(x,T),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}contains(x){return this.controls.hasOwnProperty(x)&&this.controls[x].enabled}setValue(x,T={}){this._checkAllValuesPresent(x),Object.keys(x).forEach(W=>{this._throwIfControlMissing(W),this.controls[W].setValue(x[W],{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T)}patchValue(x,T={}){null!=x&&(Object.keys(x).forEach(W=>{this.controls[W]&&this.controls[W].patchValue(x[W],{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T))}reset(x={},T={}){this._forEachChild((W,qe)=>{W.reset(x[qe],{onlySelf:!0,emitEvent:T.emitEvent})}),this._updatePristine(T),this._updateTouched(T),this.updateValueAndValidity(T)}getRawValue(){return this._reduceChildren({},(x,T,W)=>(x[W]=T instanceof Or?T.value:T.getRawValue(),x))}_syncPendingControls(){let x=this._reduceChildren(!1,(T,W)=>!!W._syncPendingControls()||T);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_throwIfControlMissing(x){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[x])throw new Error(`Cannot find form control with name: ${x}.`)}_forEachChild(x){Object.keys(this.controls).forEach(T=>{const W=this.controls[T];W&&x(W,T)})}_setUpControls(){this._forEachChild(x=>{x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(x){for(const T of Object.keys(this.controls)){const W=this.controls[T];if(this.contains(T)&&x(W))return!0}return!1}_reduceValue(){return this._reduceChildren({},(x,T,W)=>((T.enabled||this.disabled)&&(x[W]=T.value),x))}_reduceChildren(x,T){let W=x;return this._forEachChild((qe,ft)=>{W=T(W,qe,ft)}),W}_allControlsDisabled(){for(const x of Object.keys(this.controls))if(this.controls[x].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(x){this._forEachChild((T,W)=>{if(void 0===x[W])throw new Error(`Must supply a value for form control with name: '${W}'.`)})}}class Lr extends An{constructor(x,T,W){super(Mr(T),Zi(W,T)),this.controls=x,this._initObservables(),this._setUpdateStrategy(T),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(x){return this.controls[x]}push(x,T={}){this.controls.push(x),this._registerControl(x),this.updateValueAndValidity({emitEvent:T.emitEvent}),this._onCollectionChange()}insert(x,T,W={}){this.controls.splice(x,0,T),this._registerControl(T),this.updateValueAndValidity({emitEvent:W.emitEvent})}removeAt(x,T={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),this.controls.splice(x,1),this.updateValueAndValidity({emitEvent:T.emitEvent})}setControl(x,T,W={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),this.controls.splice(x,1),T&&(this.controls.splice(x,0,T),this._registerControl(T)),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(x,T={}){this._checkAllValuesPresent(x),x.forEach((W,qe)=>{this._throwIfControlMissing(qe),this.at(qe).setValue(W,{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T)}patchValue(x,T={}){null!=x&&(x.forEach((W,qe)=>{this.at(qe)&&this.at(qe).patchValue(W,{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T))}reset(x=[],T={}){this._forEachChild((W,qe)=>{W.reset(x[qe],{onlySelf:!0,emitEvent:T.emitEvent})}),this._updatePristine(T),this._updateTouched(T),this.updateValueAndValidity(T)}getRawValue(){return this.controls.map(x=>x instanceof Or?x.value:x.getRawValue())}clear(x={}){this.controls.length<1||(this._forEachChild(T=>T._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:x.emitEvent}))}_syncPendingControls(){let x=this.controls.reduce((T,W)=>!!W._syncPendingControls()||T,!1);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_throwIfControlMissing(x){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(x))throw new Error(`Cannot find form control at index ${x}`)}_forEachChild(x){this.controls.forEach((T,W)=>{x(T,W)})}_updateValue(){this.value=this.controls.filter(x=>x.enabled||this.disabled).map(x=>x.value)}_anyControls(x){return this.controls.some(T=>T.enabled&&x(T))}_setUpControls(){this._forEachChild(x=>this._registerControl(x))}_checkAllValuesPresent(x){this._forEachChild((T,W)=>{if(void 0===x[W])throw new Error(`Must supply a value for form control at index: ${W}.`)})}_allControlsDisabled(){for(const x of this.controls)if(x.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(x){x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)}}let rr=(()=>{class O{}return O.\u0275fac=function(T){return new(T||O)},O.\u0275dir=y.lG2({type:O,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),O})();const Xe={provide:be,useExisting:(0,y.Gpc)(()=>Ke),multi:!0};let Ke=(()=>{class O extends ee{writeValue(T){this.setProperty("value",null==T?"":T)}registerOnChange(T){this.onChange=W=>{T(""==W?null:parseFloat(W))}}}return O.\u0275fac=function(){let x;return function(W){return(x||(x=y.n5z(O)))(W||O)}}(),O.\u0275dir=y.lG2({type:O,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(T,W){1&T&&y.NdJ("input",function(ft){return W.onChange(ft.target.value)})("blur",function(){return W.onTouched()})},features:[y._Bn([Xe]),y.qOj]}),O})(),ne=(()=>{class O{}return O.\u0275fac=function(T){return new(T||O)},O.\u0275mod=y.oAB({type:O}),O.\u0275inj=y.cJS({}),O})();const Bn=new y.OlP("NgModelWithFormControlWarning"),ls={provide:kt,useExisting:(0,y.Gpc)(()=>Kr)};let Kr=(()=>{class O extends kt{constructor(T,W){super(),this.validators=T,this.asyncValidators=W,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new y.vpe,this._setValidators(T),this._setAsyncValidators(W)}ngOnChanges(T){this._checkFormPresent(),T.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(T){const W=this.form.get(T.path);return ve(W,T),W.updateValueAndValidity({emitEvent:!1}),this.directives.push(T),W}getControl(T){return this.form.get(T.path)}removeControl(T){Se(T.control||null,T,!1),Ei(this.directives,T)}addFormGroup(T){this._setUpFormContainer(T)}removeFormGroup(T){this._cleanUpFormContainer(T)}getFormGroup(T){return this.form.get(T.path)}addFormArray(T){this._setUpFormContainer(T)}removeFormArray(T){this._cleanUpFormContainer(T)}getFormArray(T){return this.form.get(T.path)}updateModel(T,W){this.form.get(T.path).setValue(W)}onSubmit(T){return this.submitted=!0,function(O,x){O._syncPendingControls(),x.forEach(T=>{const W=T.control;"submit"===W.updateOn&&W._pendingChange&&(T.viewToModelUpdate(W._pendingValue),W._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(T),!1}onReset(){this.resetForm()}resetForm(T){this.form.reset(T),this.submitted=!1}_updateDomValue(){this.directives.forEach(T=>{const W=T.control,qe=this.form.get(T.path);W!==qe&&(Se(W||null,T),qe instanceof Or&&(ve(qe,T),T.control=qe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(T){const W=this.form.get(T.path);(function(O,x){He(O,x)})(W,T),W.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(T){if(this.form){const W=this.form.get(T.path);W&&function(O,x){return yt(O,x)}(W,T)&&W.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){He(this.form,this),this._oldForm&&yt(this._oldForm,this)}_checkFormPresent(){}}return O.\u0275fac=function(T){return new(T||O)(y.Y36($e,10),y.Y36(dt,10))},O.\u0275dir=y.lG2({type:O,selectors:[["","formGroup",""]],hostBindings:function(T,W){1&T&&y.NdJ("submit",function(ft){return W.onSubmit(ft)})("reset",function(){return W.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y._Bn([ls]),y.qOj,y.TTD]}),O})();const yi={provide:wn,useExisting:(0,y.Gpc)(()=>rs)};let rs=(()=>{class O extends wn{constructor(T,W,qe,ft,un){super(),this._ngModelWarningConfig=un,this._added=!1,this.update=new y.vpe,this._ngModelWarningSent=!1,this._parent=T,this._setValidators(W),this._setAsyncValidators(qe),this.valueAccessor=function(O,x){if(!x)return null;let T,W,qe;return Array.isArray(x),x.forEach(ft=>{ft.constructor===le?T=ft:function(O){return Object.getPrototypeOf(O.constructor)===ee}(ft)?W=ft:qe=ft}),qe||W||T||null}(0,ft)}set isDisabled(T){}ngOnChanges(T){this._added||this._setUpControl(),function(O,x){if(!O.hasOwnProperty("model"))return!1;const T=O.model;return!!T.isFirstChange()||!Object.is(x,T.currentValue)}(T,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(T){this.viewModel=T,this.update.emit(T)}get path(){return function(O,x){return[...x.path,O]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return O.\u0275fac=function(T){return new(T||O)(y.Y36(kt,13),y.Y36($e,10),y.Y36(dt,10),y.Y36(be,10),y.Y36(Bn,8))},O.\u0275dir=y.lG2({type:O,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[y._Bn([yi]),y.qOj,y.TTD]}),O._ngModelWarningSentOnce=!1,O})();const Zs={provide:be,useExisting:(0,y.Gpc)(()=>_i),multi:!0};function li(O,x){return null==O?`${x}`:(x&&"object"==typeof x&&(x="Object"),`${O}: ${x}`.slice(0,50))}let _i=(()=>{class O extends ee{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(T){this._compareWith=T}writeValue(T){this.value=T;const W=this._getOptionId(T);null==W&&this.setProperty("selectedIndex",-1);const qe=li(W,T);this.setProperty("value",qe)}registerOnChange(T){this.onChange=W=>{this.value=this._getOptionValue(W),T(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(T){for(const W of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(W),T))return W;return null}_getOptionValue(T){const W=function(O){return O.split(":")[0]}(T);return this._optionMap.has(W)?this._optionMap.get(W):T}}return O.\u0275fac=function(){let x;return function(W){return(x||(x=y.n5z(O)))(W||O)}}(),O.\u0275dir=y.lG2({type:O,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(T,W){1&T&&y.NdJ("change",function(ft){return W.onChange(ft.target.value)})("blur",function(){return W.onTouched()})},inputs:{compareWith:"compareWith"},features:[y._Bn([Zs]),y.qOj]}),O})(),cs=(()=>{class O{constructor(T,W,qe){this._element=T,this._renderer=W,this._select=qe,this._select&&(this.id=this._select._registerOption())}set ngValue(T){null!=this._select&&(this._select._optionMap.set(this.id,T),this._setElementValue(li(this.id,T)),this._select.writeValue(this._select.value))}set value(T){this._setElementValue(T),this._select&&this._select.writeValue(this._select.value)}_setElementValue(T){this._renderer.setProperty(this._element.nativeElement,"value",T)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return O.\u0275fac=function(T){return new(T||O)(y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(_i,9))},O.\u0275dir=y.lG2({type:O,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),O})();const ao={provide:be,useExisting:(0,y.Gpc)(()=>Ii),multi:!0};function Wr(O,x){return null==O?`${x}`:("string"==typeof x&&(x=`'${x}'`),x&&"object"==typeof x&&(x="Object"),`${O}: ${x}`.slice(0,50))}let Ii=(()=>{class O extends ee{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(T){this._compareWith=T}writeValue(T){let W;if(this.value=T,Array.isArray(T)){const qe=T.map(ft=>this._getOptionId(ft));W=(ft,un)=>{ft._setSelected(qe.indexOf(un.toString())>-1)}}else W=(qe,ft)=>{qe._setSelected(!1)};this._optionMap.forEach(W)}registerOnChange(T){this.onChange=W=>{const qe=[];if(void 0!==W.selectedOptions){const ft=W.selectedOptions;for(let un=0;un<ft.length;un++){const yr=ft.item(un),Jr=this._getOptionValue(yr.value);qe.push(Jr)}}else{const ft=W.options;for(let un=0;un<ft.length;un++){const yr=ft.item(un);if(yr.selected){const Jr=this._getOptionValue(yr.value);qe.push(Jr)}}}this.value=qe,T(qe)}}_registerOption(T){const W=(this._idCounter++).toString();return this._optionMap.set(W,T),W}_getOptionId(T){for(const W of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(W)._value,T))return W;return null}_getOptionValue(T){const W=function(O){return O.split(":")[0]}(T);return this._optionMap.has(W)?this._optionMap.get(W)._value:T}}return O.\u0275fac=function(){let x;return function(W){return(x||(x=y.n5z(O)))(W||O)}}(),O.\u0275dir=y.lG2({type:O,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(T,W){1&T&&y.NdJ("change",function(ft){return W.onChange(ft.target)})("blur",function(){return W.onTouched()})},inputs:{compareWith:"compareWith"},features:[y._Bn([ao]),y.qOj]}),O})(),Wi=(()=>{class O{constructor(T,W,qe){this._element=T,this._renderer=W,this._select=qe,this._select&&(this.id=this._select._registerOption(this))}set ngValue(T){null!=this._select&&(this._value=T,this._setElementValue(Wr(this.id,T)),this._select.writeValue(this._select.value))}set value(T){this._select?(this._value=T,this._setElementValue(Wr(this.id,T)),this._select.writeValue(this._select.value)):this._setElementValue(T)}_setElementValue(T){this._renderer.setProperty(this._element.nativeElement,"value",T)}_setSelected(T){this._renderer.setProperty(this._element.nativeElement,"selected",T)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return O.\u0275fac=function(T){return new(T||O)(y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(Ii,9))},O.\u0275dir=y.lG2({type:O,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),O})(),K=(()=>{class O{}return O.\u0275fac=function(T){return new(T||O)},O.\u0275mod=y.oAB({type:O}),O.\u0275inj=y.cJS({imports:[[ne]]}),O})(),L=(()=>{class O{}return O.\u0275fac=function(T){return new(T||O)},O.\u0275mod=y.oAB({type:O}),O.\u0275inj=y.cJS({imports:[K]}),O})(),te=(()=>{class O{static withConfig(T){return{ngModule:O,providers:[{provide:Bn,useValue:T.warnOnNgModelWithFormControl}]}}}return O.\u0275fac=function(T){return new(T||O)},O.\u0275mod=y.oAB({type:O}),O.\u0275inj=y.cJS({imports:[K]}),O})(),ot=(()=>{class O{group(T,W=null){const qe=this._reduceControls(T);let yr,ft=null,un=null;return null!=W&&(function(O){return void 0!==O.asyncValidators||void 0!==O.validators||void 0!==O.updateOn}(W)?(ft=null!=W.validators?W.validators:null,un=null!=W.asyncValidators?W.asyncValidators:null,yr=null!=W.updateOn?W.updateOn:void 0):(ft=null!=W.validator?W.validator:null,un=null!=W.asyncValidator?W.asyncValidator:null)),new ni(qe,{asyncValidators:un,updateOn:yr,validators:ft})}control(T,W,qe){return new Or(T,W,qe)}array(T,W,qe){const ft=T.map(un=>this._createControl(un));return new Lr(ft,W,qe)}_reduceControls(T){const W={};return Object.keys(T).forEach(qe=>{W[qe]=this._createControl(T[qe])}),W}_createControl(T){return T instanceof Or||T instanceof ni||T instanceof Lr?T:Array.isArray(T)?this.control(T[0],T.length>1?T[1]:null,T.length>2?T[2]:null):this.control(T)}}return O.\u0275fac=function(T){return new(T||O)},O.\u0275prov=(0,y.Yz7)({factory:function(){return new O},token:O,providedIn:te}),O})()},7353:(Pt,Le,j)=>{"use strict";j.d(Le,{F0:()=>ar,rH:()=>Zo,yS:()=>na,Bz:()=>Iu,lC:()=>yo});var y=j(8583),S=j(639),J=j(4869),Ae=j(6693),A=j(4087);function Ie(...C){let v=C[C.length-1];return(0,J.K)(v)?(C.pop(),(0,A.r)(C,v)):(0,Ae.n)(C)}var ke=j(7709),Qe=j(7971);class fe extends ke.xQ{constructor(v){super(),this._value=v}get value(){return this.getValue()}_subscribe(v){const m=super._subscribe(v);return m&&!m.closed&&v.next(this._value),m}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Qe.N;return this._value}next(v){super.next(this._value=v)}}var Y=j(9796),ee=j(7393);class be extends ee.L{notifyNext(v,m,R,V,X){this.destination.next(m)}notifyError(v,m){this.destination.error(v)}notifyComplete(v){this.destination.complete()}}class ze extends ee.L{constructor(v,m,R){super(),this.parent=v,this.outerValue=m,this.outerIndex=R,this.index=0}_next(v){this.parent.notifyNext(this.outerValue,v,this.outerIndex,this.index++,this)}_error(v){this.parent.notifyError(v,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Fe=j(7444),nt=j(7574);function Oe(C,v,m,R,V=new ze(C,m,R)){if(!V.closed)return v instanceof nt.y?v.subscribe(V):(0,Fe.s)(v)(V)}const Ve={};class Be{constructor(v){this.resultSelector=v}call(v,m){return m.subscribe(new Me(v,this.resultSelector))}}class Me extends be{constructor(v,m){super(v),this.resultSelector=m,this.active=0,this.values=[],this.observables=[]}_next(v){this.values.push(Ve),this.observables.push(v)}_complete(){const v=this.observables,m=v.length;if(0===m)this.destination.complete();else{this.active=m,this.toRespond=m;for(let R=0;R<m;R++)this.add(Oe(this,v[R],void 0,R))}}notifyComplete(v){0==(this.active-=1)&&this.destination.complete()}notifyNext(v,m,R){const V=this.values,_e=this.toRespond?V[R]===Ve?--this.toRespond:this.toRespond:0;V[R]=m,0===_e&&(this.resultSelector?this._tryResultSelector(V):this.destination.next(V.slice()))}_tryResultSelector(v){let m;try{m=this.resultSelector.apply(this,v)}catch(R){return void this.destination.error(R)}this.destination.next(m)}}const dt=(()=>{function C(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return C.prototype=Object.create(Error.prototype),C})();var it=j(3282);function Ot(...C){return(0,it.J)(1)(Ie(...C))}var ie=j(4402);const ue=new nt.y(C=>C.complete());function me(C){return C?function(C){return new nt.y(v=>C.schedule(()=>v.complete()))}(C):ue}function he(C){return new nt.y(v=>{let m;try{m=C()}catch(V){return void v.error(V)}return(m?(0,ie.D)(m):me()).subscribe(v)})}var Ze=j(2441),pe=j(8002),Ge=j(5345);function Ht(C,v){return"function"==typeof v?m=>m.pipe(Ht((R,V)=>(0,ie.D)(C(R,V)).pipe((0,pe.U)((X,_e)=>v(R,X,V,_e))))):m=>m.lift(new Rt(C))}class Rt{constructor(v){this.project=v}call(v,m){return m.subscribe(new It(v,this.project))}}class It extends Ge.Ds{constructor(v,m){super(v),this.project=m,this.index=0}_next(v){let m;const R=this.index++;try{m=this.project(v,R)}catch(V){return void this.destination.error(V)}this._innerSub(m)}_innerSub(v){const m=this.innerSubscription;m&&m.unsubscribe();const R=new Ge.IY(this),V=this.destination;V.add(R),this.innerSubscription=(0,Ge.ft)(v,R),this.innerSubscription!==R&&V.add(this.innerSubscription)}_complete(){const{innerSubscription:v}=this;(!v||v.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(v){this.destination.next(v)}}const xn=(()=>{function C(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return C.prototype=Object.create(Error.prototype),C})();function Xt(C){return v=>0===C?me():v.lift(new jn(C))}class jn{constructor(v){if(this.total=v,this.total<0)throw new xn}call(v,m){return m.subscribe(new sr(v,this.total))}}class sr extends ee.L{constructor(v,m){super(v),this.total=m,this.count=0}_next(v){const m=this.total,R=++this.count;R<=m&&(this.destination.next(v),R===m&&(this.destination.complete(),this.unsubscribe()))}}function Vn(C,v){let m=!1;return arguments.length>=2&&(m=!0),function(V){return V.lift(new nn(C,v,m))}}class nn{constructor(v,m,R=!1){this.accumulator=v,this.seed=m,this.hasSeed=R}call(v,m){return m.subscribe(new Mn(v,this.accumulator,this.seed,this.hasSeed))}}class Mn extends ee.L{constructor(v,m,R,V){super(v),this.accumulator=m,this._seed=R,this.hasSeed=V,this.index=0}get seed(){return this._seed}set seed(v){this.hasSeed=!0,this._seed=v}_next(v){if(this.hasSeed)return this._tryNext(v);this.seed=v,this.destination.next(v)}_tryNext(v){const m=this.index++;let R;try{R=this.accumulator(this.seed,v,m)}catch(V){this.destination.error(V)}this.seed=R,this.destination.next(R)}}function qt(C,v){return function(R){return R.lift(new Ar(C,v))}}class Ar{constructor(v,m){this.predicate=v,this.thisArg=m}call(v,m){return m.subscribe(new nr(v,this.predicate,this.thisArg))}}class nr extends ee.L{constructor(v,m,R){super(v),this.predicate=m,this.thisArg=R,this.count=0}_next(v){let m;try{m=this.predicate.call(this.thisArg,v,this.count++)}catch(R){return void this.destination.error(R)}m&&this.destination.next(v)}}function Er(C){return function(m){const R=new qn(C),V=m.lift(R);return R.caught=V}}class qn{constructor(v){this.selector=v}call(v,m){return m.subscribe(new Fr(v,this.selector,this.caught))}}class Fr extends Ge.Ds{constructor(v,m,R){super(v),this.selector=m,this.caught=R}error(v){if(!this.isStopped){let m;try{m=this.selector(v,this.caught)}catch(X){return void super.error(X)}this._unsubscribeAndRecycle();const R=new Ge.IY(this);this.add(R);const V=(0,Ge.ft)(m,R);V!==R&&this.add(V)}}}var kt=j(9773);function wn(C,v){return(0,kt.zg)(C,v,1)}function Wn(C){return function(m){return 0===C?me():m.lift(new Jn(C))}}class Jn{constructor(v){if(this.total=v,this.total<0)throw new xn}call(v,m){return m.subscribe(new Tt(v,this.total))}}class Tt extends ee.L{constructor(v,m){super(v),this.total=m,this.ring=new Array,this.count=0}_next(v){const m=this.ring,R=this.total,V=this.count++;m.length<R?m.push(v):m[V%R]=v}_complete(){const v=this.destination;let m=this.count;if(m>0){const R=this.count>=this.total?this.total:this.count,V=this.ring;for(let X=0;X<R;X++){const _e=m++%R;v.next(V[_e])}}v.complete()}}function vt(C=Ut){return v=>v.lift(new Je(C))}class Je{constructor(v){this.errorFactory=v}call(v,m){return m.subscribe(new tt(v,this.errorFactory))}}class tt extends ee.L{constructor(v,m){super(v),this.errorFactory=m,this.hasValue=!1}_next(v){this.hasValue=!0,this.destination.next(v)}_complete(){if(this.hasValue)return this.destination.complete();{let v;try{v=this.errorFactory()}catch(m){v=m}this.destination.error(v)}}}function Ut(){return new dt}function jt(C=null){return v=>v.lift(new wt(C))}class wt{constructor(v){this.defaultValue=v}call(v,m){return m.subscribe(new pn(v,this.defaultValue))}}class pn extends ee.L{constructor(v,m){super(v),this.defaultValue=m,this.isEmpty=!0}_next(v){this.isEmpty=!1,this.destination.next(v)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Mt=j(4487);function Kn(C,v){const m=arguments.length>=2;return R=>R.pipe(C?qt((V,X)=>C(V,X,R)):Mt.y,Xt(1),m?jt(v):vt(()=>new dt))}function vr(){}var Xn=j(9105);function En(C,v,m){return function(V){return V.lift(new Cr(C,v,m))}}class Cr{constructor(v,m,R){this.nextOrObserver=v,this.error=m,this.complete=R}call(v,m){return m.subscribe(new hr(v,this.nextOrObserver,this.error,this.complete))}}class hr extends ee.L{constructor(v,m,R,V){super(v),this._tapNext=vr,this._tapError=vr,this._tapComplete=vr,this._tapError=R||vr,this._tapComplete=V||vr,(0,Xn.m)(m)?(this._context=this,this._tapNext=m):m&&(this._context=m,this._tapNext=m.next||vr,this._tapError=m.error||vr,this._tapComplete=m.complete||vr)}_next(v){try{this._tapNext.call(this._context,v)}catch(m){return void this.destination.error(m)}this.destination.next(v)}_error(v){try{this._tapError.call(this._context,v)}catch(m){return void this.destination.error(m)}this.destination.error(v)}_complete(){try{this._tapComplete.call(this._context)}catch(v){return void this.destination.error(v)}return this.destination.complete()}}var ve=j(5319);class Re{constructor(v){this.callback=v}call(v,m){return m.subscribe(new ut(v,this.callback))}}class ut extends ee.L{constructor(v,m){super(v),this.add(new ve.w(m))}}var He=j(1307);class yt{constructor(v,m){this.id=v,this.url=m}}class en extends yt{constructor(v,m,R="imperative",V=null){super(v,m),this.navigationTrigger=R,this.restoredState=V}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zn extends yt{constructor(v,m,R){super(v,m),this.urlAfterRedirects=R}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Un extends yt{constructor(v,m,R){super(v,m),this.reason=R}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dn extends yt{constructor(v,m,R){super(v,m),this.error=R}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Br extends yt{constructor(v,m,R,V){super(v,m),this.urlAfterRedirects=R,this.state=V}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kn extends yt{constructor(v,m,R,V){super(v,m),this.urlAfterRedirects=R,this.state=V}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jr extends yt{constructor(v,m,R,V,X){super(v,m),this.urlAfterRedirects=R,this.state=V,this.shouldActivate=X}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Rn extends yt{constructor(v,m,R,V){super(v,m),this.urlAfterRedirects=R,this.state=V}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oi extends yt{constructor(v,m,R,V){super(v,m),this.urlAfterRedirects=R,this.state=V}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hn{constructor(v){this.route=v}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ti{constructor(v){this.route=v}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zi{constructor(v){this.snapshot=v}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ei{constructor(v){this.snapshot=v}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ci{constructor(v){this.snapshot=v}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mi{constructor(v){this.snapshot=v}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ir{constructor(v,m,R){this.routerEvent=v,this.position=m,this.anchor=R}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const rn="primary";class Rr{constructor(v){this.params=v||{}}has(v){return Object.prototype.hasOwnProperty.call(this.params,v)}get(v){if(this.has(v)){const m=this.params[v];return Array.isArray(m)?m[0]:m}return null}getAll(v){if(this.has(v)){const m=this.params[v];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function Zr(C){return new Rr(C)}const Mr="ngNavigationCancelingError";function ns(C){const v=Error("NavigationCancelingError: "+C);return v[Mr]=!0,v}function Pr(C,v,m){const R=m.path.split("/");if(R.length>C.length||"full"===m.pathMatch&&(v.hasChildren()||R.length<C.length))return null;const V={};for(let X=0;X<R.length;X++){const _e=R[X],Te=C[X];if(_e.startsWith(":"))V[_e.substring(1)]=Te;else if(_e!==Te.path)return null}return{consumed:C.slice(0,R.length),posParams:V}}function An(C,v){const m=C?Object.keys(C):void 0,R=v?Object.keys(v):void 0;if(!m||!R||m.length!=R.length)return!1;let V;for(let X=0;X<m.length;X++)if(V=m[X],!Or(C[V],v[V]))return!1;return!0}function Or(C,v){if(Array.isArray(C)&&Array.isArray(v)){if(C.length!==v.length)return!1;const m=[...C].sort(),R=[...v].sort();return m.every((V,X)=>R[X]===V)}return C===v}function ni(C){return Array.prototype.concat.apply([],C)}function Lr(C){return C.length>0?C[C.length-1]:null}function on(C,v){for(const m in C)C.hasOwnProperty(m)&&v(C[m],m)}function an(C){return(0,S.CqO)(C)?C:(0,S.QGY)(C)?(0,ie.D)(Promise.resolve(C)):Ie(C)}const Yr={exact:function Qr(C,v,m){if(!Ke(C.segments,v.segments)||!ui(C.segments,v.segments,m)||C.numberOfChildren!==v.numberOfChildren)return!1;for(const R in v.children)if(!C.children[R]||!Qr(C.children[R],v.children[R],m))return!1;return!0},subset:vn},Ln={exact:function(C,v){return An(C,v)},subset:function(C,v){return Object.keys(v).length<=Object.keys(C).length&&Object.keys(v).every(m=>Or(C[m],v[m]))},ignored:()=>!0};function ji(C,v,m){return Yr[m.paths](C.root,v.root,m.matrixParams)&&Ln[m.queryParams](C.queryParams,v.queryParams)&&!("exact"===m.fragment&&C.fragment!==v.fragment)}function vn(C,v,m){return ai(C,v,v.segments,m)}function ai(C,v,m,R){if(C.segments.length>m.length){const V=C.segments.slice(0,m.length);return!(!Ke(V,m)||v.hasChildren()||!ui(V,m,R))}if(C.segments.length===m.length){if(!Ke(C.segments,m)||!ui(C.segments,m,R))return!1;for(const V in v.children)if(!C.children[V]||!vn(C.children[V],v.children[V],R))return!1;return!0}{const V=m.slice(0,C.segments.length),X=m.slice(C.segments.length);return!!(Ke(C.segments,V)&&ui(C.segments,V,R)&&C.children[rn])&&ai(C.children[rn],v,X,R)}}function ui(C,v,m){return v.every((R,V)=>Ln[m](C[V].parameters,R.parameters))}class $r{constructor(v,m,R){this.root=v,this.queryParams=m,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zr(this.queryParams)),this._queryParamMap}toString(){return Pe.serialize(this)}}class mn{constructor(v,m){this.segments=v,this.children=m,this.parent=null,on(m,(R,V)=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rt(this)}}class rr{constructor(v,m){this.path=v,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=Zr(this.parameters)),this._parameterMap}toString(){return Zn(this)}}function Ke(C,v){return C.length===v.length&&C.every((m,R)=>m.path===v[R].path)}class oe{}class ne{parse(v){const m=new oo(v);return new $r(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(v){var C;return`${`/${St(v.root,!0)}`}${function(C){const v=Object.keys(C).map(m=>{const R=C[m];return Array.isArray(R)?R.map(V=>`${Bn(m)}=${Bn(V)}`).join("&"):`${Bn(m)}=${Bn(R)}`}).filter(m=>!!m);return v.length?`?${v.join("&")}`:""}(v.queryParams)}${"string"==typeof v.fragment?`#${C=v.fragment,encodeURI(C)}`:""}`}}const Pe=new ne;function rt(C){return C.segments.map(v=>Zn(v)).join("/")}function St(C,v){if(!C.hasChildren())return rt(C);if(v){const m=C.children[rn]?St(C.children[rn],!1):"",R=[];return on(C.children,(V,X)=>{X!==rn&&R.push(`${X}:${St(V,!1)}`)}),R.length>0?`${m}(${R.join("//")})`:m}{const m=function(C,v){let m=[];return on(C.children,(R,V)=>{V===rn&&(m=m.concat(v(R,V)))}),on(C.children,(R,V)=>{V!==rn&&(m=m.concat(v(R,V)))}),m}(C,(R,V)=>V===rn?[St(C.children[rn],!1)]:[`${V}:${St(R,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[rn]?`${rt(C)}/${m[0]}`:`${rt(C)}/(${m.join("//")})`}}function Qt(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bn(C){return Qt(C).replace(/%3B/gi,";")}function Tn(C){return Qt(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ls(C){return decodeURIComponent(C)}function Kr(C){return ls(C.replace(/\+/g,"%20"))}function Zn(C){return`${Tn(C.path)}${function(C){return Object.keys(C).map(v=>`;${Tn(v)}=${Tn(C[v])}`).join("")}(C.parameters)}`}const Oi=/^[^\/()?;=#]+/;function Nr(C){const v=C.match(Oi);return v?v[0]:""}const yi=/^[^=?&#]+/,Zs=/^[^?&#]+/;class oo{constructor(v){this.url=v,this.remaining=v}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mn([],{}):new mn([],this.parseChildren())}parseQueryParams(){const v={};if(this.consumeOptional("?"))do{this.parseQueryParam(v)}while(this.consumeOptional("&"));return v}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const v=[];for(this.peekStartsWith("(")||v.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),v.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(v.length>0||Object.keys(m).length>0)&&(R[rn]=new mn(v,m)),R}parseSegment(){const v=Nr(this.remaining);if(""===v&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(v),new rr(ls(v),this.parseMatrixParams())}parseMatrixParams(){const v={};for(;this.consumeOptional(";");)this.parseParam(v);return v}parseParam(v){const m=Nr(this.remaining);if(!m)return;this.capture(m);let R="";if(this.consumeOptional("=")){const V=Nr(this.remaining);V&&(R=V,this.capture(R))}v[ls(m)]=ls(R)}parseQueryParam(v){const m=function(C){const v=C.match(yi);return v?v[0]:""}(this.remaining);if(!m)return;this.capture(m);let R="";if(this.consumeOptional("=")){const _e=function(C){const v=C.match(Zs);return v?v[0]:""}(this.remaining);_e&&(R=_e,this.capture(R))}const V=Kr(m),X=Kr(R);if(v.hasOwnProperty(V)){let _e=v[V];Array.isArray(_e)||(_e=[_e],v[V]=_e),_e.push(X)}else v[V]=X}parseParens(v){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=Nr(this.remaining),V=this.remaining[R.length];if("/"!==V&&")"!==V&&";"!==V)throw new Error(`Cannot parse url '${this.url}'`);let X;R.indexOf(":")>-1?(X=R.substr(0,R.indexOf(":")),this.capture(X),this.capture(":")):v&&(X=rn);const _e=this.parseChildren();m[X]=1===Object.keys(_e).length?_e[rn]:new mn([],_e),this.consumeOptional("//")}return m}peekStartsWith(v){return this.remaining.startsWith(v)}consumeOptional(v){return!!this.peekStartsWith(v)&&(this.remaining=this.remaining.substring(v.length),!0)}capture(v){if(!this.consumeOptional(v))throw new Error(`Expected "${v}".`)}}class _i{constructor(v){this._root=v}get root(){return this._root.value}parent(v){const m=this.pathFromRoot(v);return m.length>1?m[m.length-2]:null}children(v){const m=cs(v,this._root);return m?m.children.map(R=>R.value):[]}firstChild(v){const m=cs(v,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(v){const m=ao(v,this._root);return m.length<2?[]:m[m.length-2].children.map(V=>V.value).filter(V=>V!==v)}pathFromRoot(v){return ao(v,this._root).map(m=>m.value)}}function cs(C,v){if(C===v.value)return v;for(const m of v.children){const R=cs(C,m);if(R)return R}return null}function ao(C,v){if(C===v.value)return[v];for(const m of v.children){const R=ao(C,m);if(R.length)return R.unshift(v),R}return[]}class Wr{constructor(v,m){this.value=v,this.children=m}toString(){return`TreeNode(${this.value})`}}function Bs(C){const v={};return C&&C.children.forEach(m=>v[m.value.outlet]=m),v}class ys extends _i{constructor(v,m){super(v),this.snapshot=m,Hi(this,v)}toString(){return this.snapshot.toString()}}function Ii(C,v){const m=function(C,v){const _e=new Ki([],{},{},"",{},rn,v,null,C.root,-1,{});return new uo("",new Wr(_e,[]))}(C,v),R=new fe([new rr("",{})]),V=new fe({}),X=new fe({}),_e=new fe({}),Te=new fe(""),gt=new ci(R,V,_e,Te,X,rn,v,m.root);return gt.snapshot=m.root,new ys(new Wr(gt,[]),m)}class ci{constructor(v,m,R,V,X,_e,Te,gt){this.url=v,this.params=m,this.queryParams=R,this.fragment=V,this.data=X,this.outlet=_e,this.component=Te,this._futureSnapshot=gt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pe.U)(v=>Zr(v)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pe.U)(v=>Zr(v)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function is(C,v="emptyOnly"){const m=C.pathFromRoot;let R=0;if("always"!==v)for(R=m.length-1;R>=1;){const V=m[R],X=m[R-1];if(V.routeConfig&&""===V.routeConfig.path)R--;else{if(X.component)break;R--}}return function(C){return C.reduce((v,m)=>({params:Object.assign(Object.assign({},v.params),m.params),data:Object.assign(Object.assign({},v.data),m.data),resolve:Object.assign(Object.assign({},v.resolve),m._resolvedData)}),{params:{},data:{},resolve:{}})}(m.slice(R))}class Ki{constructor(v,m,R,V,X,_e,Te,gt,sn,br,bn){this.url=v,this.params=m,this.queryParams=R,this.fragment=V,this.data=X,this.outlet=_e,this.component=Te,this.routeConfig=gt,this._urlSegment=sn,this._lastPathIndex=br,this._resolve=bn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class uo extends _i{constructor(v,m){super(m),this.url=v,Hi(this,m)}toString(){return Hs(this._root)}}function Hi(C,v){v.value._routerState=C,v.children.forEach(m=>Hi(C,m))}function Hs(C){const v=C.children.length>0?` { ${C.children.map(Hs).join(", ")} } `:"";return`${C.value}${v}`}function Si(C){if(C.snapshot){const v=C.snapshot,m=C._futureSnapshot;C.snapshot=m,An(v.queryParams,m.queryParams)||C.queryParams.next(m.queryParams),v.fragment!==m.fragment&&C.fragment.next(m.fragment),An(v.params,m.params)||C.params.next(m.params),function(C,v){if(C.length!==v.length)return!1;for(let m=0;m<C.length;++m)if(!An(C[m],v[m]))return!1;return!0}(v.url,m.url)||C.url.next(m.url),An(v.data,m.data)||C.data.next(m.data)}else C.snapshot=C._futureSnapshot,C.data.next(C._futureSnapshot.data)}function di(C,v){return An(C.params,v.params)&&function(C,v){return Ke(C,v)&&C.every((m,R)=>An(m.parameters,v[R].parameters))}(C.url,v.url)&&!(!C.parent!=!v.parent)&&(!C.parent||di(C.parent,v.parent))}function hi(C,v,m){if(m&&C.shouldReuseRoute(v.value,m.value.snapshot)){const R=m.value;R._futureSnapshot=v.value;const V=function(C,v,m){return v.children.map(R=>{for(const V of m.children)if(C.shouldReuseRoute(R.value,V.value.snapshot))return hi(C,R,V);return hi(C,R)})}(C,v,m);return new Wr(R,V)}{if(C.shouldAttach(v.value)){const X=C.retrieve(v.value);if(null!==X){const _e=X.route;return ri(v,_e),_e}}const R=function(C){return new ci(new fe(C.url),new fe(C.params),new fe(C.queryParams),new fe(C.fragment),new fe(C.data),C.outlet,C.component,C)}(v.value),V=v.children.map(X=>hi(C,X));return new Wr(R,V)}}function ri(C,v){if(C.value.routeConfig!==v.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(C.children.length!==v.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");v.value._futureSnapshot=C.value;for(let m=0;m<C.children.length;++m)ri(C.children[m],v.children[m])}function Yi(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function Ni(C){return"object"==typeof C&&null!=C&&C.outlets}function ki(C,v,m,R,V){let X={};return R&&on(R,(_e,Te)=>{X[Te]=Array.isArray(_e)?_e.map(gt=>`${gt}`):`${_e}`}),new $r(m.root===C?v:hs(m.root,C,v),X,V)}function hs(C,v,m){const R={};return on(C.children,(V,X)=>{R[X]=V===v?m:hs(V,v,m)}),new mn(C.segments,R)}class bs{constructor(v,m,R){if(this.isAbsolute=v,this.numberOfDoubleDots=m,this.commands=R,v&&R.length>0&&Yi(R[0]))throw new Error("Root segment cannot have matrix parameters");const V=R.find(Ni);if(V&&V!==Lr(R))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class K{constructor(v,m,R){this.segmentGroup=v,this.processChildren=m,this.index=R}}function ot(C,v,m){if(C||(C=new mn([],{})),0===C.segments.length&&C.hasChildren())return _t(C,v,m);const R=function(C,v,m){let R=0,V=v;const X={match:!1,pathIndex:0,commandIndex:0};for(;V<C.segments.length;){if(R>=m.length)return X;const _e=C.segments[V],Te=m[R];if(Ni(Te))break;const gt=`${Te}`,sn=R<m.length-1?m[R+1]:null;if(V>0&&void 0===gt)break;if(gt&&sn&&"object"==typeof sn&&void 0===sn.outlets){if(!qe(gt,sn,_e))return X;R+=2}else{if(!qe(gt,{},_e))return X;R++}V++}return{match:!0,pathIndex:V,commandIndex:R}}(C,v,m),V=m.slice(R.commandIndex);if(R.match&&R.pathIndex<C.segments.length){const X=new mn(C.segments.slice(0,R.pathIndex),{});return X.children[rn]=new mn(C.segments.slice(R.pathIndex),C.children),_t(X,0,V)}return R.match&&0===V.length?new mn(C.segments,{}):R.match&&!C.hasChildren()?x(C,v,m):R.match?_t(C,0,V):x(C,v,m)}function _t(C,v,m){if(0===m.length)return new mn(C.segments,{});{const R=function(C){return Ni(C[0])?C[0].outlets:{[rn]:C}}(m),V={};return on(R,(X,_e)=>{"string"==typeof X&&(X=[X]),null!==X&&(V[_e]=ot(C.children[_e],v,X))}),on(C.children,(X,_e)=>{void 0===R[_e]&&(V[_e]=X)}),new mn(C.segments,V)}}function x(C,v,m){const R=C.segments.slice(0,v);let V=0;for(;V<m.length;){const X=m[V];if(Ni(X)){const gt=T(X.outlets);return new mn(R,gt)}if(0===V&&Yi(m[0])){R.push(new rr(C.segments[v].path,W(m[0]))),V++;continue}const _e=Ni(X)?X.outlets[rn]:`${X}`,Te=V<m.length-1?m[V+1]:null;_e&&Te&&Yi(Te)?(R.push(new rr(_e,W(Te))),V+=2):(R.push(new rr(_e,{})),V++)}return new mn(R,{})}function T(C){const v={};return on(C,(m,R)=>{"string"==typeof m&&(m=[m]),null!==m&&(v[R]=x(new mn([],{}),0,m))}),v}function W(C){const v={};return on(C,(m,R)=>v[R]=`${m}`),v}function qe(C,v,m){return C==m.path&&An(v,m.parameters)}class un{constructor(v,m,R,V){this.routeReuseStrategy=v,this.futureState=m,this.currState=R,this.forwardEvent=V}activate(v){const m=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,R,v),Si(this.futureState.root),this.activateChildRoutes(m,R,v)}deactivateChildRoutes(v,m,R){const V=Bs(m);v.children.forEach(X=>{const _e=X.value.outlet;this.deactivateRoutes(X,V[_e],R),delete V[_e]}),on(V,(X,_e)=>{this.deactivateRouteAndItsChildren(X,R)})}deactivateRoutes(v,m,R){const V=v.value,X=m?m.value:null;if(V===X)if(V.component){const _e=R.getContext(V.outlet);_e&&this.deactivateChildRoutes(v,m,_e.children)}else this.deactivateChildRoutes(v,m,R);else X&&this.deactivateRouteAndItsChildren(m,R)}deactivateRouteAndItsChildren(v,m){this.routeReuseStrategy.shouldDetach(v.value.snapshot)?this.detachAndStoreRouteSubtree(v,m):this.deactivateRouteAndOutlet(v,m)}detachAndStoreRouteSubtree(v,m){const R=m.getContext(v.value.outlet);if(R&&R.outlet){const V=R.outlet.detach(),X=R.children.onOutletDeactivated();this.routeReuseStrategy.store(v.value.snapshot,{componentRef:V,route:v,contexts:X})}}deactivateRouteAndOutlet(v,m){const R=m.getContext(v.value.outlet),V=R&&v.value.component?R.children:m,X=Bs(v);for(const _e of Object.keys(X))this.deactivateRouteAndItsChildren(X[_e],V);R&&R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated(),R.attachRef=null,R.resolver=null,R.route=null)}activateChildRoutes(v,m,R){const V=Bs(m);v.children.forEach(X=>{this.activateRoutes(X,V[X.value.outlet],R),this.forwardEvent(new mi(X.value.snapshot))}),v.children.length&&this.forwardEvent(new Ei(v.value.snapshot))}activateRoutes(v,m,R){const V=v.value,X=m?m.value:null;if(Si(V),V===X)if(V.component){const _e=R.getOrCreateContext(V.outlet);this.activateChildRoutes(v,m,_e.children)}else this.activateChildRoutes(v,m,R);else if(V.component){const _e=R.getOrCreateContext(V.outlet);if(this.routeReuseStrategy.shouldAttach(V.snapshot)){const Te=this.routeReuseStrategy.retrieve(V.snapshot);this.routeReuseStrategy.store(V.snapshot,null),_e.children.onOutletReAttached(Te.contexts),_e.attachRef=Te.componentRef,_e.route=Te.route.value,_e.outlet&&_e.outlet.attach(Te.componentRef,Te.route.value),yr(Te.route)}else{const Te=function(C){for(let v=C.parent;v;v=v.parent){const m=v.routeConfig;if(m&&m._loadedConfig)return m._loadedConfig;if(m&&m.component)return null}return null}(V.snapshot),gt=Te?Te.module.componentFactoryResolver:null;_e.attachRef=null,_e.route=V,_e.resolver=gt,_e.outlet&&_e.outlet.activateWith(V,gt),this.activateChildRoutes(v,null,_e.children)}}else this.activateChildRoutes(v,null,R)}}function yr(C){Si(C.value),C.children.forEach(yr)}class _r{constructor(v,m){this.routes=v,this.module=m}}function kr(C){return"function"==typeof C}function ii(C){return C instanceof $r}const Vr=Symbol("INITIAL_VALUE");function Ri(){return Ht(C=>function(...C){let v,m;return(0,J.K)(C[C.length-1])&&(m=C.pop()),"function"==typeof C[C.length-1]&&(v=C.pop()),1===C.length&&(0,Y.k)(C[0])&&(C=C[0]),(0,Ae.n)(C,m).lift(new Be(v))}(C.map(v=>v.pipe(Xt(1),function(...C){const v=C[C.length-1];return(0,J.K)(v)?(C.pop(),m=>Ot(C,m,v)):m=>Ot(C,m)}(Vr)))).pipe(Vn((v,m)=>{let R=!1;return m.reduce((V,X,_e)=>V!==Vr?V:(X===Vr&&(R=!0),R||!1!==X&&_e!==m.length-1&&!ii(X)?V:X),v)},Vr),qt(v=>v!==Vr),(0,pe.U)(v=>ii(v)?v:!0===v),Xt(1)))}let $s=(()=>{class C{}return C.\u0275fac=function(m){return new(m||C)},C.\u0275cmp=S.Xpm({type:C,selectors:[["ng-component"]],decls:1,vars:0,template:function(m,R){1&m&&S._UZ(0,"router-outlet")},directives:function(){return[yo]},encapsulation:2}),C})();function In(C,v=""){for(let m=0;m<C.length;m++){const R=C[m];Vo(R,Eo(v,R))}}function Vo(C,v){C.children&&In(C.children,v)}function Eo(C,v){return v?C||v.path?C&&!v.path?`${C}/`:!C&&v.path?v.path:`${C}/${v.path}`:"":C}function lo(C){const v=C.children&&C.children.map(lo),m=v?Object.assign(Object.assign({},C),{children:v}):Object.assign({},C);return!m.component&&(v||m.loadChildren)&&m.outlet&&m.outlet!==rn&&(m.component=$s),m}function Es(C){return C.outlet||rn}function Co(C,v){const m=C.filter(R=>Es(R)===v);return m.push(...C.filter(R=>Es(R)!==v)),m}const za={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Uo(C,v,m){var R;if(""===v.path)return"full"===v.pathMatch&&(C.hasChildren()||m.length>0)?Object.assign({},za):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const X=(v.matcher||Pr)(m,C,v);if(!X)return Object.assign({},za);const _e={};on(X.posParams,(gt,sn)=>{_e[sn]=gt.path});const Te=X.consumed.length>0?Object.assign(Object.assign({},_e),X.consumed[X.consumed.length-1].parameters):_e;return{matched:!0,consumedSegments:X.consumed,lastChild:X.consumed.length,parameters:Te,positionalParamSegments:null!==(R=X.posParams)&&void 0!==R?R:{}}}function bt(C,v,m,R,V="corrected"){if(m.length>0&&function(C,v,m){return m.some(R=>ss(C,v,R)&&Es(R)!==rn)}(C,m,R)){const _e=new mn(v,function(C,v,m,R){const V={};V[rn]=R,R._sourceSegment=C,R._segmentIndexShift=v.length;for(const X of m)if(""===X.path&&Es(X)!==rn){const _e=new mn([],{});_e._sourceSegment=C,_e._segmentIndexShift=v.length,V[Es(X)]=_e}return V}(C,v,R,new mn(m,C.children)));return _e._sourceSegment=C,_e._segmentIndexShift=v.length,{segmentGroup:_e,slicedSegments:[]}}if(0===m.length&&function(C,v,m){return m.some(R=>ss(C,v,R))}(C,m,R)){const _e=new mn(C.segments,function(C,v,m,R,V,X){const _e={};for(const Te of R)if(ss(C,m,Te)&&!V[Es(Te)]){const gt=new mn([],{});gt._sourceSegment=C,gt._segmentIndexShift="legacy"===X?C.segments.length:v.length,_e[Es(Te)]=gt}return Object.assign(Object.assign({},V),_e)}(C,v,m,R,C.children,V));return _e._sourceSegment=C,_e._segmentIndexShift=v.length,{segmentGroup:_e,slicedSegments:m}}const X=new mn(C.segments,C.children);return X._sourceSegment=C,X._segmentIndexShift=v.length,{segmentGroup:X,slicedSegments:m}}function ss(C,v,m){return(!(C.hasChildren()||v.length>0)||"full"!==m.pathMatch)&&""===m.path}function fs(C,v,m,R){return!!(Es(C)===R||R!==rn&&ss(v,m,C))&&("**"===C.path||Uo(v,C,m).matched)}function Ws(C,v,m){return 0===v.length&&!C.children[m]}class ho{constructor(v){this.segmentGroup=v||null}}class Gs{constructor(v){this.urlTree=v}}function Ks(C){return new nt.y(v=>v.error(new ho(C)))}function Qi(C){return new nt.y(v=>v.error(new Gs(C)))}function Ys(C){return new nt.y(v=>v.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${C}'`)))}class xs{constructor(v,m,R,V,X){this.configLoader=m,this.urlSerializer=R,this.urlTree=V,this.config=X,this.allowRedirects=!0,this.ngModule=v.get(S.h0i)}apply(){const v=bt(this.urlTree.root,[],[],this.config).segmentGroup,m=new mn(v.segments,v.children);return this.expandSegmentGroup(this.ngModule,this.config,m,rn).pipe((0,pe.U)(X=>this.createUrlTree(wr(X),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Er(X=>{if(X instanceof Gs)return this.allowRedirects=!1,this.match(X.urlTree);throw X instanceof ho?this.noMatchError(X):X}))}match(v){return this.expandSegmentGroup(this.ngModule,this.config,v.root,rn).pipe((0,pe.U)(V=>this.createUrlTree(wr(V),v.queryParams,v.fragment))).pipe(Er(V=>{throw V instanceof ho?this.noMatchError(V):V}))}noMatchError(v){return new Error(`Cannot match any routes. URL Segment: '${v.segmentGroup}'`)}createUrlTree(v,m,R){const V=v.segments.length>0?new mn([],{[rn]:v}):v;return new $r(V,m,R)}expandSegmentGroup(v,m,R,V){return 0===R.segments.length&&R.hasChildren()?this.expandChildren(v,m,R).pipe((0,pe.U)(X=>new mn([],X))):this.expandSegment(v,R,m,R.segments,V,!0)}expandChildren(v,m,R){const V=[];for(const X of Object.keys(R.children))"primary"===X?V.unshift(X):V.push(X);return(0,ie.D)(V).pipe(wn(X=>{const _e=R.children[X],Te=Co(m,X);return this.expandSegmentGroup(v,Te,_e,X).pipe((0,pe.U)(gt=>({segment:gt,outlet:X})))}),Vn((X,_e)=>(X[_e.outlet]=_e.segment,X),{}),function(C,v){const m=arguments.length>=2;return R=>R.pipe(C?qt((V,X)=>C(V,X,R)):Mt.y,Wn(1),m?jt(v):vt(()=>new dt))}())}expandSegment(v,m,R,V,X,_e){return(0,ie.D)(R).pipe(wn(Te=>this.expandSegmentAgainstRoute(v,m,R,Te,V,X,_e).pipe(Er(sn=>{if(sn instanceof ho)return Ie(null);throw sn}))),Kn(Te=>!!Te),Er((Te,gt)=>{if(Te instanceof dt||"EmptyError"===Te.name){if(Ws(m,V,X))return Ie(new mn([],{}));throw new ho(m)}throw Te}))}expandSegmentAgainstRoute(v,m,R,V,X,_e,Te){return fs(V,m,X,_e)?void 0===V.redirectTo?this.matchSegmentAgainstRoute(v,m,V,X,_e):Te&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(v,m,R,V,X,_e):Ks(m):Ks(m)}expandSegmentAgainstRouteUsingRedirect(v,m,R,V,X,_e){return"**"===V.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(v,R,V,_e):this.expandRegularSegmentAgainstRouteUsingRedirect(v,m,R,V,X,_e)}expandWildCardWithParamsAgainstRouteUsingRedirect(v,m,R,V){const X=this.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?Qi(X):this.lineralizeSegments(R,X).pipe((0,kt.zg)(_e=>{const Te=new mn(_e,{});return this.expandSegment(v,Te,m,_e,V,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(v,m,R,V,X,_e){const{matched:Te,consumedSegments:gt,lastChild:sn,positionalParamSegments:br}=Uo(m,V,X);if(!Te)return Ks(m);const bn=this.applyRedirectCommands(gt,V.redirectTo,br);return V.redirectTo.startsWith("/")?Qi(bn):this.lineralizeSegments(V,bn).pipe((0,kt.zg)(ur=>this.expandSegment(v,m,R,ur.concat(X.slice(sn)),_e,!1)))}matchSegmentAgainstRoute(v,m,R,V,X){if("**"===R.path)return R.loadChildren?(R._loadedConfig?Ie(R._loadedConfig):this.configLoader.load(v.injector,R)).pipe((0,pe.U)(ur=>(R._loadedConfig=ur,new mn(V,{})))):Ie(new mn(V,{}));const{matched:_e,consumedSegments:Te,lastChild:gt}=Uo(m,R,V);if(!_e)return Ks(m);const sn=V.slice(gt);return this.getChildConfig(v,R,V).pipe((0,kt.zg)(bn=>{const ur=bn.module,lr=bn.routes,{segmentGroup:ia,slicedSegments:ln}=bt(m,Te,sn,lr),Di=new mn(ia.segments,ia.children);if(0===ln.length&&Di.hasChildren())return this.expandChildren(ur,lr,Di).pipe((0,pe.U)(Wo=>new mn(Te,Wo)));if(0===lr.length&&0===ln.length)return Ie(new mn(Te,{}));const gs=Es(R)===X;return this.expandSegment(ur,Di,lr,ln,gs?rn:X,!0).pipe((0,pe.U)(os=>new mn(Te.concat(os.segments),os.children)))}))}getChildConfig(v,m,R){return m.children?Ie(new _r(m.children,v)):m.loadChildren?void 0!==m._loadedConfig?Ie(m._loadedConfig):this.runCanLoadGuards(v.injector,m,R).pipe((0,kt.zg)(V=>{return V?this.configLoader.load(v.injector,m).pipe((0,pe.U)(X=>(m._loadedConfig=X,X))):(C=m,new nt.y(v=>v.error(ns(`Cannot load children because the guard of the route "path: '${C.path}'" returned false`))));var C})):Ie(new _r([],v))}runCanLoadGuards(v,m,R){const V=m.canLoad;return V&&0!==V.length?Ie(V.map(_e=>{const Te=v.get(_e);let gt;if((C=Te)&&kr(C.canLoad))gt=Te.canLoad(m,R);else{if(!kr(Te))throw new Error("Invalid CanLoad guard");gt=Te(m,R)}var C;return an(gt)})).pipe(Ri(),En(_e=>{if(!ii(_e))return;const Te=ns(`Redirecting to "${this.urlSerializer.serialize(_e)}"`);throw Te.url=_e,Te}),(0,pe.U)(_e=>!0===_e)):Ie(!0)}lineralizeSegments(v,m){let R=[],V=m.root;for(;;){if(R=R.concat(V.segments),0===V.numberOfChildren)return Ie(R);if(V.numberOfChildren>1||!V.children[rn])return Ys(v.redirectTo);V=V.children[rn]}}applyRedirectCommands(v,m,R){return this.applyRedirectCreatreUrlTree(m,this.urlSerializer.parse(m),v,R)}applyRedirectCreatreUrlTree(v,m,R,V){const X=this.createSegmentGroup(v,m.root,R,V);return new $r(X,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(v,m){const R={};return on(v,(V,X)=>{if("string"==typeof V&&V.startsWith(":")){const Te=V.substring(1);R[X]=m[Te]}else R[X]=V}),R}createSegmentGroup(v,m,R,V){const X=this.createSegments(v,m.segments,R,V);let _e={};return on(m.children,(Te,gt)=>{_e[gt]=this.createSegmentGroup(v,Te,R,V)}),new mn(X,_e)}createSegments(v,m,R,V){return m.map(X=>X.path.startsWith(":")?this.findPosParam(v,X,V):this.findOrReturn(X,R))}findPosParam(v,m,R){const V=R[m.path.substring(1)];if(!V)throw new Error(`Cannot redirect to '${v}'. Cannot find '${m.path}'.`);return V}findOrReturn(v,m){let R=0;for(const V of m){if(V.path===v.path)return m.splice(R),V;R++}return v}}function wr(C){const v={};for(const R of Object.keys(C.children)){const X=wr(C.children[R]);(X.segments.length>0||X.hasChildren())&&(v[R]=X)}return function(C){if(1===C.numberOfChildren&&C.children[rn]){const v=C.children[rn];return new mn(C.segments.concat(v.segments),v.children)}return C}(new mn(C.segments,v))}class Io{constructor(v){this.path=v,this.route=this.path[this.path.length-1]}}class Ho{constructor(v,m){this.component=v,this.route=m}}function To(C,v,m){const R=C._root;return Rs(R,v?v._root:null,m,[R.value])}function fo(C,v,m){const R=function(C){if(!C)return null;for(let v=C.parent;v;v=v.parent){const m=v.routeConfig;if(m&&m._loadedConfig)return m._loadedConfig}return null}(v);return(R?R.module.injector:m).get(C)}function Rs(C,v,m,R,V={canDeactivateChecks:[],canActivateChecks:[]}){const X=Bs(v);return C.children.forEach(_e=>{(function(C,v,m,R,V={canDeactivateChecks:[],canActivateChecks:[]}){const X=C.value,_e=v?v.value:null,Te=m?m.getContext(C.value.outlet):null;if(_e&&X.routeConfig===_e.routeConfig){const gt=function(C,v,m){if("function"==typeof m)return m(C,v);switch(m){case"pathParamsChange":return!Ke(C.url,v.url);case"pathParamsOrQueryParamsChange":return!Ke(C.url,v.url)||!An(C.queryParams,v.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!di(C,v)||!An(C.queryParams,v.queryParams);case"paramsChange":default:return!di(C,v)}}(_e,X,X.routeConfig.runGuardsAndResolvers);gt?V.canActivateChecks.push(new Io(R)):(X.data=_e.data,X._resolvedData=_e._resolvedData),Rs(C,v,X.component?Te?Te.children:null:m,R,V),gt&&Te&&Te.outlet&&Te.outlet.isActivated&&V.canDeactivateChecks.push(new Ho(Te.outlet.component,_e))}else _e&&$i(v,Te,V),V.canActivateChecks.push(new Io(R)),Rs(C,null,X.component?Te?Te.children:null:m,R,V)})(_e,X[_e.value.outlet],m,R.concat([_e.value]),V),delete X[_e.value.outlet]}),on(X,(_e,Te)=>$i(_e,m.getContext(Te),V)),V}function $i(C,v,m){const R=Bs(C),V=C.value;on(R,(X,_e)=>{$i(X,V.component?v?v.children.getContext(_e):null:v,m)}),m.canDeactivateChecks.push(new Ho(V.component&&v&&v.outlet&&v.outlet.isActivated?v.outlet.component:null,V))}class H{}function se(C){return new nt.y(v=>v.error(C))}class Ye{constructor(v,m,R,V,X,_e){this.rootComponentType=v,this.config=m,this.urlTree=R,this.url=V,this.paramsInheritanceStrategy=X,this.relativeLinkResolution=_e}recognize(){const v=bt(this.urlTree.root,[],[],this.config.filter(_e=>void 0===_e.redirectTo),this.relativeLinkResolution).segmentGroup,m=this.processSegmentGroup(this.config,v,rn);if(null===m)return null;const R=new Ki([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},rn,this.rootComponentType,null,this.urlTree.root,-1,{}),V=new Wr(R,m),X=new uo(this.url,V);return this.inheritParamsAndData(X._root),X}inheritParamsAndData(v){const m=v.value,R=is(m,this.paramsInheritanceStrategy);m.params=Object.freeze(R.params),m.data=Object.freeze(R.data),v.children.forEach(V=>this.inheritParamsAndData(V))}processSegmentGroup(v,m,R){return 0===m.segments.length&&m.hasChildren()?this.processChildren(v,m):this.processSegment(v,m,m.segments,R)}processChildren(v,m){const R=[];for(const X of Object.keys(m.children)){const _e=m.children[X],Te=Co(v,X),gt=this.processSegmentGroup(Te,_e,X);if(null===gt)return null;R.push(...gt)}const V=_n(R);return V.sort((v,m)=>v.value.outlet===rn?-1:m.value.outlet===rn?1:v.value.outlet.localeCompare(m.value.outlet)),V}processSegment(v,m,R,V){for(const X of v){const _e=this.processSegmentAgainstRoute(X,m,R,V);if(null!==_e)return _e}return Ws(m,R,V)?[]:null}processSegmentAgainstRoute(v,m,R,V){if(v.redirectTo||!fs(v,m,R,V))return null;let X,_e=[],Te=[];if("**"===v.path){const lr=R.length>0?Lr(R).parameters:{};X=new Ki(R,lr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,D(v),Es(v),v.component,v,Hn(m),I(m)+R.length,q(v))}else{const lr=Uo(m,v,R);if(!lr.matched)return null;_e=lr.consumedSegments,Te=R.slice(lr.lastChild),X=new Ki(_e,lr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,D(v),Es(v),v.component,v,Hn(m),I(m)+_e.length,q(v))}const gt=(C=v).children?C.children:C.loadChildren?C._loadedConfig.routes:[],{segmentGroup:sn,slicedSegments:br}=bt(m,_e,Te,gt.filter(lr=>void 0===lr.redirectTo),this.relativeLinkResolution);var C;if(0===br.length&&sn.hasChildren()){const lr=this.processChildren(gt,sn);return null===lr?null:[new Wr(X,lr)]}if(0===gt.length&&0===br.length)return[new Wr(X,[])];const bn=Es(v)===V,ur=this.processSegment(gt,sn,br,bn?rn:V);return null===ur?null:[new Wr(X,ur)]}}function Ft(C){const v=C.value.routeConfig;return v&&""===v.path&&void 0===v.redirectTo}function _n(C){const v=[],m=new Set;for(const R of C){if(!Ft(R)){v.push(R);continue}const V=v.find(X=>R.value.routeConfig===X.value.routeConfig);void 0!==V?(V.children.push(...R.children),m.add(V)):v.push(R)}for(const R of m){const V=_n(R.children);v.push(new Wr(R.value,V))}return v.filter(R=>!m.has(R))}function Hn(C){let v=C;for(;v._sourceSegment;)v=v._sourceSegment;return v}function I(C){let v=C,m=v._segmentIndexShift?v._segmentIndexShift:0;for(;v._sourceSegment;)v=v._sourceSegment,m+=v._segmentIndexShift?v._segmentIndexShift:0;return m-1}function D(C){return C.data||{}}function q(C){return C.resolve||{}}function $n(C){return Ht(v=>{const m=C(v);return m?(0,ie.D)(m).pipe((0,pe.U)(()=>v)):Ie(v)})}class pi extends class{shouldDetach(v){return!1}store(v,m){}shouldAttach(v){return!1}retrieve(v){return null}shouldReuseRoute(v,m){return v.routeConfig===m.routeConfig}}{}const Cs=new S.OlP("ROUTES");class ba{constructor(v,m,R,V){this.loader=v,this.compiler=m,this.onLoadStartListener=R,this.onLoadEndListener=V}load(v,m){if(m._loader$)return m._loader$;this.onLoadStartListener&&this.onLoadStartListener(m);const V=this.loadModuleFactory(m.loadChildren).pipe((0,pe.U)(X=>{this.onLoadEndListener&&this.onLoadEndListener(m);const _e=X.create(v);return new _r(ni(_e.injector.get(Cs,void 0,S.XFs.Self|S.XFs.Optional)).map(lo),_e)}),Er(X=>{throw m._loader$=void 0,X}));return m._loader$=new Ze.c(V,()=>new ke.xQ).pipe((0,He.x)()),m._loader$}loadModuleFactory(v){return"string"==typeof v?(0,ie.D)(this.loader.load(v)):an(v()).pipe((0,kt.zg)(m=>m instanceof S.YKP?Ie(m):(0,ie.D)(this.compiler.compileModuleAsync(m))))}}class Ra{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Js,this.attachRef=null}}class Js{constructor(){this.contexts=new Map}onChildOutletCreated(v,m){const R=this.getOrCreateContext(v);R.outlet=m,this.contexts.set(v,R)}onChildOutletDestroyed(v){const m=this.getContext(v);m&&(m.outlet=null,m.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let m=this.getContext(v);return m||(m=new Ra,this.contexts.set(v,m)),m}getContext(v){return this.contexts.get(v)||null}}class vu{shouldProcessUrl(v){return!0}extract(v){return v}merge(v,m){return v}}function wu(C){throw C}function ul(C,v,m){return v.parse("/")}function zs(C,v){return Ie(null)}const bu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},go={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ar=(()=>{class C{constructor(m,R,V,X,_e,Te,gt,sn){this.rootComponentType=m,this.urlSerializer=R,this.rootContexts=V,this.location=X,this.config=sn,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ke.xQ,this.errorHandler=wu,this.malformedUriErrorHandler=ul,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:zs,afterPreactivation:zs},this.urlHandlingStrategy=new vu,this.routeReuseStrategy=new pi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=_e.get(S.h0i),this.console=_e.get(S.c2e);const ur=_e.get(S.R0b);this.isNgZoneEnabled=ur instanceof S.R0b&&S.R0b.isInAngularZone(),this.resetConfig(sn),this.currentUrlTree=new $r(new mn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ba(Te,gt,lr=>this.triggerEvent(new hn(lr)),lr=>this.triggerEvent(new ti(lr))),this.routerState=Ii(this.currentUrlTree,this.rootComponentType),this.transitions=new fe({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var m;return null===(m=this.location.getState())||void 0===m?void 0:m.\u0275routerPageId}setupNavigations(m){const R=this.events;return m.pipe(qt(V=>0!==V.id),(0,pe.U)(V=>Object.assign(Object.assign({},V),{extractedUrl:this.urlHandlingStrategy.extract(V.rawUrl)})),Ht(V=>{let X=!1,_e=!1;return Ie(V).pipe(En(Te=>{this.currentNavigation={id:Te.id,initialUrl:Te.currentRawUrl,extractedUrl:Te.extractedUrl,trigger:Te.source,extras:Te.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ht(Te=>{const gt=this.browserUrlTree.toString(),sn=!this.navigated||Te.extractedUrl.toString()!==gt||gt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||sn)&&this.urlHandlingStrategy.shouldProcessUrl(Te.rawUrl))return Li(Te.source)&&(this.browserUrlTree=Te.extractedUrl),Ie(Te).pipe(Ht(bn=>{const ur=this.transitions.getValue();return R.next(new en(bn.id,this.serializeUrl(bn.extractedUrl),bn.source,bn.restoredState)),ur!==this.transitions.getValue()?ue:Promise.resolve(bn)}),function(C,v,m,R){return Ht(V=>function(C,v,m,R,V){return new xs(C,v,m,R,V).apply()}(C,v,m,V.extractedUrl,R).pipe((0,pe.U)(X=>Object.assign(Object.assign({},V),{urlAfterRedirects:X}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),En(bn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:bn.urlAfterRedirects})}),function(C,v,m,R,V){return(0,kt.zg)(X=>function(C,v,m,R,V="emptyOnly",X="legacy"){try{const _e=new Ye(C,v,m,R,V,X).recognize();return null===_e?se(new H):Ie(_e)}catch(_e){return se(_e)}}(C,v,X.urlAfterRedirects,m(X.urlAfterRedirects),R,V).pipe((0,pe.U)(_e=>Object.assign(Object.assign({},X),{targetSnapshot:_e}))))}(this.rootComponentType,this.config,bn=>this.serializeUrl(bn),this.paramsInheritanceStrategy,this.relativeLinkResolution),En(bn=>{"eager"===this.urlUpdateStrategy&&(bn.extras.skipLocationChange||this.setBrowserUrl(bn.urlAfterRedirects,bn),this.browserUrlTree=bn.urlAfterRedirects);const ur=new Br(bn.id,this.serializeUrl(bn.extractedUrl),this.serializeUrl(bn.urlAfterRedirects),bn.targetSnapshot);R.next(ur)}));if(sn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:ur,extractedUrl:lr,source:ia,restoredState:ln,extras:Di}=Te,gs=new en(ur,this.serializeUrl(lr),ia,ln);R.next(gs);const Sr=Ii(lr,this.rootComponentType).snapshot;return Ie(Object.assign(Object.assign({},Te),{targetSnapshot:Sr,urlAfterRedirects:lr,extras:Object.assign(Object.assign({},Di),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Te.rawUrl,this.browserUrlTree=Te.urlAfterRedirects,Te.resolve(null),ue}),$n(Te=>{const{targetSnapshot:gt,id:sn,extractedUrl:br,rawUrl:bn,extras:{skipLocationChange:ur,replaceUrl:lr}}=Te;return this.hooks.beforePreactivation(gt,{navigationId:sn,appliedUrlTree:br,rawUrlTree:bn,skipLocationChange:!!ur,replaceUrl:!!lr})}),En(Te=>{const gt=new kn(Te.id,this.serializeUrl(Te.extractedUrl),this.serializeUrl(Te.urlAfterRedirects),Te.targetSnapshot);this.triggerEvent(gt)}),(0,pe.U)(Te=>Object.assign(Object.assign({},Te),{guards:To(Te.targetSnapshot,Te.currentSnapshot,this.rootContexts)})),function(C,v){return(0,kt.zg)(m=>{const{targetSnapshot:R,currentSnapshot:V,guards:{canActivateChecks:X,canDeactivateChecks:_e}}=m;return 0===_e.length&&0===X.length?Ie(Object.assign(Object.assign({},m),{guardsResult:!0})):function(C,v,m,R){return(0,ie.D)(C).pipe((0,kt.zg)(V=>function(C,v,m,R,V){const X=v&&v.routeConfig?v.routeConfig.canDeactivate:null;return X&&0!==X.length?Ie(X.map(Te=>{const gt=fo(Te,v,V);let sn;if(function(C){return C&&kr(C.canDeactivate)}(gt))sn=an(gt.canDeactivate(C,v,m,R));else{if(!kr(gt))throw new Error("Invalid CanDeactivate guard");sn=an(gt(C,v,m,R))}return sn.pipe(Kn())})).pipe(Ri()):Ie(!0)}(V.component,V.route,m,v,R)),Kn(V=>!0!==V,!0))}(_e,R,V,C).pipe((0,kt.zg)(Te=>Te&&function(C){return"boolean"==typeof C}(Te)?function(C,v,m,R){return(0,ie.D)(v).pipe(wn(V=>Ot(function(C,v){return null!==C&&v&&v(new zi(C)),Ie(!0)}(V.route.parent,R),function(C,v){return null!==C&&v&&v(new Ci(C)),Ie(!0)}(V.route,R),function(C,v,m){const R=v[v.length-1],X=v.slice(0,v.length-1).reverse().map(_e=>function(C){const v=C.routeConfig?C.routeConfig.canActivateChild:null;return v&&0!==v.length?{node:C,guards:v}:null}(_e)).filter(_e=>null!==_e).map(_e=>he(()=>Ie(_e.guards.map(gt=>{const sn=fo(gt,_e.node,m);let br;if(function(C){return C&&kr(C.canActivateChild)}(sn))br=an(sn.canActivateChild(R,C));else{if(!kr(sn))throw new Error("Invalid CanActivateChild guard");br=an(sn(R,C))}return br.pipe(Kn())})).pipe(Ri())));return Ie(X).pipe(Ri())}(C,V.path,m),function(C,v,m){const R=v.routeConfig?v.routeConfig.canActivate:null;return R&&0!==R.length?Ie(R.map(X=>he(()=>{const _e=fo(X,v,m);let Te;if(function(C){return C&&kr(C.canActivate)}(_e))Te=an(_e.canActivate(v,C));else{if(!kr(_e))throw new Error("Invalid CanActivate guard");Te=an(_e(v,C))}return Te.pipe(Kn())}))).pipe(Ri()):Ie(!0)}(C,V.route,m))),Kn(V=>!0!==V,!0))}(R,X,C,v):Ie(Te)),(0,pe.U)(Te=>Object.assign(Object.assign({},m),{guardsResult:Te})))})}(this.ngModule.injector,Te=>this.triggerEvent(Te)),En(Te=>{if(ii(Te.guardsResult)){const sn=ns(`Redirecting to "${this.serializeUrl(Te.guardsResult)}"`);throw sn.url=Te.guardsResult,sn}const gt=new jr(Te.id,this.serializeUrl(Te.extractedUrl),this.serializeUrl(Te.urlAfterRedirects),Te.targetSnapshot,!!Te.guardsResult);this.triggerEvent(gt)}),qt(Te=>!!Te.guardsResult||(this.restoreHistory(Te),this.cancelNavigationTransition(Te,""),!1)),$n(Te=>{if(Te.guards.canActivateChecks.length)return Ie(Te).pipe(En(gt=>{const sn=new Rn(gt.id,this.serializeUrl(gt.extractedUrl),this.serializeUrl(gt.urlAfterRedirects),gt.targetSnapshot);this.triggerEvent(sn)}),Ht(gt=>{let sn=!1;return Ie(gt).pipe(function(C,v){return(0,kt.zg)(m=>{const{targetSnapshot:R,guards:{canActivateChecks:V}}=m;if(!V.length)return Ie(m);let X=0;return(0,ie.D)(V).pipe(wn(_e=>function(C,v,m,R){return function(C,v,m,R){const V=Object.keys(C);if(0===V.length)return Ie({});const X={};return(0,ie.D)(V).pipe((0,kt.zg)(_e=>function(C,v,m,R){const V=fo(C,v,R);return an(V.resolve?V.resolve(v,m):V(v,m))}(C[_e],v,m,R).pipe(En(Te=>{X[_e]=Te}))),Wn(1),(0,kt.zg)(()=>Object.keys(X).length===V.length?Ie(X):ue))}(C._resolve,C,v,R).pipe((0,pe.U)(X=>(C._resolvedData=X,C.data=Object.assign(Object.assign({},C.data),is(C,m).resolve),null)))}(_e.route,R,C,v)),En(()=>X++),Wn(1),(0,kt.zg)(_e=>X===V.length?Ie(m):ue))})}(this.paramsInheritanceStrategy,this.ngModule.injector),En({next:()=>sn=!0,complete:()=>{sn||(this.restoreHistory(gt),this.cancelNavigationTransition(gt,"At least one route resolver didn't emit any value."))}}))}),En(gt=>{const sn=new oi(gt.id,this.serializeUrl(gt.extractedUrl),this.serializeUrl(gt.urlAfterRedirects),gt.targetSnapshot);this.triggerEvent(sn)}))}),$n(Te=>{const{targetSnapshot:gt,id:sn,extractedUrl:br,rawUrl:bn,extras:{skipLocationChange:ur,replaceUrl:lr}}=Te;return this.hooks.afterPreactivation(gt,{navigationId:sn,appliedUrlTree:br,rawUrlTree:bn,skipLocationChange:!!ur,replaceUrl:!!lr})}),(0,pe.U)(Te=>{const gt=function(C,v,m){const R=hi(C,v._root,m?m._root:void 0);return new ys(R,v)}(this.routeReuseStrategy,Te.targetSnapshot,Te.currentRouterState);return Object.assign(Object.assign({},Te),{targetRouterState:gt})}),En(Te=>{this.currentUrlTree=Te.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Te.urlAfterRedirects,Te.rawUrl),this.routerState=Te.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Te.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Te),this.browserUrlTree=Te.urlAfterRedirects)}),((C,v,m)=>(0,pe.U)(R=>(new un(v,R.targetRouterState,R.currentRouterState,m).activate(C),R)))(this.rootContexts,this.routeReuseStrategy,Te=>this.triggerEvent(Te)),En({next(){X=!0},complete(){X=!0}}),function(C){return v=>v.lift(new Re(C))}(()=>{if(!X&&!_e){const Te=`Navigation ID ${V.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(V),this.cancelNavigationTransition(V,Te)):this.cancelNavigationTransition(V,Te)}this.currentNavigation=null}),Er(Te=>{if(_e=!0,function(C){return C&&C[Mr]}(Te)){const gt=ii(Te.url);gt||(this.navigated=!0,this.restoreHistory(V,!0));const sn=new Un(V.id,this.serializeUrl(V.extractedUrl),Te.message);R.next(sn),gt?setTimeout(()=>{const br=this.urlHandlingStrategy.merge(Te.url,this.rawUrlTree),bn={skipLocationChange:V.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Li(V.source)};this.scheduleNavigation(br,"imperative",null,bn,{resolve:V.resolve,reject:V.reject,promise:V.promise})},0):V.resolve(!1)}else{this.restoreHistory(V,!0);const gt=new dn(V.id,this.serializeUrl(V.extractedUrl),Te);R.next(gt);try{V.resolve(this.errorHandler(Te))}catch(sn){V.reject(sn)}}return ue}))}))}resetRootComponentType(m){this.rootComponentType=m,this.routerState.root.component=this.rootComponentType}getTransition(){const m=this.transitions.value;return m.urlAfterRedirects=this.browserUrlTree,m}setTransition(m){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),m))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const R=this.extractLocationChangeInfoFromEvent(m);this.shouldScheduleNavigation(this.lastLocationChangeInfo,R)&&setTimeout(()=>{const{source:V,state:X,urlTree:_e}=R,Te={replaceUrl:!0};if(X){const gt=Object.assign({},X);delete gt.navigationId,delete gt.\u0275routerPageId,0!==Object.keys(gt).length&&(Te.state=gt)}this.scheduleNavigation(_e,V,X,Te)},0),this.lastLocationChangeInfo=R}))}extractLocationChangeInfoFromEvent(m){var R;return{source:"popstate"===m.type?"popstate":"hashchange",urlTree:this.parseUrl(m.url),state:(null===(R=m.state)||void 0===R?void 0:R.navigationId)?m.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(m,R){if(!m)return!0;const V=R.urlTree.toString()===m.urlTree.toString();return R.transitionId!==m.transitionId||!V||!("hashchange"===R.source&&"popstate"===m.source||"popstate"===R.source&&"hashchange"===m.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(m){this.events.next(m)}resetConfig(m){In(m),this.config=m.map(lo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(m,R={}){const{relativeTo:V,queryParams:X,fragment:_e,queryParamsHandling:Te,preserveFragment:gt}=R,sn=V||this.routerState.root,br=gt?this.currentUrlTree.fragment:_e;let bn=null;switch(Te){case"merge":bn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),X);break;case"preserve":bn=this.currentUrlTree.queryParams;break;default:bn=X||null}return null!==bn&&(bn=this.removeEmptyProps(bn)),function(C,v,m,R,V){if(0===m.length)return ki(v.root,v.root,v,R,V);const X=function(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new bs(!0,0,C);let v=0,m=!1;const R=C.reduce((V,X,_e)=>{if("object"==typeof X&&null!=X){if(X.outlets){const Te={};return on(X.outlets,(gt,sn)=>{Te[sn]="string"==typeof gt?gt.split("/"):gt}),[...V,{outlets:Te}]}if(X.segmentPath)return[...V,X.segmentPath]}return"string"!=typeof X?[...V,X]:0===_e?(X.split("/").forEach((Te,gt)=>{0==gt&&"."===Te||(0==gt&&""===Te?m=!0:".."===Te?v++:""!=Te&&V.push(Te))}),V):[...V,X]},[]);return new bs(m,v,R)}(m);if(X.toRoot())return ki(v.root,new mn([],{}),v,R,V);const _e=function(C,v,m){if(C.isAbsolute)return new K(v.root,!0,0);if(-1===m.snapshot._lastPathIndex){const X=m.snapshot._urlSegment;return new K(X,X===v.root,0)}const R=Yi(C.commands[0])?0:1;return function(C,v,m){let R=C,V=v,X=m;for(;X>V;){if(X-=V,R=R.parent,!R)throw new Error("Invalid number of '../'");V=R.segments.length}return new K(R,!1,V-X)}(m.snapshot._urlSegment,m.snapshot._lastPathIndex+R,C.numberOfDoubleDots)}(X,v,C),Te=_e.processChildren?_t(_e.segmentGroup,_e.index,X.commands):ot(_e.segmentGroup,_e.index,X.commands);return ki(_e.segmentGroup,Te,v,R,V)}(sn,this.currentUrlTree,m,bn,null!=br?br:null)}navigateByUrl(m,R={skipLocationChange:!1}){const V=ii(m)?m:this.parseUrl(m),X=this.urlHandlingStrategy.merge(V,this.rawUrlTree);return this.scheduleNavigation(X,"imperative",null,R)}navigate(m,R={skipLocationChange:!1}){return function(C){for(let v=0;v<C.length;v++){const m=C[v];if(null==m)throw new Error(`The requested path contains ${m} segment at index ${v}`)}}(m),this.navigateByUrl(this.createUrlTree(m,R),R)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let R;try{R=this.urlSerializer.parse(m)}catch(V){R=this.malformedUriErrorHandler(V,this.urlSerializer,m)}return R}isActive(m,R){let V;if(V=!0===R?Object.assign({},bu):!1===R?Object.assign({},go):R,ii(m))return ji(this.currentUrlTree,m,V);const X=this.parseUrl(m);return ji(this.currentUrlTree,X,V)}removeEmptyProps(m){return Object.keys(m).reduce((R,V)=>{const X=m[V];return null!=X&&(R[V]=X),R},{})}processNavigations(){this.navigations.subscribe(m=>{this.navigated=!0,this.lastSuccessfulId=m.id,this.currentPageId=m.targetPageId,this.events.next(new zn(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,m.resolve(!0)},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)})}scheduleNavigation(m,R,V,X,_e){var Te,gt;if(this.disposed)return Promise.resolve(!1);const sn=this.getTransition(),br=Li(R)&&sn&&!Li(sn.source),lr=(this.lastSuccessfulId===sn.id||this.currentNavigation?sn.rawUrl:sn.urlAfterRedirects).toString()===m.toString();if(br&&lr)return Promise.resolve(!0);let ia,ln,Di;_e?(ia=_e.resolve,ln=_e.reject,Di=_e.promise):Di=new Promise((os,Wo)=>{ia=os,ln=Wo});const gs=++this.navigationId;let Sr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(V=this.location.getState()),Sr=V&&V.\u0275routerPageId?V.\u0275routerPageId:X.replaceUrl||X.skipLocationChange?null!==(Te=this.browserPageId)&&void 0!==Te?Te:0:(null!==(gt=this.browserPageId)&&void 0!==gt?gt:0)+1):Sr=0,this.setTransition({id:gs,targetPageId:Sr,source:R,restoredState:V,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:m,extras:X,resolve:ia,reject:ln,promise:Di,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Di.catch(os=>Promise.reject(os))}setBrowserUrl(m,R){const V=this.urlSerializer.serialize(m),X=Object.assign(Object.assign({},R.extras.state),this.generateNgRouterState(R.id,R.targetPageId));this.location.isCurrentPathEqualTo(V)||R.extras.replaceUrl?this.location.replaceState(V,"",X):this.location.go(V,"",X)}restoreHistory(m,R=!1){var V,X;if("computed"===this.canceledNavigationResolution){const _e=this.currentPageId-m.targetPageId;"popstate"!==m.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(V=this.currentNavigation)||void 0===V?void 0:V.finalUrl)||0===_e?this.currentUrlTree===(null===(X=this.currentNavigation)||void 0===X?void 0:X.finalUrl)&&0===_e&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(_e)}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(m,R){const V=new Un(m.id,this.serializeUrl(m.extractedUrl),R);this.triggerEvent(V),m.resolve(!1)}generateNgRouterState(m,R){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:R}:{navigationId:m}}}return C.\u0275fac=function(m){return new(m||C)(S.LFG(S.DyG),S.LFG(oe),S.LFG(Js),S.LFG(y.Ye),S.LFG(S.zs3),S.LFG(S.v3s),S.LFG(S.Sil),S.LFG(void 0))},C.\u0275prov=S.Yz7({token:C,factory:C.\u0275fac}),C})();function Li(C){return"imperative"!==C}let Zo=(()=>{class C{constructor(m,R,V,X,_e){this.router=m,this.route=R,this.commands=[],this.onChanges=new ke.xQ,null==V&&X.setAttribute(_e.nativeElement,"tabindex","0")}ngOnChanges(m){this.onChanges.next(this)}set routerLink(m){this.commands=null!=m?Array.isArray(m)?m:[m]:[]}onClick(){const m={skipLocationChange:Nt(this.skipLocationChange),replaceUrl:Nt(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Nt(this.preserveFragment)})}}return C.\u0275fac=function(m){return new(m||C)(S.Y36(ar),S.Y36(ci),S.$8M("tabindex"),S.Y36(S.Qsj),S.Y36(S.SBq))},C.\u0275dir=S.lG2({type:C,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(m,R){1&m&&S.NdJ("click",function(){return R.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[S.TTD]}),C})(),na=(()=>{class C{constructor(m,R,V){this.router=m,this.route=R,this.locationStrategy=V,this.commands=[],this.onChanges=new ke.xQ,this.subscription=m.events.subscribe(X=>{X instanceof zn&&this.updateTargetUrlAndHref()})}set routerLink(m){this.commands=null!=m?Array.isArray(m)?m:[m]:[]}ngOnChanges(m){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(m,R,V,X,_e){if(0!==m||R||V||X||_e||"string"==typeof this.target&&"_self"!=this.target)return!0;const Te={skipLocationChange:Nt(this.skipLocationChange),replaceUrl:Nt(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Te),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Nt(this.preserveFragment)})}}return C.\u0275fac=function(m){return new(m||C)(S.Y36(ar),S.Y36(ci),S.Y36(y.S$))},C.\u0275dir=S.lG2({type:C,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(m,R){1&m&&S.NdJ("click",function(X){return R.onClick(X.button,X.ctrlKey,X.shiftKey,X.altKey,X.metaKey)}),2&m&&(S.Ikx("href",R.href,S.LSH),S.uIk("target",R.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[S.TTD]}),C})();function Nt(C){return""===C||!!C}let yo=(()=>{class C{constructor(m,R,V,X,_e){this.parentContexts=m,this.location=R,this.resolver=V,this.changeDetector=_e,this.activated=null,this._activatedRoute=null,this.activateEvents=new S.vpe,this.deactivateEvents=new S.vpe,this.name=X||rn,m.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const m=this.parentContexts.getContext(this.name);m&&m.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,m}attach(m,R){this.activated=m,this._activatedRoute=R,this.location.insert(m.hostView)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,R){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=m;const _e=(R=R||this.resolver).resolveComponentFactory(m._futureSnapshot.routeConfig.component),Te=this.parentContexts.getOrCreateContext(this.name).children,gt=new gn(m,Te,this.location.injector);this.activated=this.location.createComponent(_e,this.location.length,gt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return C.\u0275fac=function(m){return new(m||C)(S.Y36(Js),S.Y36(S.s_b),S.Y36(S._Vd),S.$8M("name"),S.Y36(S.sBO))},C.\u0275dir=S.lG2({type:C,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),C})();class gn{constructor(v,m,R){this.route=v,this.childContexts=m,this.parent=R}get(v,m){return v===ci?this.route:v===Js?this.childContexts:this.parent.get(v,m)}}class On{}class Jt{preload(v,m){return Ie(null)}}let at=(()=>{class C{constructor(m,R,V,X,_e){this.router=m,this.injector=X,this.preloadingStrategy=_e,this.loader=new ba(R,V,sn=>m.triggerEvent(new hn(sn)),sn=>m.triggerEvent(new ti(sn)))}setUpPreloading(){this.subscription=this.router.events.pipe(qt(m=>m instanceof zn),wn(()=>this.preload())).subscribe(()=>{})}preload(){const m=this.injector.get(S.h0i);return this.processRoutes(m,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,R){const V=[];for(const X of R)if(X.loadChildren&&!X.canLoad&&X._loadedConfig){const _e=X._loadedConfig;V.push(this.processRoutes(_e.module,_e.routes))}else X.loadChildren&&!X.canLoad?V.push(this.preloadConfig(m,X)):X.children&&V.push(this.processRoutes(m,X.children));return(0,ie.D)(V).pipe((0,it.J)(),(0,pe.U)(X=>{}))}preloadConfig(m,R){return this.preloadingStrategy.preload(R,()=>(R._loadedConfig?Ie(R._loadedConfig):this.loader.load(m.injector,R)).pipe((0,kt.zg)(X=>(R._loadedConfig=X,this.processRoutes(X.module,X.routes)))))}}return C.\u0275fac=function(m){return new(m||C)(S.LFG(ar),S.LFG(S.v3s),S.LFG(S.Sil),S.LFG(S.zs3),S.LFG(On))},C.\u0275prov=S.Yz7({token:C,factory:C.\u0275fac}),C})(),Dt=(()=>{class C{constructor(m,R,V={}){this.router=m,this.viewportScroller=R,this.options=V,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},V.scrollPositionRestoration=V.scrollPositionRestoration||"disabled",V.anchorScrolling=V.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(m=>{m instanceof en?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof zn&&(this.lastId=m.id,this.scheduleScrollEvent(m,this.router.parseUrl(m.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(m=>{m instanceof Ir&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,R){this.router.triggerEvent(new Ir(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return C.\u0275fac=function(m){return new(m||C)(S.LFG(ar),S.LFG(y.EM),S.LFG(void 0))},C.\u0275prov=S.Yz7({token:C,factory:C.\u0275fac}),C})();const _o=new S.OlP("ROUTER_CONFIGURATION"),Bu=new S.OlP("ROUTER_FORROOT_GUARD"),Cu=[y.Ye,{provide:oe,useClass:ne},{provide:ar,useFactory:function(C,v,m,R,V,X,_e,Te={},gt,sn){const br=new ar(null,C,v,m,R,V,X,ni(_e));return gt&&(br.urlHandlingStrategy=gt),sn&&(br.routeReuseStrategy=sn),function(C,v){C.errorHandler&&(v.errorHandler=C.errorHandler),C.malformedUriErrorHandler&&(v.malformedUriErrorHandler=C.malformedUriErrorHandler),C.onSameUrlNavigation&&(v.onSameUrlNavigation=C.onSameUrlNavigation),C.paramsInheritanceStrategy&&(v.paramsInheritanceStrategy=C.paramsInheritanceStrategy),C.relativeLinkResolution&&(v.relativeLinkResolution=C.relativeLinkResolution),C.urlUpdateStrategy&&(v.urlUpdateStrategy=C.urlUpdateStrategy)}(Te,br),Te.enableTracing&&br.events.subscribe(bn=>{var ur,lr;null===(ur=console.group)||void 0===ur||ur.call(console,`Router Event: ${bn.constructor.name}`),console.log(bn.toString()),console.log(bn),null===(lr=console.groupEnd)||void 0===lr||lr.call(console)}),br},deps:[oe,Js,y.Ye,S.zs3,S.v3s,S.Sil,Cs,_o,[class{},new S.FiY],[class{},new S.FiY]]},Js,{provide:ci,useFactory:function(C){return C.routerState.root},deps:[ar]},{provide:S.v3s,useClass:S.EAV},at,Jt,class{preload(v,m){return m().pipe(Er(()=>Ie(null)))}},{provide:_o,useValue:{enableTracing:!1}}];function Ea(){return new S.PXZ("Router",ar)}let Iu=(()=>{class C{constructor(m,R){}static forRoot(m,R){return{ngModule:C,providers:[Cu,tr(m),{provide:Bu,useFactory:Ca,deps:[[ar,new S.FiY,new S.tp0]]},{provide:_o,useValue:R||{}},{provide:y.S$,useFactory:Bl,deps:[y.lw,[new S.tBr(y.mr),new S.FiY],_o]},{provide:Dt,useFactory:ps,deps:[ar,y.EM,_o]},{provide:On,useExisting:R&&R.preloadingStrategy?R.preloadingStrategy:Jt},{provide:S.PXZ,multi:!0,useFactory:Ea},[Fn,{provide:S.ip1,multi:!0,useFactory:Ma,deps:[Fn]},{provide:Pa,useFactory:Xs,deps:[Fn]},{provide:S.tb,multi:!0,useExisting:Pa}]]}}static forChild(m){return{ngModule:C,providers:[tr(m)]}}}return C.\u0275fac=function(m){return new(m||C)(S.LFG(Bu,8),S.LFG(ar,8))},C.\u0275mod=S.oAB({type:C}),C.\u0275inj=S.cJS({}),C})();function ps(C,v,m){return m.scrollOffset&&v.setOffset(m.scrollOffset),new Dt(C,v,m)}function Bl(C,v,m={}){return m.useHash?new y.Do(C,v):new y.b0(C,v)}function Ca(C){return"guarded"}function tr(C){return[{provide:S.deG,multi:!0,useValue:C},{provide:Cs,multi:!0,useValue:C}]}let Fn=(()=>{class C{constructor(m){this.injector=m,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ke.xQ}appInitializer(){return this.injector.get(y.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let R=null;const V=new Promise(Te=>R=Te),X=this.injector.get(ar),_e=this.injector.get(_o);return"disabled"===_e.initialNavigation?(X.setUpLocationChangeListener(),R(!0)):"enabled"===_e.initialNavigation||"enabledBlocking"===_e.initialNavigation?(X.hooks.afterPreactivation=()=>this.initNavigation?Ie(null):(this.initNavigation=!0,R(!0),this.resultOfPreactivationDone),X.initialNavigation()):R(!0),V})}bootstrapListener(m){const R=this.injector.get(_o),V=this.injector.get(at),X=this.injector.get(Dt),_e=this.injector.get(ar),Te=this.injector.get(S.z2F);m===Te.components[0]&&(("enabledNonBlocking"===R.initialNavigation||void 0===R.initialNavigation)&&_e.initialNavigation(),V.setUpPreloading(),X.init(),_e.resetRootComponentType(Te.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return C.\u0275fac=function(m){return new(m||C)(S.LFG(S.zs3))},C.\u0275prov=S.Yz7({token:C,factory:C.\u0275fac}),C})();function Ma(C){return C.appInitializer.bind(C)}function Xs(C){return C.bootstrapListener.bind(C)}const Pa=new S.OlP("Router Initializer")},4486:(Pt,Le,j)=>{"use strict";j.d(Le,{Z:()=>nt});var y=j(3854),S=j(6034),J=j(5452),Ae=j(5601);class A{constructor(Ve,le){this._delegate=Ve,this.firebase=le,(0,J._addComponent)(Ve,new S.wA("app-compat",()=>this,"PUBLIC")),this.container=Ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ve){this._delegate.automaticDataCollectionEnabled=Ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ve=>{this._delegate.checkDestroyed(),Ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,J.deleteApp)(this._delegate)))}_getService(Ve,le=J._DEFAULT_ENTRY_NAME){var Be;this._delegate.checkDestroyed();const Me=this._delegate.container.getProvider(Ve);return!Me.isInitialized()&&"EXPLICIT"===(null===(Be=Me.getComponent())||void 0===Be?void 0:Be.instantiationMode)&&Me.initialize(),Me.getImmediate({identifier:le})}_removeServiceInstance(Ve,le=J._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ve).clearInstance(le)}_addComponent(Ve){(0,J._addComponent)(this._delegate,Ve)}_addOrOverwriteComponent(Ve){(0,J._addOrOverwriteComponent)(this._delegate,Ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ke=new y.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function fe(){const Oe=function(Oe){const Ve={},le={__esModule:!0,initializeApp:function(Ot,ie={}){const ue=J.initializeApp(Ot,ie);if((0,y.r3)(Ve,ue.name))return Ve[ue.name];const me=new Oe(ue,le);return Ve[ue.name]=me,me},app:Me,registerVersion:J.registerVersion,setLogLevel:J.setLogLevel,onLog:J.onLog,apps:null,SDK_VERSION:J.SDK_VERSION,INTERNAL:{registerComponent:function(Ot){const ie=Ot.name,ue=ie.replace("-compat","");if(J._registerComponent(Ot)&&"PUBLIC"===Ot.type){const me=(ye=Me())=>{if("function"!=typeof ye[ue])throw ke.create("invalid-app-argument",{appName:ie});return ye[ue]()};void 0!==Ot.serviceProps&&(0,y.ZB)(me,Ot.serviceProps),le[ue]=me,Oe.prototype[ue]=function(...ye){return this._getService.bind(this,ie).apply(this,Ot.multipleInstances?ye:[])}}return"PUBLIC"===Ot.type?le[ue]:null},removeApp:function(Ot){delete Ve[Ot]},useAsService:function(Ot,ie){return"serverAuth"===ie?null:ie},modularAPIs:J}};function Me(Ot){if(!(0,y.r3)(Ve,Ot=Ot||J._DEFAULT_ENTRY_NAME))throw ke.create("no-app",{appName:Ot});return Ve[Ot]}return le.default=le,Object.defineProperty(le,"apps",{get:function(){return Object.keys(Ve).map(Ot=>Ve[Ot])}}),Me.App=Oe,le}(A);return Oe.INTERNAL=Object.assign(Object.assign({},Oe.INTERNAL),{createFirebaseNamespace:fe,extendNamespace:function(le){(0,y.ZB)(Oe,le)},createSubscribe:y.ne,ErrorFactory:y.LL,deepExtend:y.ZB}),Oe}(),ee=new Ae.Yd("@firebase/app-compat");if((0,y.jU)()&&void 0!==self.firebase){ee.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Oe=self.firebase.SDK_VERSION;Oe&&Oe.indexOf("LITE")>=0&&ee.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const nt=Y;(0,J.registerVersion)("@firebase/app-compat","0.1.5",undefined)},5452:(Pt,Le,j)=>{"use strict";j.r(Le),j.d(Le,{FirebaseError:()=>Ae.ZR,SDK_VERSION:()=>nr,_DEFAULT_ENTRY_NAME:()=>Rt,_addComponent:()=>Xt,_addOrOverwriteComponent:()=>jn,_apps:()=>Gt,_clearComponents:()=>nn,_components:()=>xn,_getProvider:()=>mr,_registerComponent:()=>sr,_removeServiceInstance:()=>Vn,deleteApp:()=>kt,getApp:()=>qn,getApps:()=>Fr,initializeApp:()=>Er,onLog:()=>Jn,registerVersion:()=>Wn,setLogLevel:()=>Tt});var y=j(8239),S=j(6034),J=j(5601),Ae=j(3854);class A{constructor(tt){this.container=tt}getPlatformInfoString(){return this.container.getProviders().map(Ut=>{if(function(Je){const tt=Je.getComponent();return"VERSION"===(null==tt?void 0:tt.type)}(Ut)){const jt=Ut.getImmediate();return`${jt.library}/${jt.version}`}return null}).filter(Ut=>Ut).join(" ")}}const ke="@firebase/app",fe=new J.Yd("@firebase/app"),Rt="[DEFAULT]",It={[ke]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Gt=new Map,xn=new Map;function Xt(Je,tt){try{Je.container.addComponent(tt)}catch(Ut){fe.debug(`Component ${tt.name} failed to register with FirebaseApp ${Je.name}`,Ut)}}function jn(Je,tt){Je.container.addOrOverwriteComponent(tt)}function sr(Je){const tt=Je.name;if(xn.has(tt))return fe.debug(`There were multiple attempts to register component ${tt}.`),!1;xn.set(tt,Je);for(const Ut of Gt.values())Xt(Ut,Je);return!0}function mr(Je,tt){return Je.container.getProvider(tt)}function Vn(Je,tt,Ut=Rt){mr(Je,tt).clearInstance(Ut)}function nn(){xn.clear()}const qt=new Ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Ar{constructor(tt,Ut,jt){this._isDeleted=!1,this._options=Object.assign({},tt),this._config=Object.assign({},Ut),this._name=Ut.name,this._automaticDataCollectionEnabled=Ut.automaticDataCollectionEnabled,this._container=jt,this.container.addComponent(new S.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(tt){this.checkDestroyed(),this._automaticDataCollectionEnabled=tt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(tt){this._isDeleted=tt}checkDestroyed(){if(this.isDeleted)throw qt.create("app-deleted",{appName:this._name})}}const nr="9.1.3";function Er(Je,tt={}){"object"!=typeof tt&&(tt={name:tt});const Ut=Object.assign({name:Rt,automaticDataCollectionEnabled:!1},tt),jt=Ut.name;if("string"!=typeof jt||!jt)throw qt.create("bad-app-name",{appName:String(jt)});const wt=Gt.get(jt);if(wt){if((0,Ae.vZ)(Je,wt.options)&&(0,Ae.vZ)(Ut,wt.config))return wt;throw qt.create("duplicate-app",{appName:jt})}const pn=new S.H0(jt);for(const Zt of xn.values())pn.addComponent(Zt);const Mt=new Ar(Je,Ut,pn);return Gt.set(jt,Mt),Mt}function qn(Je=Rt){const tt=Gt.get(Je);if(!tt)throw qt.create("no-app",{appName:Je});return tt}function Fr(){return Array.from(Gt.values())}function kt(Je){return wn.apply(this,arguments)}function wn(){return(wn=(0,y.Z)(function*(Je){const tt=Je.name;Gt.has(tt)&&(Gt.delete(tt),yield Promise.all(Je.container.getProviders().map(Ut=>Ut.delete())),Je.isDeleted=!0)})).apply(this,arguments)}function Wn(Je,tt,Ut){var jt;let wt=null!==(jt=It[Je])&&void 0!==jt?jt:Je;Ut&&(wt+=`-${Ut}`);const pn=wt.match(/\s|\//),Mt=tt.match(/\s|\//);if(pn||Mt){const Zt=[`Unable to register library "${wt}" with version "${tt}":`];return pn&&Zt.push(`library name "${wt}" contains illegal characters (whitespace or "/")`),pn&&Mt&&Zt.push("and"),Mt&&Zt.push(`version name "${tt}" contains illegal characters (whitespace or "/")`),void fe.warn(Zt.join(" "))}sr(new S.wA(`${wt}-version`,()=>({library:wt,version:tt}),"VERSION"))}function Jn(Je,tt){if(null!==Je&&"function"!=typeof Je)throw qt.create("invalid-log-argument");(0,J.Am)(Je,tt)}function Tt(Je){(0,J.Ub)(Je)}sr(new S.wA("platform-logger",tt=>new A(tt),"PRIVATE")),Wn(ke,"0.7.4",""),Wn(ke,"0.7.4","esm2017"),Wn("fire-js","")},6034:(Pt,Le,j)=>{"use strict";j.d(Le,{wA:()=>J,H0:()=>Qe});var y=j(4762),S=j(3854),J=function(){function fe(Y,ee,be){this.name=Y,this.instanceFactory=ee,this.type=be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return fe.prototype.setInstantiationMode=function(Y){return this.instantiationMode=Y,this},fe.prototype.setMultipleInstances=function(Y){return this.multipleInstances=Y,this},fe.prototype.setServiceProps=function(Y){return this.serviceProps=Y,this},fe.prototype.setInstanceCreatedCallback=function(Y){return this.onInstanceCreated=Y,this},fe}(),Ae="[DEFAULT]",A=function(){function fe(Y,ee){this.name=Y,this.container=ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return fe.prototype.get=function(Y){var ee=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(ee)){var be=new S.BH;if(this.instancesDeferred.set(ee,be),this.isInitialized(ee)||this.shouldAutoInitialize())try{var ze=this.getOrInitializeService({instanceIdentifier:ee});ze&&be.resolve(ze)}catch(Fe){}}return this.instancesDeferred.get(ee).promise},fe.prototype.getImmediate=function(Y){var ee,be=this.normalizeInstanceIdentifier(null==Y?void 0:Y.identifier),ze=null!==(ee=null==Y?void 0:Y.optional)&&void 0!==ee&&ee;if(!this.isInitialized(be)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:be})}catch(Fe){if(ze)return null;throw Fe}},fe.prototype.getComponent=function(){return this.component},fe.prototype.setComponent=function(Y){var ee,be;if(Y.name!==this.name)throw Error("Mismatching Component "+Y.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=Y,this.shouldAutoInitialize()){if(function(fe){return"EAGER"===fe.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:Ae})}catch(Me){}try{for(var ze=(0,y.XA)(this.instancesDeferred.entries()),Fe=ze.next();!Fe.done;Fe=ze.next()){var nt=(0,y.CR)(Fe.value,2),Ve=nt[1],le=this.normalizeInstanceIdentifier(nt[0]);try{var Be=this.getOrInitializeService({instanceIdentifier:le});Ve.resolve(Be)}catch(Me){}}}catch(Me){ee={error:Me}}finally{try{Fe&&!Fe.done&&(be=ze.return)&&be.call(ze)}finally{if(ee)throw ee.error}}}},fe.prototype.clearInstance=function(Y){void 0===Y&&(Y=Ae),this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)},fe.prototype.delete=function(){return(0,y.mG)(this,void 0,void 0,function(){var Y;return(0,y.Jh)(this,function(ee){switch(ee.label){case 0:return Y=Array.from(this.instances.values()),[4,Promise.all((0,y.ev)((0,y.ev)([],(0,y.CR)(Y.filter(function(be){return"INTERNAL"in be}).map(function(be){return be.INTERNAL.delete()}))),(0,y.CR)(Y.filter(function(be){return"_delete"in be}).map(function(be){return be._delete()}))))];case 1:return ee.sent(),[2]}})})},fe.prototype.isComponentSet=function(){return null!=this.component},fe.prototype.isInitialized=function(Y){return void 0===Y&&(Y=Ae),this.instances.has(Y)},fe.prototype.getOptions=function(Y){return void 0===Y&&(Y=Ae),this.instancesOptions.get(Y)||{}},fe.prototype.initialize=function(Y){var ee,be;void 0===Y&&(Y={});var ze=Y.options,Fe=void 0===ze?{}:ze,nt=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(nt))throw Error(this.name+"("+nt+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var Oe=this.getOrInitializeService({instanceIdentifier:nt,options:Fe});try{for(var Ve=(0,y.XA)(this.instancesDeferred.entries()),le=Ve.next();!le.done;le=Ve.next()){var Be=(0,y.CR)(le.value,2),$e=Be[1];nt===this.normalizeInstanceIdentifier(Be[0])&&$e.resolve(Oe)}}catch(it){ee={error:it}}finally{try{le&&!le.done&&(be=Ve.return)&&be.call(Ve)}finally{if(ee)throw ee.error}}return Oe},fe.prototype.onInit=function(Y,ee){var be,ze=this.normalizeInstanceIdentifier(ee),Fe=null!==(be=this.onInitCallbacks.get(ze))&&void 0!==be?be:new Set;Fe.add(Y),this.onInitCallbacks.set(ze,Fe);var nt=this.instances.get(ze);return nt&&Y(nt,ze),function(){Fe.delete(Y)}},fe.prototype.invokeOnInitCallbacks=function(Y,ee){var be,ze,Fe=this.onInitCallbacks.get(ee);if(Fe)try{for(var nt=(0,y.XA)(Fe),Oe=nt.next();!Oe.done;Oe=nt.next()){var Ve=Oe.value;try{Ve(Y,ee)}catch(le){}}}catch(le){be={error:le}}finally{try{Oe&&!Oe.done&&(ze=nt.return)&&ze.call(nt)}finally{if(be)throw be.error}}},fe.prototype.getOrInitializeService=function(Y){var ee=Y.instanceIdentifier,be=Y.options,ze=void 0===be?{}:be,Fe=this.instances.get(ee);if(!Fe&&this.component&&(Fe=this.component.instanceFactory(this.container,{instanceIdentifier:Ie(ee),options:ze}),this.instances.set(ee,Fe),this.instancesOptions.set(ee,ze),this.invokeOnInitCallbacks(Fe,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,Fe)}catch(nt){}return Fe||null},fe.prototype.normalizeInstanceIdentifier=function(Y){return void 0===Y&&(Y=Ae),this.component?this.component.multipleInstances?Y:Ae:Y},fe.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},fe}();function Ie(fe){return fe===Ae?void 0:fe}var Qe=function(){function fe(Y){this.name=Y,this.providers=new Map}return fe.prototype.addComponent=function(Y){var ee=this.getProvider(Y.name);if(ee.isComponentSet())throw new Error("Component "+Y.name+" has already been registered with "+this.name);ee.setComponent(Y)},fe.prototype.addOrOverwriteComponent=function(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)},fe.prototype.getProvider=function(Y){if(this.providers.has(Y))return this.providers.get(Y);var ee=new A(Y,this);return this.providers.set(Y,ee),ee},fe.prototype.getProviders=function(){return Array.from(this.providers.values())},fe}()},5601:(Pt,Le,j)=>{"use strict";j.d(Le,{in:()=>S,Yd:()=>ke,Ub:()=>Qe,Am:()=>fe});const y=[];var S=(()=>{return(Y=S||(S={}))[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",S;var Y})();const J={debug:S.DEBUG,verbose:S.VERBOSE,info:S.INFO,warn:S.WARN,error:S.ERROR,silent:S.SILENT},Ae=S.INFO,A={[S.DEBUG]:"log",[S.VERBOSE]:"log",[S.INFO]:"info",[S.WARN]:"warn",[S.ERROR]:"error"},Ie=(Y,ee,...be)=>{if(ee<Y.logLevel)return;const ze=(new Date).toISOString(),Fe=A[ee];if(!Fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${ee})`);console[Fe](`[${ze}]  ${Y.name}:`,...be)};class ke{constructor(ee){this.name=ee,this._logLevel=Ae,this._logHandler=Ie,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(ee){if(!(ee in S))throw new TypeError(`Invalid value "${ee}" assigned to \`logLevel\``);this._logLevel=ee}setLogLevel(ee){this._logLevel="string"==typeof ee?J[ee]:ee}get logHandler(){return this._logHandler}set logHandler(ee){if("function"!=typeof ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(ee){this._userLogHandler=ee}debug(...ee){this._userLogHandler&&this._userLogHandler(this,S.DEBUG,...ee),this._logHandler(this,S.DEBUG,...ee)}log(...ee){this._userLogHandler&&this._userLogHandler(this,S.VERBOSE,...ee),this._logHandler(this,S.VERBOSE,...ee)}info(...ee){this._userLogHandler&&this._userLogHandler(this,S.INFO,...ee),this._logHandler(this,S.INFO,...ee)}warn(...ee){this._userLogHandler&&this._userLogHandler(this,S.WARN,...ee),this._logHandler(this,S.WARN,...ee)}error(...ee){this._userLogHandler&&this._userLogHandler(this,S.ERROR,...ee),this._logHandler(this,S.ERROR,...ee)}}function Qe(Y){y.forEach(ee=>{ee.setLogLevel(Y)})}function fe(Y,ee){for(const be of y){let ze=null;ee&&ee.level&&(ze=J[ee.level]),be.userLogHandler=null===Y?null:(Fe,nt,...Oe)=>{const Ve=Oe.map(le=>{if(null==le)return null;if("string"==typeof le)return le;if("number"==typeof le||"boolean"==typeof le)return le.toString();if(le instanceof Error)return le.message;try{return JSON.stringify(le)}catch(Be){return null}}).filter(le=>le).join(" ");nt>=(null!=ze?ze:Fe.logLevel)&&Y({level:S[nt].toLowerCase(),message:Ve,args:Oe,type:Fe.name})}}}},3854:(Pt,Le,j)=>{"use strict";j.d(Le,{BH:()=>ze,LL:()=>pe,ZR:()=>Ze,zI:()=>me,US:()=>Ie,tV:()=>fe,$s:()=>Xn,r3:()=>mr,Sg:()=>Fe,ne:()=>kt,vZ:()=>qt,ZB:()=>ee,pd:()=>qn,m9:()=>hr,z$:()=>nt,jU:()=>le,ru:()=>Be,d:()=>$e,xb:()=>nn,w1:()=>dt,hl:()=>ie,uI:()=>Oe,UG:()=>Ve,b$:()=>Me,G6:()=>Ot,Mn:()=>it,xO:()=>nr,zd:()=>Er,eu:()=>ue});const Ae=function(ve){const Se=[];let Re=0;for(let ut=0;ut<ve.length;ut++){let He=ve.charCodeAt(ut);He<128?Se[Re++]=He:He<2048?(Se[Re++]=He>>6|192,Se[Re++]=63&He|128):55296==(64512&He)&&ut+1<ve.length&&56320==(64512&ve.charCodeAt(ut+1))?(He=65536+((1023&He)<<10)+(1023&ve.charCodeAt(++ut)),Se[Re++]=He>>18|240,Se[Re++]=He>>12&63|128,Se[Re++]=He>>6&63|128,Se[Re++]=63&He|128):(Se[Re++]=He>>12|224,Se[Re++]=He>>6&63|128,Se[Re++]=63&He|128)}return Se},Ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ve,Se){if(!Array.isArray(ve))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Re=Se?this.byteToCharMapWebSafe_:this.byteToCharMap_,ut=[];for(let He=0;He<ve.length;He+=3){const yt=ve[He],en=He+1<ve.length,zn=en?ve[He+1]:0,Un=He+2<ve.length,dn=Un?ve[He+2]:0;let jr=(15&zn)<<2|dn>>6,Rn=63&dn;Un||(Rn=64,en||(jr=64)),ut.push(Re[yt>>2],Re[(3&yt)<<4|zn>>4],Re[jr],Re[Rn])}return ut.join("")},encodeString(ve,Se){return this.HAS_NATIVE_SUPPORT&&!Se?btoa(ve):this.encodeByteArray(Ae(ve),Se)},decodeString(ve,Se){return this.HAS_NATIVE_SUPPORT&&!Se?atob(ve):function(ve){const Se=[];let Re=0,ut=0;for(;Re<ve.length;){const He=ve[Re++];if(He<128)Se[ut++]=String.fromCharCode(He);else if(He>191&&He<224){const yt=ve[Re++];Se[ut++]=String.fromCharCode((31&He)<<6|63&yt)}else if(He>239&&He<365){const Un=((7&He)<<18|(63&ve[Re++])<<12|(63&ve[Re++])<<6|63&ve[Re++])-65536;Se[ut++]=String.fromCharCode(55296+(Un>>10)),Se[ut++]=String.fromCharCode(56320+(1023&Un))}else{const yt=ve[Re++],en=ve[Re++];Se[ut++]=String.fromCharCode((15&He)<<12|(63&yt)<<6|63&en)}}return Se.join("")}(this.decodeStringToByteArray(ve,Se))},decodeStringToByteArray(ve,Se){this.init_();const Re=Se?this.charToByteMapWebSafe_:this.charToByteMap_,ut=[];for(let He=0;He<ve.length;){const yt=Re[ve.charAt(He++)],zn=He<ve.length?Re[ve.charAt(He)]:0;++He;const dn=He<ve.length?Re[ve.charAt(He)]:64;++He;const kn=He<ve.length?Re[ve.charAt(He)]:64;if(++He,null==yt||null==zn||null==dn||null==kn)throw Error();ut.push(yt<<2|zn>>4),64!==dn&&(ut.push(zn<<4&240|dn>>2),64!==kn&&ut.push(dn<<6&192|kn))}return ut},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ve=0;ve<this.ENCODED_VALS.length;ve++)this.byteToCharMap_[ve]=this.ENCODED_VALS.charAt(ve),this.charToByteMap_[this.byteToCharMap_[ve]]=ve,this.byteToCharMapWebSafe_[ve]=this.ENCODED_VALS_WEBSAFE.charAt(ve),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ve]]=ve,ve>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ve)]=ve,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ve)]=ve)}}},Qe=function(ve){return function(ve){const Se=Ae(ve);return Ie.encodeByteArray(Se,!0)}(ve).replace(/\./g,"")},fe=function(ve){try{return Ie.decodeString(ve,!0)}catch(Se){console.error("base64Decode failed: ",Se)}return null};function ee(ve,Se){if(!(Se instanceof Object))return Se;switch(Se.constructor){case Date:return new Date(Se.getTime());case Object:void 0===ve&&(ve={});break;case Array:ve=[];break;default:return Se}for(const Re in Se)!Se.hasOwnProperty(Re)||!be(Re)||(ve[Re]=ee(ve[Re],Se[Re]));return ve}function be(ve){return"__proto__"!==ve}class ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Se,Re)=>{this.resolve=Se,this.reject=Re})}wrapCallback(Se){return(Re,ut)=>{Re?this.reject(Re):this.resolve(ut),"function"==typeof Se&&(this.promise.catch(()=>{}),1===Se.length?Se(Re):Se(Re,ut))}}}function Fe(ve,Se){if(ve.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ut=Se||"demo-project",He=ve.iat||0,yt=ve.sub||ve.user_id;if(!yt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const en=Object.assign({iss:`https://securetoken.google.com/${ut}`,aud:ut,iat:He,exp:He+3600,auth_time:He,sub:yt,user_id:yt,firebase:{sign_in_provider:"custom",identities:{}}},ve);return[Qe(JSON.stringify({alg:"none",type:"JWT"})),Qe(JSON.stringify(en)),""].join(".")}function nt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Oe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())}function Ve(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ve){return!1}}function le(){return"object"==typeof self&&self.self===self}function Be(){const ve="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ve&&void 0!==ve.id}function Me(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function $e(){return nt().indexOf("Electron/")>=0}function dt(){const ve=nt();return ve.indexOf("MSIE ")>=0||ve.indexOf("Trident/")>=0}function it(){return nt().indexOf("MSAppHost/")>=0}function Ot(){return!Ve()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ie(){return"object"==typeof indexedDB}function ue(){return new Promise((ve,Se)=>{try{let Re=!0;const ut="validate-browser-context-for-indexeddb-analytics-module",He=self.indexedDB.open(ut);He.onsuccess=()=>{He.result.close(),Re||self.indexedDB.deleteDatabase(ut),ve(!0)},He.onupgradeneeded=()=>{Re=!1},He.onerror=()=>{var yt;Se((null===(yt=He.error)||void 0===yt?void 0:yt.message)||"")}}catch(Re){Se(Re)}})}function me(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ze extends Error{constructor(Se,Re,ut){super(Re),this.code=Se,this.customData=ut,this.name="FirebaseError",Object.setPrototypeOf(this,Ze.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pe.prototype.create)}}class pe{constructor(Se,Re,ut){this.service=Se,this.serviceName=Re,this.errors=ut}create(Se,...Re){const ut=Re[0]||{},He=`${this.service}/${Se}`,yt=this.errors[Se],en=yt?function(ve,Se){return ve.replace(Ht,(Re,ut)=>{const He=Se[ut];return null!=He?String(He):`<${ut}?>`})}(yt,ut):"Error";return new Ze(He,`${this.serviceName}: ${en} (${He}).`,ut)}}const Ht=/\{\$([^}]+)}/g;function mr(ve,Se){return Object.prototype.hasOwnProperty.call(ve,Se)}function nn(ve){for(const Se in ve)if(Object.prototype.hasOwnProperty.call(ve,Se))return!1;return!0}function qt(ve,Se){if(ve===Se)return!0;const Re=Object.keys(ve),ut=Object.keys(Se);for(const He of Re){if(!ut.includes(He))return!1;const yt=ve[He],en=Se[He];if(Ar(yt)&&Ar(en)){if(!qt(yt,en))return!1}else if(yt!==en)return!1}for(const He of ut)if(!Re.includes(He))return!1;return!0}function Ar(ve){return null!==ve&&"object"==typeof ve}function nr(ve){const Se=[];for(const[Re,ut]of Object.entries(ve))Array.isArray(ut)?ut.forEach(He=>{Se.push(encodeURIComponent(Re)+"="+encodeURIComponent(He))}):Se.push(encodeURIComponent(Re)+"="+encodeURIComponent(ut));return Se.length?"&"+Se.join("&"):""}function Er(ve){const Se={};return ve.replace(/^\?/,"").split("&").forEach(ut=>{if(ut){const[He,yt]=ut.split("=");Se[decodeURIComponent(He)]=decodeURIComponent(yt)}}),Se}function qn(ve){const Se=ve.indexOf("?");if(!Se)return"";const Re=ve.indexOf("#",Se);return ve.substring(Se,Re>0?Re:void 0)}function kt(ve,Se){const Re=new wn(ve,Se);return Re.subscribe.bind(Re)}class wn{constructor(Se,Re){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Re,this.task.then(()=>{Se(this)}).catch(ut=>{this.error(ut)})}next(Se){this.forEachObserver(Re=>{Re.next(Se)})}error(Se){this.forEachObserver(Re=>{Re.error(Se)}),this.close(Se)}complete(){this.forEachObserver(Se=>{Se.complete()}),this.close()}subscribe(Se,Re,ut){let He;if(void 0===Se&&void 0===Re&&void 0===ut)throw new Error("Missing Observer.");He=function(ve,Se){if("object"!=typeof ve||null===ve)return!1;for(const Re of["next","error","complete"])if(Re in ve&&"function"==typeof ve[Re])return!0;return!1}(Se)?Se:{next:Se,error:Re,complete:ut},void 0===He.next&&(He.next=Tt),void 0===He.error&&(He.error=Tt),void 0===He.complete&&(He.complete=Tt);const yt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?He.error(this.finalError):He.complete()}catch(en){}}),this.observers.push(He),yt}unsubscribeOne(Se){void 0===this.observers||void 0===this.observers[Se]||(delete this.observers[Se],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Se){if(!this.finalized)for(let Re=0;Re<this.observers.length;Re++)this.sendOne(Re,Se)}sendOne(Se,Re){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Se])try{Re(this.observers[Se])}catch(ut){"undefined"!=typeof console&&console.error&&console.error(ut)}})}close(Se){this.finalized||(this.finalized=!0,void 0!==Se&&(this.finalError=Se),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tt(){}function Xn(ve,Se=1e3,Re=2){const ut=Se*Math.pow(Re,ve),He=Math.round(.5*ut*(Math.random()-.5)*2);return Math.min(144e5,ut+He)}function hr(ve){return ve&&ve._delegate?ve._delegate:ve}},2329:(Pt,Le,j)=>{"use strict";j.d(Le,{Mq:()=>y.getApp,C6:()=>y.getApps});var y=j(5452);(0,y.registerVersion)("firebase","9.1.3","app")},7841:(Pt,Le,j)=>{"use strict";j.d(Le,{Z:()=>y.Z});var y=j(4486);y.Z.registerVersion("firebase","9.1.3","app-compat")},4671:(Pt,Le,j)=>{"use strict";j.r(Le);var y=j(8239),S=j(4486),J=j(3854),Ae=j(5452),A=j(4762),Ie=j(5601),ke=j(6034);const nt=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Oe=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ve=new J.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Be=new Ie.Yd("@firebase/auth");function Me(_,...d){Be.logLevel<=Ie.in.ERROR&&Be.error(`Auth (${Ae.SDK_VERSION}): ${_}`,...d)}function $e(_,...d){throw Ot(_,...d)}function dt(_,...d){return Ot(_,...d)}function it(_,d,h){const b=Object.assign(Object.assign({},Oe()),{[d]:h});return new J.LL("auth","Firebase",b).create(d,{appName:_.name})}function zt(_,d,h){if(!(d instanceof h))throw h.name!==d.constructor.name&&$e(_,"argument-error"),it(_,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ot(_,...d){if("string"!=typeof _){const h=d[0],b=[...d.slice(1)];return b[0]&&(b[0].appName=_.name),_._errorFactory.create(h,...b)}return Ve.create(_,...d)}function ie(_,d,...h){if(!_)throw Ot(d,...h)}function ue(_){const d="INTERNAL ASSERTION FAILED: "+_;throw Me(d),new Error(d)}function me(_,d){_||ue(d)}const ye=new Map;function he(_){me(_ instanceof Function,"Expected a class definition");let d=ye.get(_);return d?(me(d instanceof _,"Instance stored in cache mismatched with class"),d):(d=new _,ye.set(_,d),d)}function Ge(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Ht(){return"http:"===Rt()||"https:"===Rt()}function Rt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class xn{constructor(d,h){this.shortDelay=d,this.longDelay=h,me(h>d,"Short delay should be less than long delay!"),this.isMobile=(0,J.uI)()||(0,J.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ht()||(0,J.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Xt(_,d){me(_.emulator,"Emulator should always be set here");const{url:h}=_.emulator;return d?`${h}${d.startsWith("/")?d.slice(1):d}`:h}class jn{static initialize(d,h,b){this.fetchImpl=d,h&&(this.headersImpl=h),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ue("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ue("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ue("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},mr=new xn(3e4,6e4);function Vn(_,d){return _.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:_.tenantId}):d}function nn(_,d,h,b){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,y.Z)(function*(_,d,h,b,G={}){return qt(_,G,()=>{let ae={},Ne={};b&&("GET"===d?Ne=b:ae={body:JSON.stringify(b)});const ct=(0,J.xO)(Object.assign({key:_.config.apiKey},Ne)).slice(1),Bt=new(jn.headers());return Bt.set("Content-Type","application/json"),Bt.set("X-Client-Version",_._getSdkClientVersion()),_.languageCode&&Bt.set("X-Firebase-Locale",_.languageCode),jn.fetch()(qn(_,_.config.apiHost,h,ct),Object.assign({method:d,headers:Bt,referrerPolicy:"no-referrer"},ae))})})).apply(this,arguments)}function qt(_,d,h){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,y.Z)(function*(_,d,h){_._canInitEmulator=!1;const b=Object.assign(Object.assign({},sr),d);try{const G=new Fr(_),ae=yield Promise.race([h(),G.promise]);G.clearNetworkTimeout();const Ne=yield ae.json();if("needConfirmation"in Ne)throw kt(_,"account-exists-with-different-credential",Ne);if(ae.ok&&!("errorMessage"in Ne))return Ne;{const ct=ae.ok?Ne.errorMessage:Ne.error.message,[Bt,tn]=ct.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Bt)throw kt(_,"credential-already-in-use",Ne);if("EMAIL_EXISTS"===Bt)throw kt(_,"email-already-in-use",Ne);const yn=b[Bt]||Bt.toLowerCase().replace(/[_\s]+/g,"-");if(tn)throw it(_,yn,tn);$e(_,yn)}}catch(G){if(G instanceof J.ZR)throw G;$e(_,"network-request-failed")}})).apply(this,arguments)}function nr(_,d,h,b){return Er.apply(this,arguments)}function Er(){return(Er=(0,y.Z)(function*(_,d,h,b,G={}){const ae=yield nn(_,d,h,b,G);return"mfaPendingCredential"in ae&&$e(_,"multi-factor-auth-required",{serverResponse:ae}),ae})).apply(this,arguments)}function qn(_,d,h,b){const G=`${d}${h}?${b}`;return _.config.emulator?Xt(_.config,G):`${_.config.apiScheme}://${G}`}class Fr{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((h,b)=>{this.timer=setTimeout(()=>b(dt(this.auth,"timeout")),mr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kt(_,d,h){const b={appName:_.name};h.email&&(b.email=h.email),h.phoneNumber&&(b.phoneNumber=h.phoneNumber);const G=dt(_,d,b);return G.customData._tokenResponse=h,G}function Wn(){return(Wn=(0,y.Z)(function*(_,d){return nn(_,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Jn(_,d){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,y.Z)(function*(_,d){return nn(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function vt(_,d){return Je.apply(this,arguments)}function Je(){return(Je=(0,y.Z)(function*(_,d){return nn(_,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function tt(_){if(_)try{const d=new Date(Number(_));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function wt(){return(wt=(0,y.Z)(function*(_,d=!1){const h=(0,J.m9)(_),b=yield h.getIdToken(d),G=Mt(b);ie(G&&G.exp&&G.auth_time&&G.iat,h.auth,"internal-error");const ae="object"==typeof G.firebase?G.firebase:void 0,Ne=null==ae?void 0:ae.sign_in_provider;return{claims:G,token:b,authTime:tt(pn(G.auth_time)),issuedAtTime:tt(pn(G.iat)),expirationTime:tt(pn(G.exp)),signInProvider:Ne||null,signInSecondFactor:(null==ae?void 0:ae.sign_in_second_factor)||null}})).apply(this,arguments)}function pn(_){return 1e3*Number(_)}function Mt(_){const[d,h,b]=_.split(".");if(void 0===d||void 0===h||void 0===b)return Me("JWT malformed, contained fewer than 3 sections"),null;try{const G=(0,J.tV)(h);return G?JSON.parse(G):(Me("Failed to decode base64 JWT payload"),null)}catch(G){return Me("Caught error parsing JWT payload as JSON",G),null}}function Kn(_,d){return vr.apply(this,arguments)}function vr(){return(vr=(0,y.Z)(function*(_,d,h=!1){if(h)return d;try{return yield d}catch(b){throw b instanceof J.ZR&&Xn(b)&&_.auth.currentUser===_&&(yield _.auth.signOut()),b}})).apply(this,arguments)}function Xn({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class En{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var h;if(d){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const G=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,G)}}schedule(d=!1){var h=this;if(!this.isRunning)return;const b=this.getInterval(d);this.timerId=setTimeout((0,y.Z)(function*(){yield h.iteration()}),b)}iteration(){var d=this;return(0,y.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h.code&&d.schedule(!0))}d.schedule()})()}}class Cr{constructor(d,h){this.createdAt=d,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=tt(this.lastLoginAt),this.creationTime=tt(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function hr(_){return ve.apply(this,arguments)}function ve(){return(ve=(0,y.Z)(function*(_){var d;const h=_.auth,b=yield _.getIdToken(),G=yield Kn(_,vt(h,{idToken:b}));ie(null==G?void 0:G.users.length,h,"internal-error");const ae=G.users[0];_._notifyReloadListener(ae);const Ne=(null===(d=ae.providerUserInfo)||void 0===d?void 0:d.length)?He(ae.providerUserInfo):[],ct=ut(_.providerData,Ne),yn=!!_.isAnonymous&&!(_.email&&ae.passwordHash||(null==ct?void 0:ct.length)),Dn={uid:ae.localId,displayName:ae.displayName||null,photoURL:ae.photoUrl||null,email:ae.email||null,emailVerified:ae.emailVerified||!1,phoneNumber:ae.phoneNumber||null,tenantId:ae.tenantId||null,providerData:ct,metadata:new Cr(ae.createdAt,ae.lastLoginAt),isAnonymous:yn};Object.assign(_,Dn)})).apply(this,arguments)}function Re(){return(Re=(0,y.Z)(function*(_){const d=(0,J.m9)(_);yield hr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function ut(_,d){return[..._.filter(b=>!d.some(G=>G.providerId===b.providerId)),...d]}function He(_){return _.map(d=>{var{providerId:h}=d,b=(0,A._T)(d,["providerId"]);return{providerId:h,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function en(){return(en=(0,y.Z)(function*(_,d){const h=yield qt(_,{},()=>{const b=(0,J.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:G,apiKey:ae}=_.config,Ne=qn(_,G,"/v1/token",`key=${ae}`);return jn.fetch()(Ne,{method:"POST",headers:{"X-Client-Version":_._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:b})});return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}class zn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){ie(d.idToken,"internal-error"),ie(void 0!==d.idToken,"internal-error"),ie(void 0!==d.refreshToken,"internal-error");const h="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function(_){const d=Mt(_);return ie(d,"internal-error"),ie(void 0!==d.exp,"internal-error"),ie(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,h)}getToken(d,h=!1){var b=this;return(0,y.Z)(function*(){return ie(!b.accessToken||b.refreshToken,d,"user-token-expired"),h||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(d,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,h){var b=this;return(0,y.Z)(function*(){const{accessToken:G,refreshToken:ae,expiresIn:Ne}=yield function(_,d){return en.apply(this,arguments)}(d,h);b.updateTokensAndExpiration(G,ae,Number(Ne))})()}updateTokensAndExpiration(d,h,b){this.refreshToken=h||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(d,h){const{refreshToken:b,accessToken:G,expirationTime:ae}=h,Ne=new zn;return b&&(ie("string"==typeof b,"internal-error",{appName:d}),Ne.refreshToken=b),G&&(ie("string"==typeof G,"internal-error",{appName:d}),Ne.accessToken=G),ae&&(ie("number"==typeof ae,"internal-error",{appName:d}),Ne.expirationTime=ae),Ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new zn,this.toJSON())}_performRefresh(){return ue("not implemented")}}function Un(_,d){ie("string"==typeof _||void 0===_,"internal-error",{appName:d})}class dn{constructor(d){var{uid:h,auth:b,stsTokenManager:G}=d,ae=(0,A._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new En(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=b,this.stsTokenManager=G,this.accessToken=G.accessToken,this.displayName=ae.displayName||null,this.email=ae.email||null,this.emailVerified=ae.emailVerified||!1,this.phoneNumber=ae.phoneNumber||null,this.photoURL=ae.photoURL||null,this.isAnonymous=ae.isAnonymous||!1,this.tenantId=ae.tenantId||null,this.metadata=new Cr(ae.createdAt||void 0,ae.lastLoginAt||void 0)}getIdToken(d){var h=this;return(0,y.Z)(function*(){const b=yield Kn(h,h.stsTokenManager.getToken(h.auth,d));return ie(b,h.auth,"internal-error"),h.accessToken!==b&&(h.accessToken=b,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),b})()}getIdTokenResult(d){return function(_){return wt.apply(this,arguments)}(this,d)}reload(){return function(_){return Re.apply(this,arguments)}(this)}_assign(d){this!==d&&(ie(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(h=>Object.assign({},h)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new dn(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,h=!1){var b=this;return(0,y.Z)(function*(){let G=!1;d.idToken&&d.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(d),G=!0),h&&(yield hr(b)),yield b.auth._persistUserIfCurrent(b),G&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var d=this;return(0,y.Z)(function*(){const h=yield d.getIdToken();return yield Kn(d,function(_,d){return Wn.apply(this,arguments)}(d.auth,{idToken:h})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,h){var b,G,ae,Ne,ct,Bt,tn,yn;const Dn=null!==(b=h.displayName)&&void 0!==b?b:void 0,bi=null!==(G=h.email)&&void 0!==G?G:void 0,so=null!==(ae=h.phoneNumber)&&void 0!==ae?ae:void 0,nu=null!==(Ne=h.photoURL)&&void 0!==Ne?Ne:void 0,yh=null!==(ct=h.tenantId)&&void 0!==ct?ct:void 0,Yu=null!==(Bt=h._redirectEventId)&&void 0!==Bt?Bt:void 0,Mo=null!==(tn=h.createdAt)&&void 0!==tn?tn:void 0,xt=null!==(yn=h.lastLoginAt)&&void 0!==yn?yn:void 0,{uid:wl,emailVerified:da,isAnonymous:yd,providerData:bl,stsTokenManager:ru}=h;ie(wl&&ru,d,"internal-error");const lp=zn.fromJSON(this.name,ru);ie("string"==typeof wl,d,"internal-error"),Un(Dn,d.name),Un(bi,d.name),ie("boolean"==typeof da,d,"internal-error"),ie("boolean"==typeof yd,d,"internal-error"),Un(so,d.name),Un(nu,d.name),Un(yh,d.name),Un(Yu,d.name),Un(Mo,d.name),Un(xt,d.name);const iu=new dn({uid:wl,auth:d,email:bi,emailVerified:da,displayName:Dn,isAnonymous:yd,photoURL:nu,phoneNumber:so,tenantId:yh,stsTokenManager:lp,createdAt:Mo,lastLoginAt:xt});return bl&&Array.isArray(bl)&&(iu.providerData=bl.map(_h=>Object.assign({},_h))),Yu&&(iu._redirectEventId=Yu),iu}static _fromIdTokenResponse(d,h,b=!1){return(0,y.Z)(function*(){const G=new zn;G.updateFromServerResponse(h);const ae=new dn({uid:h.localId,auth:d,stsTokenManager:G,isAnonymous:b});return yield hr(ae),ae})()}}const kn=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.Z)(function*(){return!0})()}_set(h,b){var G=this;return(0,y.Z)(function*(){G.storage[h]=b})()}_get(h){var b=this;return(0,y.Z)(function*(){const G=b.storage[h];return void 0===G?null:G})()}_remove(h){var b=this;return(0,y.Z)(function*(){delete b.storage[h]})()}_addListener(h,b){}_removeListener(h,b){}}return _.type="NONE",_})();function jr(_,d,h){return`firebase:${_}:${d}:${h}`}class Rn{constructor(d,h,b){this.persistence=d,this.auth=h,this.userKey=b;const{config:G,name:ae}=this.auth;this.fullUserKey=jr(this.userKey,G.apiKey,ae),this.fullPersistenceKey=jr("persistence",G.apiKey,ae),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,y.Z)(function*(){const h=yield d.persistence._get(d.fullUserKey);return h?dn._fromJSON(d.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var h=this;return(0,y.Z)(function*(){if(h.persistence===d)return;const b=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=d,b?h.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,h,b="authUser"){return(0,y.Z)(function*(){if(!h.length)return new Rn(he(kn),d,b);const G=(yield Promise.all(h.map(function(){var tn=(0,y.Z)(function*(yn){if(yield yn._isAvailable())return yn});return function(yn){return tn.apply(this,arguments)}}()))).filter(tn=>tn);let ae=G[0]||he(kn);const Ne=jr(b,d.config.apiKey,d.name);let ct=null;for(const tn of h)try{const yn=yield tn._get(Ne);if(yn){const Dn=dn._fromJSON(d,yn);tn!==ae&&(ct=Dn),ae=tn;break}}catch(yn){}const Bt=G.filter(tn=>tn._shouldAllowMigration);return ae._shouldAllowMigration&&Bt.length?(ae=Bt[0],ct&&(yield ae._set(Ne,ct.toJSON())),yield Promise.all(h.map(function(){var tn=(0,y.Z)(function*(yn){if(yn!==ae)try{yield yn._remove(Ne)}catch(Dn){}});return function(yn){return tn.apply(this,arguments)}}())),new Rn(ae,d,b)):new Rn(ae,d,b)})()}}function oi(_){const d=_.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Ei(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(hn(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(mi(d))return"Blackberry";if(Ir(d))return"Webos";if(ti(d))return"Safari";if((d.includes("chrome/")||zi(d))&&!d.includes("edge/"))return"Chrome";if(Ci(d))return"Android";{const b=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function hn(_=(0,J.z$)()){return/firefox\//i.test(_)}function ti(_=(0,J.z$)()){const d=_.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function zi(_=(0,J.z$)()){return/crios\//i.test(_)}function Ei(_=(0,J.z$)()){return/iemobile/i.test(_)}function Ci(_=(0,J.z$)()){return/android/i.test(_)}function mi(_=(0,J.z$)()){return/blackberry/i.test(_)}function Ir(_=(0,J.z$)()){return/webos/i.test(_)}function rn(_=(0,J.z$)()){return/iphone|ipad|ipod/i.test(_)}function ns(_=(0,J.z$)()){return rn(_)||Ci(_)||Ir(_)||mi(_)||/windows phone/i.test(_)||Ei(_)}function Pr(_,d=[]){let h;switch(_){case"Browser":h=oi((0,J.z$)());break;case"Worker":h=`${oi((0,J.z$)())}-${_}`;break;default:h=_}const b=d.length?d.join(","):"FirebaseCore-web";return`${h}/JsCore/${Ae.SDK_VERSION}/${b}`}class or{constructor(d,h){this.app=d,this.config=h,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Or(this),this.idTokenSubscription=new Or(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ve,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=h.sdkClientVersion}_initializeWithPersistence(d,h){var b=this;return h&&(this._popupRedirectResolver=he(h)),this._initializationPromise=this.queue((0,y.Z)(function*(){var G;b._deleted||(b.persistenceManager=yield Rn.create(b,d),!b._deleted&&((null===(G=b._popupRedirectResolver)||void 0===G?void 0:G._shouldInitProactively)&&(yield b._popupRedirectResolver._initialize(b)),yield b.initializeCurrentUser(h),!b._deleted&&(b._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,y.Z)(function*(){if(d._deleted)return;const h=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||h){if(d.currentUser&&h&&d.currentUser.uid===h.uid)return d._currentUser._assign(h),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(h)}})()}initializeCurrentUser(d){var h=this;return(0,y.Z)(function*(){var b;let G=yield h.assertedPersistence.getCurrentUser();if(d&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const ae=null===(b=h.redirectUser)||void 0===b?void 0:b._redirectEventId,Ne=null==G?void 0:G._redirectEventId,ct=yield h.tryRedirectSignIn(d);(!ae||ae===Ne)&&(null==ct?void 0:ct.user)&&(G=ct.user)}return G?G._redirectEventId?(ie(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===G._redirectEventId?h.directlySetCurrentUser(G):h.reloadAndSetCurrentUserOrClear(G)):h.reloadAndSetCurrentUserOrClear(G):h.directlySetCurrentUser(null)})()}tryRedirectSignIn(d){var h=this;return(0,y.Z)(function*(){let b=null;try{b=yield h._popupRedirectResolver._completeRedirectFn(h,d,!0)}catch(G){yield h._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(d){var h=this;return(0,y.Z)(function*(){try{yield hr(d)}catch(b){if("auth/network-request-failed"!==b.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var d=this;return(0,y.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var h=this;return(0,y.Z)(function*(){const b=d?(0,J.m9)(d):null;return b&&ie(b.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(b&&b._clone(h))})()}_updateCurrentUser(d){var h=this;return(0,y.Z)(function*(){if(!h._deleted)return d&&ie(h.tenantId===d.tenantId,h,"tenant-id-mismatch"),h.queue((0,y.Z)(function*(){yield h.directlySetCurrentUser(d),h.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,y.Z)(function*(){return(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null)})()}setPersistence(d){var h=this;return this.queue((0,y.Z)(function*(){yield h.assertedPersistence.setPersistence(he(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new J.LL("auth","Firebase",d())}onAuthStateChanged(d,h,b){return this.registerStateListener(this.authStateSubscription,d,h,b)}onIdTokenChanged(d,h,b){return this.registerStateListener(this.idTokenSubscription,d,h,b)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,h){var b=this;return(0,y.Z)(function*(){const G=yield b.getOrInitRedirectPersistenceManager(h);return null===d?G.removeCurrentUser():G.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var h=this;return(0,y.Z)(function*(){if(!h.redirectPersistenceManager){const b=d&&he(d)||h._popupRedirectResolver;ie(b,h,"argument-error"),h.redirectPersistenceManager=yield Rn.create(h,[he(b._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(d){var h=this;return(0,y.Z)(function*(){var b,G;return h._isInitialized&&(yield h.queue((0,y.Z)(function*(){}))),(null===(b=h._currentUser)||void 0===b?void 0:b._redirectEventId)===d?h._currentUser:(null===(G=h.redirectUser)||void 0===G?void 0:G._redirectEventId)===d?h.redirectUser:null})()}_persistUserIfCurrent(d){var h=this;return(0,y.Z)(function*(){if(d===h.currentUser)return h.queue((0,y.Z)(function*(){return h.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(h=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,h,b,G){if(this._deleted)return()=>{};const ae="function"==typeof h?h:h.next.bind(h),Ne=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(Ne,this,"internal-error"),Ne.then(()=>ae(this.currentUser)),"function"==typeof h?d.addObserver(h,b,G):d.addObserver(h)}directlySetCurrentUser(d){var h=this;return(0,y.Z)(function*(){h.currentUser&&h.currentUser!==d&&(h._currentUser._stopProactiveRefresh(),d&&h.isProactiveRefreshEnabled&&d._startProactiveRefresh()),h.currentUser=d,d?yield h.assertedPersistence.setCurrentUser(d):yield h.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Pr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function An(_){return(0,J.m9)(_)}class Or{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,J.ne)(h=>this.observer=h)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Lr(_){const d=_.indexOf(":");return d<0?"":_.substr(0,d+1)}function on(_){if(!_)return null;const d=Number(_);return isNaN(d)?null:d}class Cn{constructor(d,h){this.providerId=d,this.signInMethod=h}toJSON(){return ue("not implemented")}_getIdTokenResponse(d){return ue("not implemented")}_linkToIdToken(d,h){return ue("not implemented")}_getReauthenticationResolver(d){return ue("not implemented")}}function Yr(_,d){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,y.Z)(function*(_,d){return nn(_,"POST","/v1/accounts:resetPassword",Vn(_,d))})).apply(this,arguments)}function ji(_,d){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,y.Z)(function*(_,d){return nn(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Qr(_,d){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,y.Z)(function*(_,d){return nn(_,"POST","/v1/accounts:update",Vn(_,d))})).apply(this,arguments)}function ai(){return(ai=(0,y.Z)(function*(_,d){return nr(_,"POST","/v1/accounts:signInWithPassword",Vn(_,d))})).apply(this,arguments)}function ui(_,d){return $r.apply(this,arguments)}function $r(){return($r=(0,y.Z)(function*(_,d){return nn(_,"POST","/v1/accounts:sendOobCode",Vn(_,d))})).apply(this,arguments)}function mn(_,d){return rr.apply(this,arguments)}function rr(){return(rr=(0,y.Z)(function*(_,d){return ui(_,d)})).apply(this,arguments)}function Xe(_,d){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,y.Z)(function*(_,d){return ui(_,d)})).apply(this,arguments)}function Z(_,d){return oe.apply(this,arguments)}function oe(){return(oe=(0,y.Z)(function*(_,d){return ui(_,d)})).apply(this,arguments)}function ne(_,d){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,y.Z)(function*(_,d){return ui(_,d)})).apply(this,arguments)}function St(){return(St=(0,y.Z)(function*(_,d){return nr(_,"POST","/v1/accounts:signInWithEmailLink",Vn(_,d))})).apply(this,arguments)}function Bn(){return(Bn=(0,y.Z)(function*(_,d){return nr(_,"POST","/v1/accounts:signInWithEmailLink",Vn(_,d))})).apply(this,arguments)}class fr extends Cn{constructor(d,h,b,G=null){super("password",b),this._email=d,this._password=h,this._tenantId=G}static _fromEmailAndPassword(d,h){return new fr(d,h,"password")}static _fromEmailAndCode(d,h,b=null){return new fr(d,h,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d;if((null==h?void 0:h.email)&&(null==h?void 0:h.password)){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(d){var h=this;return(0,y.Z)(function*(){switch(h.signInMethod){case"password":return function(_,d){return ai.apply(this,arguments)}(d,{returnSecureToken:!0,email:h._email,password:h._password});case"emailLink":return function(_,d){return St.apply(this,arguments)}(d,{email:h._email,oobCode:h._password});default:$e(d,"internal-error")}})()}_linkToIdToken(d,h){var b=this;return(0,y.Z)(function*(){switch(b.signInMethod){case"password":return ji(d,{idToken:h,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function(_,d){return Bn.apply(this,arguments)}(d,{idToken:h,email:b._email,oobCode:b._password});default:$e(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Tn(_,d){return ls.apply(this,arguments)}function ls(){return(ls=(0,y.Z)(function*(_,d){return nr(_,"POST","/v1/accounts:signInWithIdp",Vn(_,d))})).apply(this,arguments)}class Zn extends Cn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const h=new Zn(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(h.idToken=d.idToken),d.accessToken&&(h.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(h.nonce=d.nonce),d.pendingToken&&(h.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(h.accessToken=d.oauthToken,h.secret=d.oauthTokenSecret):$e("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:b,signInMethod:G}=h,ae=(0,A._T)(h,["providerId","signInMethod"]);if(!b||!G)return null;const Ne=new Zn(b,G);return Ne.idToken=ae.idToken||void 0,Ne.accessToken=ae.accessToken||void 0,Ne.secret=ae.secret,Ne.nonce=ae.nonce,Ne.pendingToken=ae.pendingToken||null,Ne}_getIdTokenResponse(d){return Tn(d,this.buildRequest())}_linkToIdToken(d,h){const b=this.buildRequest();return b.idToken=h,Tn(d,b)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,Tn(d,h)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),d.postBody=(0,J.xO)(h)}return d}}function Mi(_,d){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,y.Z)(function*(_,d){return nn(_,"POST","/v1/accounts:sendVerificationCode",Vn(_,d))})).apply(this,arguments)}function Nr(){return(Nr=(0,y.Z)(function*(_,d){return nr(_,"POST","/v1/accounts:signInWithPhoneNumber",Vn(_,d))})).apply(this,arguments)}function rs(){return(rs=(0,y.Z)(function*(_,d){const h=yield nr(_,"POST","/v1/accounts:signInWithPhoneNumber",Vn(_,d));if(h.temporaryProof)throw kt(_,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const Zs={USER_NOT_FOUND:"user-not-found"};function oo(){return(oo=(0,y.Z)(function*(_,d){return nr(_,"POST","/v1/accounts:signInWithPhoneNumber",Vn(_,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Zs)})).apply(this,arguments)}class _i extends Cn{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,h){return new _i({verificationId:d,verificationCode:h})}static _fromTokenResponse(d,h){return new _i({phoneNumber:d,temporaryProof:h})}_getIdTokenResponse(d){return function(_,d){return Nr.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,h){return function(_,d){return rs.apply(this,arguments)}(d,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function(_,d){return oo.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:h,verificationId:b,verificationCode:G}=this.params;return d&&h?{temporaryProof:d,phoneNumber:h}:{sessionInfo:b,code:G}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:h,verificationCode:b,phoneNumber:G,temporaryProof:ae}=d;return b||h||G||ae?new _i({verificationId:h,verificationCode:b,phoneNumber:G,temporaryProof:ae}):null}}class Wr{constructor(d){var h,b,G,ae,Ne,ct;const Bt=(0,J.zd)((0,J.pd)(d)),tn=null!==(h=Bt.apiKey)&&void 0!==h?h:null,yn=null!==(b=Bt.oobCode)&&void 0!==b?b:null,Dn=function(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(G=Bt.mode)&&void 0!==G?G:null);ie(tn&&yn&&Dn,"argument-error"),this.apiKey=tn,this.operation=Dn,this.code=yn,this.continueUrl=null!==(ae=Bt.continueUrl)&&void 0!==ae?ae:null,this.languageCode=null!==(Ne=Bt.languageCode)&&void 0!==Ne?Ne:null,this.tenantId=null!==(ct=Bt.tenantId)&&void 0!==ct?ct:null}static parseLink(d){const h=function(_){const d=(0,J.zd)((0,J.pd)(_)).link,h=d?(0,J.zd)((0,J.pd)(d)).deep_link_id:null,b=(0,J.zd)((0,J.pd)(_)).deep_link_id;return(b?(0,J.zd)((0,J.pd)(b)).link:null)||b||h||d||_}(d);try{return new Wr(h)}catch(b){return null}}}let ys=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(h,b){return fr._fromEmailAndPassword(h,b)}static credentialWithLink(h,b){const G=Wr.parseLink(b);return ie(G,"argument-error"),fr._fromEmailAndCode(h,G.code,G.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Ii{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Wi extends Ii{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class ci extends Wi{static credentialFromJSON(d){const h="string"==typeof d?JSON.parse(d):d;return ie("providerId"in h&&"signInMethod"in h,"argument-error"),Zn._fromParams(h)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return ie(d.idToken||d.accessToken,"argument-error"),Zn._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return ci.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return ci.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:h,oauthAccessToken:b,oauthTokenSecret:G,pendingToken:ae,nonce:Ne,providerId:ct}=d;if(!b&&!G&&!h&&!ae||!ct)return null;try{return new ci(ct)._credential({idToken:h,accessToken:b,nonce:Ne,pendingToken:ae})}catch(Bt){return null}}}let is=(()=>{class _ extends Wi{constructor(){super("facebook.com")}static credential(h){return Zn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return _.credentialFromTaggedObject(h)}static credentialFromError(h){return _.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return _.credential(h.oauthAccessToken)}catch(b){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),js=(()=>{class _ extends Wi{constructor(){super("google.com"),this.addScope("profile")}static credential(h,b){return Zn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:b})}static credentialFromResult(h){return _.credentialFromTaggedObject(h)}static credentialFromError(h){return _.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:b,oauthAccessToken:G}=h;if(!b&&!G)return null;try{return _.credential(b,G)}catch(ae){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Ki=(()=>{class _ extends Wi{constructor(){super("github.com")}static credential(h){return Zn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return _.credentialFromTaggedObject(h)}static credentialFromError(h){return _.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return _.credential(h.oauthAccessToken)}catch(b){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Hi extends Cn{constructor(d,h){super(d,d),this.pendingToken=h}_getIdTokenResponse(d){return Tn(d,this.buildRequest())}_linkToIdToken(d,h){const b=this.buildRequest();return b.idToken=h,Tn(d,b)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,Tn(d,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:b,signInMethod:G,pendingToken:ae}=h;return b&&G&&ae&&b===G?new Hi(b,ae):null}static _create(d,h){return new Hi(d,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let di=(()=>{class _ extends Wi{constructor(){super("twitter.com")}static credential(h,b){return Zn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:b})}static credentialFromResult(h){return _.credentialFromTaggedObject(h)}static credentialFromError(h){return _.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:b,oauthTokenSecret:G}=h;if(!b||!G)return null;try{return _.credential(b,G)}catch(ae){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function _s(_,d){return hi.apply(this,arguments)}function hi(){return(hi=(0,y.Z)(function*(_,d){return nr(_,"POST","/v1/accounts:signUp",Vn(_,d))})).apply(this,arguments)}class ri{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,h,b,G=!1){return(0,y.Z)(function*(){const ae=yield dn._fromIdTokenResponse(d,b,G),Ne=ds(b);return new ri({user:ae,providerId:Ne,_tokenResponse:b,operationType:h})})()}static _forOperation(d,h,b){return(0,y.Z)(function*(){yield d._updateTokensIfNecessary(b,!0);const G=ds(b);return new ri({user:d,providerId:G,_tokenResponse:b,operationType:h})})()}}function ds(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function ws(){return(ws=(0,y.Z)(function*(_){var d;const h=An(_);if(yield h._initializationPromise,null===(d=h.currentUser)||void 0===d?void 0:d.isAnonymous)return new ri({user:h.currentUser,providerId:null,operationType:"signIn"});const b=yield _s(h,{returnSecureToken:!0}),G=yield ri._fromIdTokenResponse(h,"signIn",b,!0);return yield h._updateCurrentUser(G.user),G})).apply(this,arguments)}class Yi extends J.ZR{constructor(d,h,b,G){var ae;super(h.code,h.message),this.operationType=b,this.user=G,this.name="FirebaseError",Object.setPrototypeOf(this,Yi.prototype),this.appName=d.name,this.code=h.code,this.tenantId=null!==(ae=d.tenantId)&&void 0!==ae?ae:void 0,this.serverResponse=h.customData.serverResponse}static _fromErrorAndOperation(d,h,b,G){return new Yi(d,h,b,G)}}function Ni(_,d,h,b){return("reauthenticate"===d?h._getReauthenticationResolver(_):h._getIdTokenResponse(_)).catch(ae=>{throw"auth/multi-factor-auth-required"===ae.code?Yi._fromErrorAndOperation(_,ae,d,b):ae})}function ki(_){return new Set(_.map(({providerId:d})=>d).filter(d=>!!d))}function bs(){return(bs=(0,y.Z)(function*(_,d){const h=(0,J.m9)(_);yield L(!0,h,d);const{providerUserInfo:b}=yield Jn(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[d]}),G=ki(b||[]);return h.providerData=h.providerData.filter(ae=>G.has(ae.providerId)),G.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h})).apply(this,arguments)}function F(_,d){return K.apply(this,arguments)}function K(){return(K=(0,y.Z)(function*(_,d,h=!1){const b=yield Kn(_,d._linkToIdToken(_.auth,yield _.getIdToken()),h);return ri._forOperation(_,"link",b)})).apply(this,arguments)}function L(_,d,h){return te.apply(this,arguments)}function te(){return(te=(0,y.Z)(function*(_,d,h){yield hr(d);const G=!1===_?"provider-already-linked":"no-such-provider";ie(ki(d.providerData).has(h)===_,d.auth,G)})).apply(this,arguments)}function xe(_,d){return ot.apply(this,arguments)}function ot(){return(ot=(0,y.Z)(function*(_,d,h=!1){const{auth:b}=_,G="reauthenticate";try{const ae=yield Kn(_,Ni(b,G,d,_),h);ie(ae.idToken,b,"internal-error");const Ne=Mt(ae.idToken);ie(Ne,b,"internal-error");const{sub:ct}=Ne;return ie(_.uid===ct,b,"user-mismatch"),ri._forOperation(_,G,ae)}catch(ae){throw"auth/user-not-found"===(null==ae?void 0:ae.code)&&$e(b,"user-mismatch"),ae}})).apply(this,arguments)}function _t(_,d){return O.apply(this,arguments)}function O(){return(O=(0,y.Z)(function*(_,d,h=!1){const b="signIn",G=yield Ni(_,b,d),ae=yield ri._fromIdTokenResponse(_,b,G);return h||(yield _._updateCurrentUser(ae.user)),ae})).apply(this,arguments)}function x(_,d){return T.apply(this,arguments)}function T(){return(T=(0,y.Z)(function*(_,d){return _t(An(_),d)})).apply(this,arguments)}function W(_,d){return qe.apply(this,arguments)}function qe(){return(qe=(0,y.Z)(function*(_,d){const h=(0,J.m9)(_);return yield L(!1,h,d.providerId),F(h,d)})).apply(this,arguments)}function ft(_,d){return un.apply(this,arguments)}function un(){return(un=(0,y.Z)(function*(_,d){return xe((0,J.m9)(_),d)})).apply(this,arguments)}function yr(_,d){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,y.Z)(function*(_,d){return nr(_,"POST","/v1/accounts:signInWithCustomToken",Vn(_,d))})).apply(this,arguments)}function kr(){return(kr=(0,y.Z)(function*(_,d){const h=An(_),b=yield yr(h,{token:d,returnSecureToken:!0}),G=yield ri._fromIdTokenResponse(h,"signIn",b);return yield h._updateCurrentUser(G.user),G})).apply(this,arguments)}class xi{constructor(d,h){this.factorId=d,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(d,h){return"phoneInfo"in h?ii._fromServerResponse(d,h):$e(d,"internal-error")}}class ii extends xi{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,h){return new ii(h)}}function fi(_,d,h){var b;ie((null===(b=h.url)||void 0===b?void 0:b.length)>0,_,"invalid-continue-uri"),ie(void 0===h.dynamicLinkDomain||h.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),d.continueUrl=h.url,d.dynamicLinkDomain=h.dynamicLinkDomain,d.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(ie(h.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),d.iOSBundleId=h.iOS.bundleId),h.android&&(ie(h.android.packageName.length>0,_,"missing-android-pkg-name"),d.androidInstallApp=h.android.installApp,d.androidMinimumVersionCode=h.android.minimumVersion,d.androidPackageName=h.android.packageName)}function bo(){return(bo=(0,y.Z)(function*(_,d,h){const b=(0,J.m9)(_),G={requestType:"PASSWORD_RESET",email:d};h&&fi(b,G,h),yield Xe(b,G)})).apply(this,arguments)}function Vr(){return(Vr=(0,y.Z)(function*(_,d,h){yield Yr((0,J.m9)(_),{oobCode:d,newPassword:h})})).apply(this,arguments)}function $s(){return($s=(0,y.Z)(function*(_,d){yield Qr((0,J.m9)(_),{oobCode:d})})).apply(this,arguments)}function In(_,d){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,y.Z)(function*(_,d){const h=(0,J.m9)(_),b=yield Yr(h,{oobCode:d}),G=b.requestType;switch(ie(G,h,"internal-error"),G){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(b.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(b.mfaInfo,h,"internal-error");default:ie(b.email,h,"internal-error")}let ae=null;return b.mfaInfo&&(ae=xi._fromServerResponse(An(h),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:ae},operation:G}})).apply(this,arguments)}function lo(){return(lo=(0,y.Z)(function*(_,d){const{data:h}=yield In((0,J.m9)(_),d);return h.email})).apply(this,arguments)}function Co(){return(Co=(0,y.Z)(function*(_,d,h){const b=An(_),G=yield _s(b,{returnSecureToken:!0,email:d,password:h}),ae=yield ri._fromIdTokenResponse(b,"signIn",G);return yield b._updateCurrentUser(ae.user),ae})).apply(this,arguments)}function bt(){return(bt=(0,y.Z)(function*(_,d,h){const b=(0,J.m9)(_),G={requestType:"EMAIL_SIGNIN",email:d};ie(h.handleCodeInApp,b,"argument-error"),h&&fi(b,G,h),yield Z(b,G)})).apply(this,arguments)}function Xr(){return(Xr=(0,y.Z)(function*(_,d,h){const b=(0,J.m9)(_),G=ys.credentialWithLink(d,h||Ge());return ie(G._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),x(b,G)})).apply(this,arguments)}function co(_,d){return ss.apply(this,arguments)}function ss(){return(ss=(0,y.Z)(function*(_,d){return nn(_,"POST","/v1/accounts:createAuthUri",Vn(_,d))})).apply(this,arguments)}function Ws(){return(Ws=(0,y.Z)(function*(_,d){const b={identifier:d,continueUri:Ht()?Ge():"http://localhost"},{signinMethods:G}=yield co((0,J.m9)(_),b);return G||[]})).apply(this,arguments)}function Gs(){return(Gs=(0,y.Z)(function*(_,d){const h=(0,J.m9)(_),G={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};d&&fi(h.auth,G,d);const{email:ae}=yield mn(h.auth,G);ae!==_.email&&(yield _.reload())})).apply(this,arguments)}function Qi(){return(Qi=(0,y.Z)(function*(_,d,h){const b=(0,J.m9)(_),ae={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:d};h&&fi(b.auth,ae,h);const{email:Ne}=yield ne(b.auth,ae);Ne!==_.email&&(yield _.reload())})).apply(this,arguments)}function Ys(_,d){return si.apply(this,arguments)}function si(){return(si=(0,y.Z)(function*(_,d){return nn(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function xs(){return(xs=(0,y.Z)(function*(_,{displayName:d,photoURL:h}){if(void 0===d&&void 0===h)return;const b=(0,J.m9)(_),ae={idToken:yield b.getIdToken(),displayName:d,photoUrl:h,returnSecureToken:!0},Ne=yield Kn(b,Ys(b.auth,ae));b.displayName=Ne.displayName||null,b.photoURL=Ne.photoUrl||null;const ct=b.providerData.find(({providerId:Bt})=>"password"===Bt);ct&&(ct.displayName=b.displayName,ct.photoURL=b.photoURL),yield b._updateTokensIfNecessary(Ne)})).apply(this,arguments)}function jo(_,d,h){return Io.apply(this,arguments)}function Io(){return(Io=(0,y.Z)(function*(_,d,h){const{auth:b}=_,ae={idToken:yield _.getIdToken(),returnSecureToken:!0};d&&(ae.email=d),h&&(ae.password=h);const Ne=yield Kn(_,ji(b,ae));yield _._updateTokensIfNecessary(Ne,!0)})).apply(this,arguments)}class To{constructor(d,h,b={}){this.isNewUser=d,this.providerId=h,this.profile=b}}class ea extends To{constructor(d,h,b,G){super(d,h,b),this.username=G}}class fo extends To{constructor(d,h){super(d,"facebook.com",h)}}class ta extends ea{constructor(d,h){super(d,"github.com",h,"string"==typeof(null==h?void 0:h.login)?null==h?void 0:h.login:null)}}class Rs extends To{constructor(d,h){super(d,"google.com",h)}}class po extends ea{constructor(d,h,b){super(d,"twitter.com",h,b)}}function $o(_){const{user:d,_tokenResponse:h}=_;return d.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function(_){var d,h;if(!_)return null;const{providerId:b}=_,G=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},ae=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!b&&(null==_?void 0:_.idToken)){const Ne=null===(h=null===(d=Mt(_.idToken))||void 0===d?void 0:d.firebase)||void 0===h?void 0:h.sign_in_provider;if(Ne)return new To(ae,"anonymous"!==Ne&&"custom"!==Ne?Ne:null)}if(!b)return null;switch(b){case"facebook.com":return new fo(ae,G);case"github.com":return new ta(ae,G);case"google.com":return new Rs(ae,G);case"twitter.com":return new po(ae,G,_.screenName||null);case"custom":case"anonymous":return new To(ae,null);default:return new To(ae,b,G)}}(h)}class N{constructor(d,h){this.type=d,this.credential=h}static _fromIdtoken(d){return new N("enroll",d)}static _fromMfaPendingCredential(d){return new N("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var h,b;if(null==d?void 0:d.multiFactorSession){if(null===(h=d.multiFactorSession)||void 0===h?void 0:h.pendingCredential)return N._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null===(b=d.multiFactorSession)||void 0===b?void 0:b.idToken)return N._fromIdtoken(d.multiFactorSession.idToken)}return null}}class H{constructor(d,h,b){this.session=d,this.hints=h,this.signInResolver=b}static _fromError(d,h){const b=An(d),G=(h.serverResponse.mfaInfo||[]).map(Ne=>xi._fromServerResponse(b,Ne));ie(h.serverResponse.mfaPendingCredential,b,"internal-error");const ae=N._fromMfaPendingCredential(h.serverResponse.mfaPendingCredential);return new H(ae,G,function(){var Ne=(0,y.Z)(function*(ct){const Bt=yield ct._process(b,ae);delete h.serverResponse.mfaInfo,delete h.serverResponse.mfaPendingCredential;const tn=Object.assign(Object.assign({},h.serverResponse),{idToken:Bt.idToken,refreshToken:Bt.refreshToken});switch(h.operationType){case"signIn":const yn=yield ri._fromIdTokenResponse(b,h.operationType,tn);return yield b._updateCurrentUser(yn.user),yn;case"reauthenticate":return ie(h.user,b,"internal-error"),ri._forOperation(h.user,h.operationType,tn);default:$e(b,"internal-error")}});return function(ct){return Ne.apply(this,arguments)}}())}resolveSignIn(d){var h=this;return(0,y.Z)(function*(){return h.signInResolver(d)})()}}function Ce(_,d){return nn(_,"POST","/v2/accounts/mfaEnrollment:start",Vn(_,d))}class Kt{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(b=>xi._fromServerResponse(d.auth,b)))})}static _fromUser(d){return new Kt(d)}getSession(){var d=this;return(0,y.Z)(function*(){return N._fromIdtoken(yield d.user.getIdToken())})()}enroll(d,h){var b=this;return(0,y.Z)(function*(){const G=d,ae=yield b.getSession(),Ne=yield Kn(b.user,G._process(b.user.auth,ae,h));return yield b.user._updateTokensIfNecessary(Ne),b.user.reload()})()}unenroll(d){var h=this;return(0,y.Z)(function*(){const b="string"==typeof d?d:d.uid,G=yield h.user.getIdToken(),ae=yield Kn(h.user,function(_,d){return nn(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Vn(_,d))}(h.user.auth,{idToken:G,mfaEnrollmentId:b}));h.enrolledFactors=h.enrolledFactors.filter(({uid:Ne})=>Ne!==b),yield h.user._updateTokensIfNecessary(ae);try{yield h.user.reload()}catch(Ne){if("auth/user-token-expired"!==Ne.code)throw Ne}})()}}const Ft=new WeakMap,fn="__sak";class Hn{constructor(d,h){this.storage=d,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(fn,"1"),this.storage.removeItem(fn),Promise.resolve(!0)):Promise.resolve(!1)}catch(d){return Promise.resolve(!1)}}_set(d,h){return this.storage.setItem(d,JSON.stringify(h)),Promise.resolve()}_get(d){const h=this.storage.getItem(d);return Promise.resolve(h?JSON.parse(h):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}}const mt=(()=>{class _ extends Hn{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(h,b)=>this.onStorageEvent(h,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const _=(0,J.z$)();return ti(_)||rn(_)}()&&function(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=ns(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const b of Object.keys(this.listeners)){const G=this.storage.getItem(b),ae=this.localCache[b];G!==ae&&h(b,ae,G)}}onStorageEvent(h,b=!1){if(!h.key)return void this.forAllChangedKeys((ct,Bt,tn)=>{this.notifyListeners(ct,tn)});const G=h.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ct=this.storage.getItem(G);if(h.newValue!==ct)null!==h.newValue?this.storage.setItem(G,h.newValue):this.storage.removeItem(G);else if(this.localCache[G]===h.newValue&&!b)return}const ae=()=>{const ct=this.storage.getItem(G);!b&&this.localCache[G]===ct||this.notifyListeners(G,ct)},Ne=this.storage.getItem(G);(0,J.w1)()&&10===document.documentMode&&Ne!==h.newValue&&h.newValue!==h.oldValue?setTimeout(ae,10):ae()}notifyListeners(h,b){this.localCache[h]=b;const G=this.listeners[h];if(G)for(const ae of Array.from(G))ae(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,b,G)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:b,newValue:G}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(b)}_removeListener(h,b){this.listeners[h]&&(this.listeners[h].delete(b),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,b){var G=()=>super._set,ae=this;return(0,y.Z)(function*(){yield G().call(ae,h,b),ae.localCache[h]=JSON.stringify(b)})()}_get(h){var b=()=>super._get,G=this;return(0,y.Z)(function*(){const ae=yield b().call(G,h);return G.localCache[h]=JSON.stringify(ae),ae})()}_remove(h){var b=()=>super._remove,G=this;return(0,y.Z)(function*(){yield b().call(G,h),delete G.localCache[h]})()}}return _.type="LOCAL",_})(),Yn=(()=>{class _ extends Hn{constructor(){super(window.sessionStorage,"SESSION")}_addListener(h,b){}_removeListener(h,b){}}return _.type="SESSION",_})();let $n=(()=>{class _{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const b=this.receivers.find(ae=>ae.isListeningto(h));if(b)return b;const G=new _(h);return this.receivers.push(G),G}isListeningto(h){return this.eventTarget===h}handleEvent(h){var b=this;return(0,y.Z)(function*(){const G=h,{eventId:ae,eventType:Ne,data:ct}=G.data,Bt=b.handlersMap[Ne];if(!(null==Bt?void 0:Bt.size))return;G.ports[0].postMessage({status:"ack",eventId:ae,eventType:Ne});const tn=Array.from(Bt).map(function(){var Dn=(0,y.Z)(function*(bi){return bi(G.origin,ct)});return function(bi){return Dn.apply(this,arguments)}}()),yn=yield function(_){return Promise.all(_.map(function(){var d=(0,y.Z)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(b){return{fulfilled:!1,reason:b}}});return function(h){return d.apply(this,arguments)}}()))}(tn);G.ports[0].postMessage({status:"done",eventId:ae,eventType:Ne,response:yn})})()}_subscribe(h,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(b)}_unsubscribe(h,b){this.handlersMap[h]&&b&&this.handlersMap[h].delete(b),(!b||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Dr(_="",d=10){let h="";for(let b=0;b<d;b++)h+=Math.floor(10*Math.random());return _+h}class qs{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,h,b=50){var G=this;return(0,y.Z)(function*(){const ae="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!ae)throw new Error("connection_unavailable");let Ne,ct;return new Promise((Bt,tn)=>{const yn=Dr("",20);ae.port1.start();const Dn=setTimeout(()=>{tn(new Error("unsupported_event"))},b);ct={messageChannel:ae,onMessage(bi){const so=bi;if(so.data.eventId===yn)switch(so.data.status){case"ack":clearTimeout(Dn),Ne=setTimeout(()=>{tn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ne),Bt(so.data.response);break;default:clearTimeout(Dn),clearTimeout(Ne),tn(new Error("invalid_response"))}}},G.handlers.add(ct),ae.port1.addEventListener("message",ct.onMessage),G.target.postMessage({eventType:d,eventId:yn,data:h},[ae.port2])}).finally(()=>{ct&&G.removeMessageHandler(ct)})})()}}function pi(){return window}function ba(){return void 0!==pi().WorkerGlobalScope&&"function"==typeof pi().importScripts}function Js(){return(Js=(0,y.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const wu="firebaseLocalStorageDb",zs="firebaseLocalStorage",bu="fbase_key";class go{constructor(d){this.request=d}toPromise(){return new Promise((d,h)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function ar(_,d){return _.transaction([zs],d?"readwrite":"readonly").objectStore(zs)}function Li(){const _=indexedDB.open(wu,1);return new Promise((d,h)=>{_.addEventListener("error",()=>{h(_.error)}),_.addEventListener("upgradeneeded",()=>{const b=_.result;try{b.createObjectStore(zs,{keyPath:bu})}catch(G){h(G)}}),_.addEventListener("success",(0,y.Z)(function*(){const b=_.result;b.objectStoreNames.contains(zs)?d(b):(b.close(),yield function(){const _=indexedDB.deleteDatabase(wu);return new go(_).toPromise()}(),d(yield Li()))}))})}function Zo(_,d,h){return na.apply(this,arguments)}function na(){return(na=(0,y.Z)(function*(_,d,h){const b=ar(_,!0).put({[bu]:d,value:h});return new go(b).toPromise()})).apply(this,arguments)}function vi(){return(vi=(0,y.Z)(function*(_,d){const h=ar(_,!1).get(d),b=yield new go(h).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function mo(_,d){const h=ar(_,!0).delete(d);return new go(h).toPromise()}const ra=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,y.Z)(function*(){return h.db||(h.db=yield Li()),h.db})()}_withRetries(h){var b=this;return(0,y.Z)(function*(){let G=0;for(;;)try{const ae=yield b._openDb();return yield h(ae)}catch(ae){if(G++>3)throw ae;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,y.Z)(function*(){return ba()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,y.Z)(function*(){h.receiver=$n._getInstance(ba()?self:null),h.receiver._subscribe("keyChanged",function(){var b=(0,y.Z)(function*(G,ae){return{keyProcessed:(yield h._poll()).includes(ae.key)}});return function(G,ae){return b.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var b=(0,y.Z)(function*(G,ae){return["keyChanged"]});return function(G,ae){return b.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,y.Z)(function*(){var b,G;if(h.activeServiceWorker=yield function(){return Js.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new qs(h.activeServiceWorker);const ae=yield h.sender._send("ping",{},800);!ae||(null===(b=ae[0])||void 0===b?void 0:b.fulfilled)&&(null===(G=ae[0])||void 0===G?void 0:G.value.includes("keyChanged"))&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var b=this;return(0,y.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:h},b.serviceWorkerReceiverAvailable?800:50)}catch(G){}})()}_isAvailable(){return(0,y.Z)(function*(){try{if(!indexedDB)return!1;const h=yield Li();return yield Zo(h,fn,"1"),yield mo(h,fn),!0}catch(h){}return!1})()}_withPendingWrite(h){var b=this;return(0,y.Z)(function*(){b.pendingWrites++;try{yield h()}finally{b.pendingWrites--}})()}_set(h,b){var G=this;return(0,y.Z)(function*(){return G._withPendingWrite((0,y.Z)(function*(){return yield G._withRetries(ae=>Zo(ae,h,b)),G.localCache[h]=b,G.notifyServiceWorker(h)}))})()}_get(h){var b=this;return(0,y.Z)(function*(){const G=yield b._withRetries(ae=>function(_,d){return vi.apply(this,arguments)}(ae,h));return b.localCache[h]=G,G})()}_remove(h){var b=this;return(0,y.Z)(function*(){return b._withPendingWrite((0,y.Z)(function*(){return yield b._withRetries(G=>mo(G,h)),delete b.localCache[h],b.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,y.Z)(function*(){const b=yield h._withRetries(Ne=>{const ct=ar(Ne,!1).getAll();return new go(ct).toPromise()});if(!b)return[];if(0!==h.pendingWrites)return[];const G=[],ae=new Set;for(const{fbase_key:Ne,value:ct}of b)ae.add(Ne),JSON.stringify(h.localCache[Ne])!==JSON.stringify(ct)&&(h.notifyListeners(Ne,ct),G.push(Ne));for(const Ne of Object.keys(h.localCache))h.localCache[Ne]&&!ae.has(Ne)&&(h.notifyListeners(Ne,null),G.push(Ne));return G})()}notifyListeners(h,b){this.localCache[h]=b;const G=this.listeners[h];if(G)for(const ae of Array.from(G))ae(b)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,y.Z)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(b)}_removeListener(h,b){this.listeners[h]&&(this.listeners[h].delete(b),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Jt(_,d){return nn(_,"POST","/v2/accounts/mfaSignIn:start",Vn(_,d))}function Vi(){return(Vi=(0,y.Z)(function*(_){return(yield nn(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Bu(_){return new Promise((d,h)=>{const b=document.createElement("script");b.setAttribute("src",_),b.onload=d,b.onerror=G=>{const ae=dt("internal-error");ae.customData=G,h(ae)},b.type="text/javascript",b.charset="UTF-8",function(){var _,d;return null!==(d=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==d?d:document}().appendChild(b)})}function Eu(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Iu=1e12;class ps{constructor(d){this.auth=d,this.counter=Iu,this._widgets=new Map}render(d,h){const b=this.counter;return this._widgets.set(b,new Bl(d,this.auth.name,h||{})),this.counter++,b}reset(d){var h;const b=d||Iu;null===(h=this._widgets.get(b))||void 0===h||h.delete(),this._widgets.delete(b)}getResponse(d){var h;return(null===(h=this._widgets.get(d||Iu))||void 0===h?void 0:h.getResponse())||""}execute(d){var h=this;return(0,y.Z)(function*(){var b;return null===(b=h._widgets.get(d||Iu))||void 0===b||b.execute(),""})()}}class Bl{constructor(d,h,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const G="string"==typeof d?document.getElementById(d):d;ie(G,"argument-error",{appName:h}),this.container=G,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(_){const d=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<50;b++)d.push(h.charAt(Math.floor(Math.random()*h.length)));return d.join("")}();const{callback:d,"expired-callback":h}=this.params;if(d)try{d(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const tr=Eu("rcb"),Do=new xn(3e4,6e4);class Ti{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!pi().grecaptcha}load(d,h=""){return ie((_=h).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_),d,"argument-error"),this.shouldResolveImmediately(h)?Promise.resolve(pi().grecaptcha):new Promise((b,G)=>{const ae=pi().setTimeout(()=>{G(dt(d,"network-request-failed"))},Do.get());pi()[tr]=()=>{pi().clearTimeout(ae),delete pi()[tr];const ct=pi().grecaptcha;if(!ct)return void G(dt(d,"internal-error"));const Bt=ct.render;ct.render=(tn,yn)=>{const Dn=Bt(tn,yn);return this.counter++,Dn},this.hostLanguage=h,b(ct)},Bu(`https://www.google.com/recaptcha/api.js??${(0,J.xO)({onload:tr,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(ae),G(dt(d,"internal-error"))})});var _}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){return!!pi().grecaptcha&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ma{load(d){return(0,y.Z)(function*(){return new ps(d)})()}clearedOneInstance(){}}const Xs="recaptcha",Pa={theme:"light",type:"image"};class eo{constructor(d,h=Object.assign({},Pa),b){this.parameters=h,this.type=Xs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=An(b),this.isInvisible="invisible"===this.parameters.size,ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const G="string"==typeof d?document.getElementById(d):d;ie(G,this.auth,"argument-error"),this.container=G,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ma:new Ti,this.validateStartingState()}verify(){var d=this;return(0,y.Z)(function*(){d.assertNotDestroyed();const h=yield d.render(),b=d.getAssertedRecaptcha();return b.getResponse(h)||new Promise(ae=>{const Ne=ct=>{!ct||(d.tokenChangeListeners.delete(Ne),ae(ct))};d.tokenChangeListeners.add(Ne),d.isInvisible&&b.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return h=>{if(this.tokenChangeListeners.forEach(b=>b(h)),"function"==typeof d)d(h);else if("string"==typeof d){const b=pi()[d];"function"==typeof b&&b(h)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,y.Z)(function*(){if(yield d.init(),!d.widgetId){let h=d.container;if(!d.isInvisible){const b=document.createElement("div");h.appendChild(b),h=b}d.widgetId=d.getAssertedRecaptcha().render(h,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,y.Z)(function*(){ie(Ht()&&!ba(),d.auth,"internal-error"),yield function(){let _=null;return new Promise(d=>{"complete"!==document.readyState?(_=()=>d(),window.addEventListener("load",_)):d()}).catch(d=>{throw _&&window.removeEventListener("load",_),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const h=yield function(_){return Vi.apply(this,arguments)}(d.auth);ie(h,d.auth,"internal-error"),d.parameters.sitekey=h})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class C{constructor(d,h){this.verificationId=d,this.onConfirmation=h}confirm(d){const h=_i._fromVerification(this.verificationId,d);return this.onConfirmation(h)}}function m(){return(m=(0,y.Z)(function*(_,d,h){const b=An(_),G=yield Te(b,d,(0,J.m9)(h));return new C(G,ae=>x(b,ae))})).apply(this,arguments)}function V(){return(V=(0,y.Z)(function*(_,d,h){const b=(0,J.m9)(_);yield L(!1,b,"phone");const G=yield Te(b.auth,d,(0,J.m9)(h));return new C(G,ae=>W(b,ae))})).apply(this,arguments)}function _e(){return(_e=(0,y.Z)(function*(_,d,h){const b=(0,J.m9)(_),G=yield Te(b.auth,d,(0,J.m9)(h));return new C(G,ae=>ft(b,ae))})).apply(this,arguments)}function Te(_,d,h){return gt.apply(this,arguments)}function gt(){return(gt=(0,y.Z)(function*(_,d,h){var b;const G=yield h.verify();try{let ae;if(ie("string"==typeof G,_,"argument-error"),ie(h.type===Xs,_,"argument-error"),ae="string"==typeof d?{phoneNumber:d}:d,"session"in ae){const Ne=ae.session;if("phoneNumber"in ae)return ie("enroll"===Ne.type,_,"internal-error"),(yield Ce(_,{idToken:Ne.credential,phoneEnrollmentInfo:{phoneNumber:ae.phoneNumber,recaptchaToken:G}})).phoneSessionInfo.sessionInfo;{ie("signin"===Ne.type,_,"internal-error");const ct=(null===(b=ae.multiFactorHint)||void 0===b?void 0:b.uid)||ae.multiFactorUid;return ie(ct,_,"missing-multi-factor-info"),(yield Jt(_,{mfaPendingCredential:Ne.credential,mfaEnrollmentId:ct,phoneSignInInfo:{recaptchaToken:G}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ne}=yield Mi(_,{phoneNumber:ae.phoneNumber,recaptchaToken:G});return Ne}}finally{h._reset()}})).apply(this,arguments)}function br(){return(br=(0,y.Z)(function*(_,d){yield F((0,J.m9)(_),d)})).apply(this,arguments)}let bn=(()=>{class _{constructor(h){this.providerId=_.PROVIDER_ID,this.auth=An(h)}verifyPhoneNumber(h,b){return Te(this.auth,h,(0,J.m9)(b))}static credential(h,b){return _i._fromVerification(h,b)}static credentialFromResult(h){return _.credentialFromTaggedObject(h)}static credentialFromError(h){return _.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:b,temporaryProof:G}=h;return b&&G?_i._fromTokenResponse(b,G):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function ur(_,d){return d?he(d):(ie(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class lr extends Cn{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Tn(d,this._buildIdpRequest())}_linkToIdToken(d,h){return Tn(d,this._buildIdpRequest(h))}_getReauthenticationResolver(d){return Tn(d,this._buildIdpRequest())}_buildIdpRequest(d){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(h.idToken=d),h}}function ia(_){return _t(_.auth,new lr(_),_.bypassAuthState)}function ln(_){const{auth:d,user:h}=_;return ie(h,d,"internal-error"),xe(h,new lr(_),_.bypassAuthState)}function Di(_){return gs.apply(this,arguments)}function gs(){return(gs=(0,y.Z)(function*(_){const{auth:d,user:h}=_;return ie(h,d,"internal-error"),F(h,new lr(_),_.bypassAuthState)})).apply(this,arguments)}class Sr{constructor(d,h,b,G,ae=!1){this.auth=d,this.resolver=b,this.user=G,this.bypassAuthState=ae,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var d=this;return new Promise(function(){var h=(0,y.Z)(function*(b,G){d.pendingPromise={resolve:b,reject:G};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(ae){d.reject(ae)}});return function(b,G){return h.apply(this,arguments)}}())}onAuthEvent(d){var h=this;return(0,y.Z)(function*(){const{urlResponse:b,sessionId:G,postBody:ae,tenantId:Ne,error:ct,type:Bt}=d;if(ct)return void h.reject(ct);const tn={auth:h.auth,requestUri:b,sessionId:G,tenantId:Ne||void 0,postBody:ae||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(Bt)(tn))}catch(yn){h.reject(yn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return ia;case"linkViaPopup":case"linkViaRedirect":return Di;case"reauthViaPopup":case"reauthViaRedirect":return ln;default:$e(this.auth,"internal-error")}}resolve(d){me(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){me(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const os=new xn(2e3,1e4);function Tu(){return(Tu=(0,y.Z)(function*(_,d,h){const b=An(_);zt(_,d,Ii);const G=ur(b,h);return new sa(b,"signInViaPopup",d,G).executeNotNull()})).apply(this,arguments)}function Ms(){return(Ms=(0,y.Z)(function*(_,d,h){const b=(0,J.m9)(_);zt(b.auth,d,Ii);const G=ur(b.auth,h);return new sa(b.auth,"reauthViaPopup",d,G,b).executeNotNull()})).apply(this,arguments)}function Oa(){return(Oa=(0,y.Z)(function*(_,d,h){const b=(0,J.m9)(_);zt(b.auth,d,Ii);const G=ur(b.auth,h);return new sa(b.auth,"linkViaPopup",d,G,b).executeNotNull()})).apply(this,arguments)}let sa=(()=>{class _ extends Sr{constructor(h,b,G,ae,Ne){super(h,b,ae,Ne),this.provider=G,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var h=this;return(0,y.Z)(function*(){const b=yield h.execute();return ie(b,h.auth,"internal-error"),b})()}onExecution(){var h=this;return(0,y.Z)(function*(){me(1===h.filter.length,"Popup operations only handle one event");const b=Dr();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],b),h.authWindow.associatedEvent=b,h.resolver._originValidation(h.auth).catch(G=>{h.reject(G)}),h.resolver._isIframeWebStorageSupported(h.auth,G=>{G||h.reject(dt(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(dt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const h=()=>{var b,G;this.pollId=(null===(G=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===G?void 0:G.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(dt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(h,os.get())};h()}}return _.currentPopupAction=null,_})();const Na=new Map;class Hu extends Sr{constructor(d,h,b=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,b),this.eventId=null}execute(){var d=()=>super.execute,h=this;return(0,y.Z)(function*(){let b=Na.get(h.auth._key());if(!b){try{const ae=(yield function(_,d){return Ia.apply(this,arguments)}(h.resolver,h.auth))?yield d().call(h):null;b=()=>Promise.resolve(ae)}catch(G){b=()=>Promise.reject(G)}Na.set(h.auth._key(),b)}return b()})()}onAuthEvent(d){var h=()=>super.onAuthEvent,b=this;return(0,y.Z)(function*(){if("signInViaRedirect"===d.type)return h().call(b,d);if("unknown"!==d.type){if(d.eventId){const G=yield b.auth._redirectUserForId(d.eventId);if(G)return b.user=G,h().call(b,d);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,y.Z)(function*(){})()}cleanUp(){}}function Ia(){return(Ia=(0,y.Z)(function*(_,d){const h=Fa(d),b="true"===(yield ka(_)._get(h));return yield ka(_)._remove(h),b})).apply(this,arguments)}function wi(_,d){return oa.apply(this,arguments)}function oa(){return(oa=(0,y.Z)(function*(_,d){return ka(_)._set(Fa(d),"true")})).apply(this,arguments)}function ka(_){return he(_._redirectPersistence)}function Fa(_){return jr("pendingRedirect",_.config.apiKey,_.name)}function Os(){return(Os=(0,y.Z)(function*(_,d,h){const b=An(_);zt(_,d,Ii);const G=ur(b,h);return yield wi(G,b),G._openRedirect(b,d,"signInViaRedirect")})).apply(this,arguments)}function Q(){return(Q=(0,y.Z)(function*(_,d,h){const b=(0,J.m9)(_);zt(b.auth,d,Ii);const G=ur(b.auth,h);yield wi(G,b.auth);const ae=yield xr(b);return G._openRedirect(b.auth,d,"reauthViaRedirect",ae)})).apply(this,arguments)}function st(){return(st=(0,y.Z)(function*(_,d,h){const b=(0,J.m9)(_);zt(b.auth,d,Ii);const G=ur(b.auth,h);yield L(!1,b,d.providerId),yield wi(G,b.auth);const ae=yield xr(b);return G._openRedirect(b.auth,d,"linkViaRedirect",ae)})).apply(this,arguments)}function cn(){return(cn=(0,y.Z)(function*(_,d){return yield An(_)._initializationPromise,$t(_,d,!1)})).apply(this,arguments)}function $t(_,d){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,y.Z)(function*(_,d,h=!1){const b=An(_),G=ur(b,d),Ne=yield new Hu(b,G,h).execute();return Ne&&!h&&(delete Ne.user._redirectEventId,yield b._persistUserIfCurrent(Ne.user),yield b._setRedirectUser(null,d)),Ne})).apply(this,arguments)}function xr(_){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,y.Z)(function*(_){const d=Dr(`${_.uid}:::`);return _._redirectEventId=d,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),d})).apply(this,arguments)}class as{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let h=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(d,b)&&(h=!0,this.sendToConsumer(d,b),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Yo(_);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=d,h=!0)),h}sendToConsumer(d,h){var b;if(d.error&&!Yo(d)){const G=(null===(b=d.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";h.onError(dt(this.auth,G))}else h.onAuthEvent(d)}isEventForConsumer(d,h){const b=null===h.eventId||!!d.eventId&&d.eventId===h.eventId;return h.filter.includes(d.type)&&b}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(La(d))}saveEventToCache(d){this.cachedEventUids.add(La(d)),this.lastProcessedEventTime=Date.now()}}function La(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(d=>d).join("-")}function Yo({type:_,error:d}){return"unknown"===_&&"auth/no-auth-event"===(null==d?void 0:d.code)}function Is(_){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,y.Z)(function*(_,d={}){return nn(_,"GET","/v1/projects",d)})).apply(this,arguments)}const Gu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xi=/^https?/;function vc(){return(vc=(0,y.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:d}=yield Is(_);for(const h of d)try{if(aa(h))return}catch(b){}$e(_,"unauthorized-domain")})).apply(this,arguments)}function aa(_){const d=Ge(),{protocol:h,hostname:b}=new URL(d);if(_.startsWith("chrome-extension://")){const Ne=new URL(_);return""===Ne.hostname&&""===b?"chrome-extension:"===h&&_.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===h&&Ne.hostname===b}if(!Xi.test(h))return!1;if(Gu.test(_))return b===_;const G=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+G+"|"+G+")$","i").test(b)}const ro=new xn(3e4,6e4);function rd(){const _=pi().___jsl;if(null==_?void 0:_.H)for(const d of Object.keys(_.H))if(_.H[d].r=_.H[d].r||[],_.H[d].L=_.H[d].L||[],_.H[d].r=[..._.H[d].L],_.CP)for(let h=0;h<_.CP.length;h++)_.CP[h]=null}let cl=null;function eh(_){return cl=cl||function(_){return new Promise((d,h)=>{var b,G,ae;function Ne(){rd(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{rd(),h(dt(_,"network-request-failed"))},timeout:ro.get()})}if(null===(G=null===(b=pi().gapi)||void 0===b?void 0:b.iframes)||void 0===G?void 0:G.Iframe)d(gapi.iframes.getContext());else{if(!(null===(ae=pi().gapi)||void 0===ae?void 0:ae.load)){const ct=Eu("iframefcb");return pi()[ct]=()=>{gapi.load?Ne():h(dt(_,"network-request-failed"))},Bu(`https://apis.google.com/js/api.js?onload=${ct}`)}Ne()}}).catch(d=>{throw cl=null,d})}(_),cl}const Ua=new xn(5e3,15e3),Ka={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},th=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function id(_){const d=_.config;ie(d.authDomain,_,"auth-domain-config-required");const h=d.emulator?Xt(d,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,b={apiKey:d.apiKey,appName:_.name,v:Ae.SDK_VERSION},G=th.get(_.config.apiHost);G&&(b.eid=G);const ae=_._getFrameworks();return ae.length&&(b.fw=ae.join(",")),`${h}?${(0,J.xO)(b).slice(1)}`}function hl(){return(hl=(0,y.Z)(function*(_){const d=yield eh(_),h=pi().gapi;return ie(h,_,"internal-error"),d.open({where:document.body,url:id(_),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ka,dontclear:!0},b=>new Promise(function(){var G=(0,y.Z)(function*(ae,Ne){yield b.restyle({setHideOnLeave:!1});const ct=dt(_,"network-request-failed"),Bt=pi().setTimeout(()=>{Ne(ct)},Ua.get());function tn(){pi().clearTimeout(Bt),ae(b)}b.ping(tn).then(tn,()=>{Ne(ct)})});return function(ae,Ne){return G.apply(this,arguments)}}()))})).apply(this,arguments)}const nh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Du{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(d){}}}function zu(_,d,h,b,G,ae){ie(_.config.authDomain,_,"auth-domain-config-required"),ie(_.config.apiKey,_,"invalid-api-key");const Ne={apiKey:_.config.apiKey,appName:_.name,authType:h,redirectUrl:b,v:Ae.SDK_VERSION,eventId:G};if(d instanceof Ii){d.setDefaultLanguage(_.languageCode),Ne.providerId=d.providerId||"",(0,J.xb)(d.getCustomParameters())||(Ne.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Bt,tn]of Object.entries(ae||{}))Ne[Bt]=tn}if(d instanceof Wi){const Bt=d.getScopes().filter(tn=>""!==tn);Bt.length>0&&(Ne.scopes=Bt.join(","))}_.tenantId&&(Ne.tid=_.tenantId);const ct=Ne;for(const Bt of Object.keys(ct))void 0===ct[Bt]&&delete ct[Bt];return`${function({config:_}){return _.emulator?Xt(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,J.xO)(ct).slice(1)}`}const sd="webStorageSupport";class od extends class{constructor(d){this.factorId=d}_process(d,h,b){switch(h.type){case"enroll":return this._finalizeEnroll(d,h.credential,b);case"signin":return this._finalizeSignIn(d,h.credential);default:return ue("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new od(d)}_finalizeEnroll(d,h,b){return function(_,d){return nn(_,"POST","/v2/accounts/mfaEnrollment:finalize",Vn(_,d))}(d,{idToken:h,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,h){return function(_,d){return nn(_,"POST","/v2/accounts/mfaSignIn:finalize",Vn(_,d))}(d,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ad=(()=>{class _{constructor(){}static assertion(h){return od._fromCredential(h)}}return _.FACTOR_ID="phone",_})();var _,ep="@firebase/auth";class bc{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var h=this;return(0,y.Z)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const h=this.auth.onIdTokenChanged(b=>{var G;d((null===(G=b)||void 0===G?void 0:G.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,h),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const h=this.internalListeners.get(d);!h||(this.internalListeners.delete(d),h(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function So(){return window}function $l(){return($l=(0,y.Z)(function*(_,d,h){var b;const{BuildInfo:G}=So();me(d.sessionId,"AuthEvent did not contain a session ID");const ae=yield Ec(d.sessionId),Ne={};return rn()?Ne.ibi=G.packageName:Ci()?Ne.apn=G.packageName:$e(_,"operation-not-supported-in-this-environment"),G.displayName&&(Ne.appDisplayName=G.displayName),Ne.sessionId=ae,zu(_,h,d.type,void 0,null!==(b=d.eventId)&&void 0!==b?b:void 0,Ne)})).apply(this,arguments)}function es(){return(es=(0,y.Z)(function*(_){const{BuildInfo:d}=So(),h={};rn()?h.iosBundleId=d.packageName:Ci()?h.androidPackageName=d.packageName:$e(_,"operation-not-supported-in-this-environment"),yield Is(_,h)})).apply(this,arguments)}function Gl(){return(Gl=(0,y.Z)(function*(_,d,h){const{cordova:b}=So();let G=()=>{};try{yield new Promise((ae,Ne)=>{let ct=null;function Bt(){var Dn;ae();const bi=null===(Dn=b.plugins.browsertab)||void 0===Dn?void 0:Dn.close;"function"==typeof bi&&bi(),"function"==typeof(null==h?void 0:h.close)&&h.close()}function tn(){ct||(ct=window.setTimeout(()=>{Ne(dt(_,"redirect-cancelled-by-user"))},2e3))}function yn(){"visible"===(null==document?void 0:document.visibilityState)&&tn()}d.addPassiveListener(Bt),document.addEventListener("resume",tn,!1),Ci()&&document.addEventListener("visibilitychange",yn,!1),G=()=>{d.removePassiveListener(Bt),document.removeEventListener("resume",tn,!1),document.removeEventListener("visibilitychange",yn,!1),ct&&window.clearTimeout(ct)}})}finally{G()}})).apply(this,arguments)}function Ec(_){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,y.Z)(function*(_){const d=ts(_),h=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(h)).map(G=>G.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ts(_){if(me(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const d=new ArrayBuffer(_.length),h=new Uint8Array(d);for(let b=0;b<_.length;b++)h[b]=_.charCodeAt(b);return h}_="Browser",(0,Ae._registerComponent)(new ke.wA("auth",(d,{options:h})=>{const b=d.getProvider("app").getImmediate(),{apiKey:G,authDomain:ae}=b.options;return(Ne=>{ie(G&&!G.includes(":"),"invalid-api-key",{appName:Ne.name}),ie(!(null==ae?void 0:ae.includes(":")),"argument-error",{appName:Ne.name});const ct={apiKey:G,authDomain:ae,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pr(_)},Bt=new or(Ne,ct);return function(_,d){const h=(null==d?void 0:d.persistence)||[],b=(Array.isArray(h)?h:[h]).map(he);(null==d?void 0:d.errorMap)&&_._updateErrorMap(d.errorMap),_._initializeWithPersistence(b,null==d?void 0:d.popupRedirectResolver)}(Bt,h),Bt})(b)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,h,b)=>{d.getProvider("auth-internal").initialize()})),(0,Ae._registerComponent)(new ke.wA("auth-internal",d=>{const h=An(d.getProvider("auth").getImmediate());return new bc(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ae.registerVersion)(ep,"0.18.3",void 0),(0,Ae.registerVersion)(ep,"0.18.3","esm2017");class uh extends as{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(h=>h(d)),super.onEvent(d)}initialized(){var d=this;return(0,y.Z)(function*(){yield d.initPromise})()}}function Cc(_){return ud.apply(this,arguments)}function ud(){return(ud=(0,y.Z)(function*(_){const d=yield Ur()._get(Ic(_));return d&&(yield Ur()._remove(Ic(_))),d})).apply(this,arguments)}function ip(){const _=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let h=0;h<20;h++){const b=Math.floor(Math.random()*d.length);_.push(d.charAt(b))}return _.join("")}function Ur(){return he(mt)}function Ic(_){return jr("authEvent",_.config.apiKey,_.name)}function Xa(_){if(!(null==_?void 0:_.includes("?")))return{};const[d,...h]=_.split("?");return(0,J.zd)(h.join("?"))}function lh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:dt("no-auth-event")}}function dd(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function Ku(_=(0,J.z$)()){return!("file:"!==dd()&&"ionic:"!==dd()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ac(){try{const _=self.localStorage,d=Dr();if(_)return _.setItem(d,"1"),_.removeItem(d),!function(_=(0,J.z$)()){return(0,J.w1)()&&11===(null==document?void 0:document.documentMode)||function(_=(0,J.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,J.hl)()}catch(_){return ja()&&(0,J.hl)()}return!1}function ja(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Jo(){return("http:"===dd()||"https:"===dd()||(0,J.ru)()||Ku())&&!((0,J.b$)()||(0,J.UG)())&&Ac()&&!ja()}function yl(){return Ku()&&"undefined"!=typeof document}function gi(){return(gi=(0,y.Z)(function*(){return!!yl()&&new Promise(_=>{const d=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),_(!0)})})})).apply(this,arguments)}const xo={LOCAL:"local",NONE:"none",SESSION:"session"},_l=ie,zl="persistence";function fd(_){return vl.apply(this,arguments)}function vl(){return(vl=(0,y.Z)(function*(_){yield _._initializationPromise;const d=ph(),h=jr(zl,_.config.apiKey,_.name);(null==d?void 0:d.sessionStorage)&&d.sessionStorage.setItem(h,_._getPersistence())})).apply(this,arguments)}function ph(){return"undefined"!=typeof window?window:null}const gh=ie;class Au{constructor(){this.browserResolver=he(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yn,this._completeRedirectFn=$t}_openPopup(d,h,b,G){var ae=this;return(0,y.Z)(function*(){var Ne;me(null===(Ne=ae.eventManagers[d._key()])||void 0===Ne?void 0:Ne.manager,"_initialize() not called before _openPopup()");const ct=zu(d,h,b,Ge(),G);return function(_,d,h,b=500,G=600){const ae=Math.max((window.screen.availHeight-G)/2,0).toString(),Ne=Math.max((window.screen.availWidth-b)/2,0).toString();let ct="";const Bt=Object.assign(Object.assign({},nh),{width:b.toString(),height:G.toString(),top:ae,left:Ne}),tn=(0,J.z$)().toLowerCase();h&&(ct=zi(tn)?"_blank":h),hn(tn)&&(d=d||"http://localhost",Bt.scrollbars="yes");const yn=Object.entries(Bt).reduce((bi,[so,nu])=>`${bi}${so}=${nu},`,"");if(function(_=(0,J.z$)()){var d;return rn(_)&&!!(null===(d=window.navigator)||void 0===d?void 0:d.standalone)}(tn)&&"_self"!==ct)return function(_,d){const h=document.createElement("a");h.href=_,h.target=d;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(b)}(d||"",ct),new Du(null);const Dn=window.open(d||"",ct,yn);ie(Dn,_,"popup-blocked");try{Dn.focus()}catch(bi){}return new Du(Dn)}(d,ct,Dr())})()}_openRedirect(d,h,b,G){var ae=this;return(0,y.Z)(function*(){return yield ae._originValidation(d),_=zu(d,h,b,Ge(),G),pi().location.href=_,new Promise(()=>{});var _})()}_initialize(d){const h=d._key();if(this.eventManagers[h]){const{manager:G,promise:ae}=this.eventManagers[h];return G?Promise.resolve(G):(me(ae,"If manager is not set, promise should be"),ae)}const b=this.initAndGetManager(d);return this.eventManagers[h]={promise:b},b}initAndGetManager(d){var h=this;return(0,y.Z)(function*(){const b=yield function(_){return hl.apply(this,arguments)}(d),G=new as(d);return b.register("authEvent",ae=>(ie(null==ae?void 0:ae.authEvent,d,"invalid-auth-event"),{status:G.onEvent(ae.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[d._key()]={manager:G},h.iframes[d._key()]=b,G})()}_isIframeWebStorageSupported(d,h){this.iframes[d._key()].send(sd,{type:sd},G=>{var ae;const Ne=null===(ae=null==G?void 0:G[0])||void 0===ae?void 0:ae[sd];void 0!==Ne&&h(!!Ne),$e(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const h=d._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function(_){return vc.apply(this,arguments)}(d)),this.originValidationPromises[h]}get _shouldInitProactively(){return ns()||ti()||rn()}}),this.cordovaResolver=he(class{constructor(){this._redirectPersistence=Yn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$t}_initialize(d){var h=this;return(0,y.Z)(function*(){const b=d._key();let G=h.eventManagers.get(b);return G||(G=new uh(d),h.eventManagers.set(b,G),h.attachCallbackListeners(d,G)),G})()}_openPopup(d){$e(d,"operation-not-supported-in-this-environment")}_openRedirect(d,h,b,G){var ae=this;return(0,y.Z)(function*(){!function(_){var d,h,b,G,ae,Ne,ct,Bt,tn,yn;const Dn=So();ie("function"==typeof(null===(d=null==Dn?void 0:Dn.universalLinks)||void 0===d?void 0:d.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ie(void 0!==(null===(h=null==Dn?void 0:Dn.BuildInfo)||void 0===h?void 0:h.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ie("function"==typeof(null===(ae=null===(G=null===(b=null==Dn?void 0:Dn.cordova)||void 0===b?void 0:b.plugins)||void 0===G?void 0:G.browsertab)||void 0===ae?void 0:ae.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===(Bt=null===(ct=null===(Ne=null==Dn?void 0:Dn.cordova)||void 0===Ne?void 0:Ne.plugins)||void 0===ct?void 0:ct.browsertab)||void 0===Bt?void 0:Bt.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===(yn=null===(tn=null==Dn?void 0:Dn.cordova)||void 0===tn?void 0:tn.InAppBrowser)||void 0===yn?void 0:yn.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const Ne=yield ae._initialize(d);yield Ne.initialized(),Ne.resetRedirect(),Na.clear(),yield ae._originValidation(d);const ct=function(_,d,h=null){return{type:d,eventId:h,urlResponse:null,sessionId:ip(),postBody:null,tenantId:_.tenantId,error:dt(_,"no-auth-event")}}(d,b,G);yield function(_,d){return Ur()._set(Ic(_),d)}(d,ct);const Bt=yield function(_,d,h){return $l.apply(this,arguments)}(d,ct,h),tn=yield function(_){const{cordova:d}=So();return new Promise(h=>{d.plugins.browsertab.isAvailable(b=>{let G=null;b?d.plugins.browsertab.openUrl(_):G=d.InAppBrowser.open(_,function(_=(0,J.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),h(G)})})}(Bt);return function(_,d,h){return Gl.apply(this,arguments)}(d,Ne,tn)})()}_isIframeWebStorageSupported(d,h){throw new Error("Method not implemented.")}_originValidation(d){const h=d._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function(_){return es.apply(this,arguments)}(d)),this.originValidationPromises[h]}attachCallbackListeners(d,h){const{universalLinks:b,handleOpenURL:G,BuildInfo:ae}=So(),Ne=setTimeout((0,y.Z)(function*(){yield Cc(d),h.onEvent(lh())}),500),ct=function(){var yn=(0,y.Z)(function*(Dn){clearTimeout(Ne);const bi=yield Cc(d);let so=null;bi&&(null==Dn?void 0:Dn.url)&&(so=function(_,d){var h,b;const G=function(_){const d=Xa(_),h=d.link?decodeURIComponent(d.link):void 0,b=Xa(h).link,G=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return Xa(G).link||G||b||h||_}(d);if(G.includes("/__/auth/callback")){const ae=Xa(G),Ne=ae.firebaseError?function(_){try{return JSON.parse(_)}catch(d){return null}}(decodeURIComponent(ae.firebaseError)):null,ct=null===(b=null===(h=null==Ne?void 0:Ne.code)||void 0===h?void 0:h.split("auth/"))||void 0===b?void 0:b[1],Bt=ct?dt(ct):null;return Bt?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Bt,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:G,postBody:null}}return null}(bi,Dn.url)),h.onEvent(so||lh())});return function(bi){return yn.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,ct);const Bt=G,tn=`${ae.packageName.toLowerCase()}://`;So().handleOpenURL=function(){var yn=(0,y.Z)(function*(Dn){if(Dn.toLowerCase().startsWith(tn)&&ct({url:Dn}),"function"==typeof Bt)try{Bt(Dn)}catch(bi){console.error(bi)}});return function(Dn){return yn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Yn,this._completeRedirectFn=$t}_initialize(d){var h=this;return(0,y.Z)(function*(){return yield h.selectUnderlyingResolver(),h.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,h,b,G){var ae=this;return(0,y.Z)(function*(){return yield ae.selectUnderlyingResolver(),ae.assertedUnderlyingResolver._openPopup(d,h,b,G)})()}_openRedirect(d,h,b,G){var ae=this;return(0,y.Z)(function*(){return yield ae.selectUnderlyingResolver(),ae.assertedUnderlyingResolver._openRedirect(d,h,b,G)})()}_isIframeWebStorageSupported(d,h){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,h)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return yl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return gh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,y.Z)(function*(){if(d.underlyingResolver)return;const h=yield function(){return gi.apply(this,arguments)}();d.underlyingResolver=h?d.cordovaResolver:d.browserResolver})()}}function mh(_){return _.unwrap()}function io(_){return xc(_)}function xc(_){const{_tokenResponse:d}=_ instanceof J.ZR?_.customData:_;if(!d)return null;if(!(_ instanceof J.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return bn.credentialFromResult(_);const h=d.providerId;if(!h||"password"===h)return null;let b;switch(h){case"google.com":b=js;break;case"facebook.com":b=is;break;case"github.com":b=Ki;break;case"twitter.com":b=di;break;default:const{oauthIdToken:G,oauthAccessToken:ae,oauthTokenSecret:Ne,pendingToken:ct,nonce:Bt}=d;return ae||Ne||G||ct?ct?h.startsWith("saml.")?Hi._create(h,ct):Zn._fromParams({providerId:h,signInMethod:h,pendingToken:ct,idToken:G,accessToken:ae}):new ci(h).credential({idToken:G,accessToken:ae,rawNonce:Bt}):null}return _ instanceof J.ZR?b.credentialFromError(_):b.credentialFromResult(_)}function vo(_,d){return d.catch(h=>{throw h instanceof J.ZR&&function(_,d){var h;const b=null===(h=d.customData)||void 0===h?void 0:h._tokenResponse;if("auth/multi-factor-auth-required"===d.code)d.resolver=new Su(_,function(_,d){var h;const b=(0,J.m9)(_),G=d;return ie(d.operationType,b,"argument-error"),ie(null===(h=G.serverResponse)||void 0===h?void 0:h.mfaPendingCredential,b,"argument-error"),H._fromError(b,G)}(_,d));else if(b){const G=xc(d),ae=d;G&&(ae.credential=G,ae.tenantId=b.tenantId||void 0,ae.email=b.email||void 0,ae.phoneNumber=b.phoneNumber||void 0)}}(_,h),h}).then(h=>{const G=h.user;return{operationType:h.operationType,credential:io(h),additionalUserInfo:$o(h),user:eu.getOrCreate(G)}})}function Fs(_,d){return ca.apply(this,arguments)}function ca(){return(ca=(0,y.Z)(function*(_,d){const h=yield d;return{verificationId:h.verificationId,confirm:b=>vo(_,h.confirm(b))}})).apply(this,arguments)}class Su{constructor(d,h){this.resolver=h,this.auth=function(_){return _.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return vo(mh(this.auth),this.resolver.resolveSignIn(d))}}class eu{constructor(d){this._delegate=d,this.multiFactor=function(_){const d=(0,J.m9)(_);return Ft.has(d)||Ft.set(d,Kt._fromUser(d)),Ft.get(d)}(d)}static getOrCreate(d){return eu.USER_MAP.has(d)||eu.USER_MAP.set(d,new eu(d)),eu.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var h=this;return(0,y.Z)(function*(){return vo(h.auth,W(h._delegate,d))})()}linkWithPhoneNumber(d,h){var b=this;return(0,y.Z)(function*(){return Fs(b.auth,function(_,d,h){return V.apply(this,arguments)}(b._delegate,d,h))})()}linkWithPopup(d){var h=this;return(0,y.Z)(function*(){return vo(h.auth,function(_,d,h){return Oa.apply(this,arguments)}(h._delegate,d,Au))})()}linkWithRedirect(d){var h=this;return(0,y.Z)(function*(){return yield fd(An(h.auth)),function(_,d,h){return function(_,d,h){return st.apply(this,arguments)}(_,d,h)}(h._delegate,d,Au)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var h=this;return(0,y.Z)(function*(){return vo(h.auth,ft(h._delegate,d))})()}reauthenticateWithPhoneNumber(d,h){return Fs(this.auth,function(_,d,h){return _e.apply(this,arguments)}(this._delegate,d,h))}reauthenticateWithPopup(d){return vo(this.auth,function(_,d,h){return Ms.apply(this,arguments)}(this._delegate,d,Au))}reauthenticateWithRedirect(d){var h=this;return(0,y.Z)(function*(){return yield fd(An(h.auth)),function(_,d,h){return function(_,d,h){return Q.apply(this,arguments)}(_,d,h)}(h._delegate,d,Au)})()}sendEmailVerification(d){return function(_,d){return Gs.apply(this,arguments)}(this._delegate,d)}unlink(d){var h=this;return(0,y.Z)(function*(){return yield function(_,d){return bs.apply(this,arguments)}(h._delegate,d),h})()}updateEmail(d){return function(_,d){return jo((0,J.m9)(_),d,null)}(this._delegate,d)}updatePassword(d){return function(_,d){return jo((0,J.m9)(_),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function(_,d){return br.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function(_,d){return xs.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,h){return function(_,d,h){return Qi.apply(this,arguments)}(this._delegate,d,h)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}eu.USER_MAP=new WeakMap;const Wl=ie;let pd=(()=>{class _{constructor(h,b){if(this.app=h,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:G}=h.options;Wl(G,"invalid-api-key",{appName:h.name});let ae=[kn];if("undefined"!=typeof window){ae=function(_,d){const h=ph();if(!(null==h?void 0:h.sessionStorage))return[];const b=jr(zl,_,d);switch(h.sessionStorage.getItem(b)){case xo.NONE:return[kn];case xo.LOCAL:return[ra,Yn];case xo.SESSION:return[Yn];default:return[]}}(G,h.name);for(const ct of[ra,mt,Yn])ae.includes(ct)||ae.push(ct)}Wl(G,"invalid-api-key",{appName:h.name});const Ne="undefined"!=typeof window?Au:void 0;this._delegate=b.initialize({options:{persistence:ae,popupRedirectResolver:Ne}}),this._delegate._updateErrorMap(nt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?eu.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(h){this._delegate.languageCode=h}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(h){this._delegate.tenantId=h}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(h,b){!function(_,d,h){const b=An(_);ie(b._canInitEmulator,b,"emulator-config-failed"),ie(/^https?:\/\//.test(d),b,"invalid-emulator-scheme");const G=!!(null==h?void 0:h.disableWarnings),ae=Lr(d),{host:Ne,port:ct}=function(_){const d=Lr(_),h=/(\/\/)?([^?#/]+)/.exec(_.substr(d.length));if(!h)return{host:"",port:null};const b=h[2].split("@").pop()||"",G=/^(\[[^\]]+\])(:|$)/.exec(b);if(G){const ae=G[1];return{host:ae,port:on(b.substr(ae.length+1))}}{const[ae,Ne]=b.split(":");return{host:ae,port:on(Ne)}}}(d);b.config.emulator={url:`${ae}//${Ne}${null===ct?"":`:${ct}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:Ne,port:ct,protocol:ae.replace(":",""),options:Object.freeze({disableWarnings:G})}),G||function(){function _(){const d=document.createElement("p"),h=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,h,b)}applyActionCode(h){return function(_,d){return $s.apply(this,arguments)}(this._delegate,h)}checkActionCode(h){return In(this._delegate,h)}confirmPasswordReset(h,b){return function(_,d,h){return Vr.apply(this,arguments)}(this._delegate,h,b)}createUserWithEmailAndPassword(h,b){var G=this;return(0,y.Z)(function*(){return vo(G._delegate,function(_,d,h){return Co.apply(this,arguments)}(G._delegate,h,b))})()}fetchProvidersForEmail(h){return this.fetchSignInMethodsForEmail(h)}fetchSignInMethodsForEmail(h){return function(_,d){return Ws.apply(this,arguments)}(this._delegate,h)}isSignInWithEmailLink(h){return function(_,d){const h=Wr.parseLink(d);return"EMAIL_SIGNIN"===(null==h?void 0:h.operation)}(0,h)}getRedirectResult(){var h=this;return(0,y.Z)(function*(){Wl(Jo(),h._delegate,"operation-not-supported-in-this-environment");const b=yield function(_,d){return cn.apply(this,arguments)}(h._delegate,Au);return b?vo(h._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(h){!function(_,d){An(_)._logFramework(d)}(this._delegate,h)}onAuthStateChanged(h,b,G){const{next:ae,error:Ne,complete:ct}=gd(h,b,G);return this._delegate.onAuthStateChanged(ae,Ne,ct)}onIdTokenChanged(h,b,G){const{next:ae,error:Ne,complete:ct}=gd(h,b,G);return this._delegate.onIdTokenChanged(ae,Ne,ct)}sendSignInLinkToEmail(h,b){return function(_,d,h){return bt.apply(this,arguments)}(this._delegate,h,b)}sendPasswordResetEmail(h,b){return function(_,d,h){return bo.apply(this,arguments)}(this._delegate,h,b||void 0)}setPersistence(h){var b=this;return(0,y.Z)(function*(){let G;switch(function(_,d){_l(Object.values(xo).includes(d),_,"invalid-persistence-type"),(0,J.b$)()?_l(d!==xo.SESSION,_,"unsupported-persistence-type"):(0,J.UG)()?_l(d===xo.NONE,_,"unsupported-persistence-type"):ja()?_l(d===xo.NONE||d===xo.LOCAL&&(0,J.hl)(),_,"unsupported-persistence-type"):_l(d===xo.NONE||Ac(),_,"unsupported-persistence-type")}(b._delegate,h),h){case xo.SESSION:G=Yn;break;case xo.LOCAL:G=(yield he(ra)._isAvailable())?ra:mt;break;case xo.NONE:G=kn;break;default:return $e("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(G)})()}signInAndRetrieveDataWithCredential(h){return this.signInWithCredential(h)}signInAnonymously(){return vo(this._delegate,function(_){return ws.apply(this,arguments)}(this._delegate))}signInWithCredential(h){return vo(this._delegate,x(this._delegate,h))}signInWithCustomToken(h){return vo(this._delegate,function(_,d){return kr.apply(this,arguments)}(this._delegate,h))}signInWithEmailAndPassword(h,b){return vo(this._delegate,function(_,d,h){return x((0,J.m9)(_),ys.credential(d,h))}(this._delegate,h,b))}signInWithEmailLink(h,b){return vo(this._delegate,function(_,d,h){return Xr.apply(this,arguments)}(this._delegate,h,b))}signInWithPhoneNumber(h,b){return Fs(this._delegate,function(_,d,h){return m.apply(this,arguments)}(this._delegate,h,b))}signInWithPopup(h){var b=this;return(0,y.Z)(function*(){return Wl(Jo(),b._delegate,"operation-not-supported-in-this-environment"),vo(b._delegate,function(_,d,h){return Tu.apply(this,arguments)}(b._delegate,h,Au))})()}signInWithRedirect(h){var b=this;return(0,y.Z)(function*(){return Wl(Jo(),b._delegate,"operation-not-supported-in-this-environment"),yield fd(b._delegate),function(_,d,h){return function(_,d,h){return Os.apply(this,arguments)}(_,d,h)}(b._delegate,h,Au)})()}updateCurrentUser(h){return this._delegate.updateCurrentUser(h)}verifyPasswordResetCode(h){return function(_,d){return lo.apply(this,arguments)}(this._delegate,h)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=xo,_})();function gd(_,d,h){let b=_;"function"!=typeof _&&({next:b,error:d,complete:h}=_);const G=b;return{next:Ne=>G(Ne&&eu.getOrCreate(Ne)),error:d,complete:h}}class Ro{constructor(){this.providerId="phone",this._delegate=new bn(mh(S.Z.auth()))}static credential(d,h){return bn.credential(d,h)}verifyPhoneNumber(d,h){return this._delegate.verifyPhoneNumber(d,h)}unwrap(){return this._delegate}}Ro.PHONE_SIGN_IN_METHOD=bn.PHONE_SIGN_IN_METHOD,Ro.PROVIDER_ID=bn.PROVIDER_ID;const ap=ie;class md{constructor(d,h,b=S.Z.app()){var G;ap(null===(G=b.options)||void 0===G?void 0:G.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new eo(d,h,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(_){_.INTERNAL.registerComponent(new ke.wA("auth-compat",d=>{const h=d.getProvider("app-compat").getImmediate(),b=d.getProvider("auth");return new pd(h,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ys,FacebookAuthProvider:is,GithubAuthProvider:Ki,GoogleAuthProvider:js,OAuthProvider:ci,PhoneAuthProvider:Ro,PhoneMultiFactorGenerator:ad,RecaptchaVerifier:md,TwitterAuthProvider:di,Auth:pd,AuthCredential:Cn,Error:J.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.1.6")}(S.Z)},6676:function(Pt,Le){!function(j){"use strict";function y(Ve){return Array.prototype.slice.call(Ve)}function S(Ve){return new Promise(function(le,Be){Ve.onsuccess=function(){le(Ve.result)},Ve.onerror=function(){Be(Ve.error)}})}function J(Ve,le,Be){var Me,$e=new Promise(function(dt,it){S(Me=Ve[le].apply(Ve,Be)).then(dt,it)});return $e.request=Me,$e}function Ae(Ve,le,Be){var Me=J(Ve,le,Be);return Me.then(function($e){if($e)return new Y($e,Me.request)})}function A(Ve,le,Be){Be.forEach(function(Me){Object.defineProperty(Ve.prototype,Me,{get:function(){return this[le][Me]},set:function($e){this[le][Me]=$e}})})}function Ie(Ve,le,Be,Me){Me.forEach(function($e){$e in Be.prototype&&(Ve.prototype[$e]=function(){return J(this[le],$e,arguments)})})}function ke(Ve,le,Be,Me){Me.forEach(function($e){$e in Be.prototype&&(Ve.prototype[$e]=function(){return this[le][$e].apply(this[le],arguments)})})}function Qe(Ve,le,Be,Me){Me.forEach(function($e){$e in Be.prototype&&(Ve.prototype[$e]=function(){return Ae(this[le],$e,arguments)})})}function fe(Ve){this._index=Ve}function Y(Ve,le){this._cursor=Ve,this._request=le}function ee(Ve){this._store=Ve}function be(Ve){this._tx=Ve,this.complete=new Promise(function(le,Be){Ve.oncomplete=function(){le()},Ve.onerror=function(){Be(Ve.error)},Ve.onabort=function(){Be(Ve.error)}})}function ze(Ve,le,Be){this._db=Ve,this.oldVersion=le,this.transaction=new be(Be)}function Fe(Ve){this._db=Ve}A(fe,"_index",["name","keyPath","multiEntry","unique"]),Ie(fe,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Qe(fe,"_index",IDBIndex,["openCursor","openKeyCursor"]),A(Y,"_cursor",["direction","key","primaryKey","value"]),Ie(Y,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Ve){Ve in IDBCursor.prototype&&(Y.prototype[Ve]=function(){var le=this,Be=arguments;return Promise.resolve().then(function(){return le._cursor[Ve].apply(le._cursor,Be),S(le._request).then(function(Me){if(Me)return new Y(Me,le._request)})})})}),ee.prototype.createIndex=function(){return new fe(this._store.createIndex.apply(this._store,arguments))},ee.prototype.index=function(){return new fe(this._store.index.apply(this._store,arguments))},A(ee,"_store",["name","keyPath","indexNames","autoIncrement"]),Ie(ee,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Qe(ee,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ke(ee,"_store",IDBObjectStore,["deleteIndex"]),be.prototype.objectStore=function(){return new ee(this._tx.objectStore.apply(this._tx,arguments))},A(be,"_tx",["objectStoreNames","mode"]),ke(be,"_tx",IDBTransaction,["abort"]),ze.prototype.createObjectStore=function(){return new ee(this._db.createObjectStore.apply(this._db,arguments))},A(ze,"_db",["name","version","objectStoreNames"]),ke(ze,"_db",IDBDatabase,["deleteObjectStore","close"]),Fe.prototype.transaction=function(){return new be(this._db.transaction.apply(this._db,arguments))},A(Fe,"_db",["name","version","objectStoreNames"]),ke(Fe,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Ve){[ee,fe].forEach(function(le){Ve in le.prototype&&(le.prototype[Ve.replace("open","iterate")]=function(){var Be=y(arguments),Me=Be[Be.length-1],$e=this._store||this._index,dt=$e[Ve].apply($e,Be.slice(0,-1));dt.onsuccess=function(){Me(dt.result)}})})}),[fe,ee].forEach(function(Ve){Ve.prototype.getAll||(Ve.prototype.getAll=function(le,Be){var Me=this,$e=[];return new Promise(function(dt){Me.iterateCursor(le,function(it){it?($e.push(it.value),void 0===Be||$e.length!=Be?it.continue():dt($e)):dt($e)})})})}),j.openDb=function(Ve,le,Be){var Me=J(indexedDB,"open",[Ve,le]),$e=Me.request;return $e&&($e.onupgradeneeded=function(dt){Be&&Be(new ze($e.result,dt.oldVersion,$e.transaction))}),Me.then(function(dt){return new Fe(dt)})},j.deleteDb=function(Ve){return J(indexedDB,"deleteDatabase",[Ve])},Object.defineProperty(j,"__esModule",{value:!0})}(Le)},7574:(Pt,Le,j)=>{"use strict";j.d(Le,{y:()=>ee});var y=j(7393),J=j(9181),Ae=j(6490),Ie=j(6554),ke=j(4487);var Y=j(2494);let ee=(()=>{class ze{constructor(nt){this._isScalar=!1,nt&&(this._subscribe=nt)}lift(nt){const Oe=new ze;return Oe.source=this,Oe.operator=nt,Oe}subscribe(nt,Oe,Ve){const{operator:le}=this,Be=function(ze,Fe,nt){if(ze){if(ze instanceof y.L)return ze;if(ze[J.b])return ze[J.b]()}return ze||Fe||nt?new y.L(ze,Fe,nt):new y.L(Ae.c)}(nt,Oe,Ve);if(Be.add(le?le.call(Be,this.source):this.source||Y.v.useDeprecatedSynchronousErrorHandling&&!Be.syncErrorThrowable?this._subscribe(Be):this._trySubscribe(Be)),Y.v.useDeprecatedSynchronousErrorHandling&&Be.syncErrorThrowable&&(Be.syncErrorThrowable=!1,Be.syncErrorThrown))throw Be.syncErrorValue;return Be}_trySubscribe(nt){try{return this._subscribe(nt)}catch(Oe){Y.v.useDeprecatedSynchronousErrorHandling&&(nt.syncErrorThrown=!0,nt.syncErrorValue=Oe),function(ze){for(;ze;){const{closed:Fe,destination:nt,isStopped:Oe}=ze;if(Fe||Oe)return!1;ze=nt&&nt instanceof y.L?nt:null}return!0}(nt)?nt.error(Oe):console.warn(Oe)}}forEach(nt,Oe){return new(Oe=be(Oe))((Ve,le)=>{let Be;Be=this.subscribe(Me=>{try{nt(Me)}catch($e){le($e),Be&&Be.unsubscribe()}},le,Ve)})}_subscribe(nt){const{source:Oe}=this;return Oe&&Oe.subscribe(nt)}[Ie.L](){return this}pipe(...nt){return 0===nt.length?this:function(ze){return 0===ze.length?ke.y:1===ze.length?ze[0]:function(nt){return ze.reduce((Oe,Ve)=>Ve(Oe),nt)}}(nt)(this)}toPromise(nt){return new(nt=be(nt))((Oe,Ve)=>{let le;this.subscribe(Be=>le=Be,Be=>Ve(Be),()=>Oe(le))})}}return ze.create=Fe=>new ze(Fe),ze})();function be(ze){if(ze||(ze=Y.v.Promise||Promise),!ze)throw new Error("no Promise impl found");return ze}},6490:(Pt,Le,j)=>{"use strict";j.d(Le,{c:()=>J});var y=j(2494),S=j(4449);const J={closed:!0,next(Ae){},error(Ae){if(y.v.useDeprecatedSynchronousErrorHandling)throw Ae;(0,S.z)(Ae)},complete(){}}},7709:(Pt,Le,j)=>{"use strict";j.d(Le,{xQ:()=>Qe,Yc:()=>ke});var y=j(7574),S=j(7393),J=j(5319),Ae=j(7971);class A extends J.w{constructor(ee,be){super(),this.subject=ee,this.subscriber=be,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ee=this.subject,be=ee.observers;if(this.subject=null,!be||0===be.length||ee.isStopped||ee.closed)return;const ze=be.indexOf(this.subscriber);-1!==ze&&be.splice(ze,1)}}var Ie=j(9181);class ke extends S.L{constructor(ee){super(ee),this.destination=ee}}let Qe=(()=>{class Y extends y.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Ie.b](){return new ke(this)}lift(be){const ze=new fe(this,this);return ze.operator=be,ze}next(be){if(this.closed)throw new Ae.N;if(!this.isStopped){const{observers:ze}=this,Fe=ze.length,nt=ze.slice();for(let Oe=0;Oe<Fe;Oe++)nt[Oe].next(be)}}error(be){if(this.closed)throw new Ae.N;this.hasError=!0,this.thrownError=be,this.isStopped=!0;const{observers:ze}=this,Fe=ze.length,nt=ze.slice();for(let Oe=0;Oe<Fe;Oe++)nt[Oe].error(be);this.observers.length=0}complete(){if(this.closed)throw new Ae.N;this.isStopped=!0;const{observers:be}=this,ze=be.length,Fe=be.slice();for(let nt=0;nt<ze;nt++)Fe[nt].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(be){if(this.closed)throw new Ae.N;return super._trySubscribe(be)}_subscribe(be){if(this.closed)throw new Ae.N;return this.hasError?(be.error(this.thrownError),J.w.EMPTY):this.isStopped?(be.complete(),J.w.EMPTY):(this.observers.push(be),new A(this,be))}asObservable(){const be=new y.y;return be.source=this,be}}return Y.create=(ee,be)=>new fe(ee,be),Y})();class fe extends Qe{constructor(ee,be){super(),this.destination=ee,this.source=be}next(ee){const{destination:be}=this;be&&be.next&&be.next(ee)}error(ee){const{destination:be}=this;be&&be.error&&this.destination.error(ee)}complete(){const{destination:ee}=this;ee&&ee.complete&&this.destination.complete()}_subscribe(ee){const{source:be}=this;return be?this.source.subscribe(ee):J.w.EMPTY}}},7393:(Pt,Le,j)=>{"use strict";j.d(Le,{L:()=>ke});var y=j(9105),S=j(6490),J=j(5319),Ae=j(9181),A=j(2494),Ie=j(4449);class ke extends J.w{constructor(Y,ee,be){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=S.c;break;case 1:if(!Y){this.destination=S.c;break}if("object"==typeof Y){Y instanceof ke?(this.syncErrorThrowable=Y.syncErrorThrowable,this.destination=Y,Y.add(this)):(this.syncErrorThrowable=!0,this.destination=new Qe(this,Y));break}default:this.syncErrorThrowable=!0,this.destination=new Qe(this,Y,ee,be)}}[Ae.b](){return this}static create(Y,ee,be){const ze=new ke(Y,ee,be);return ze.syncErrorThrowable=!1,ze}next(Y){this.isStopped||this._next(Y)}error(Y){this.isStopped||(this.isStopped=!0,this._error(Y))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(Y){this.destination.next(Y)}_error(Y){this.destination.error(Y),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:Y}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=Y,this}}class Qe extends ke{constructor(Y,ee,be,ze){super(),this._parentSubscriber=Y;let Fe,nt=this;(0,y.m)(ee)?Fe=ee:ee&&(Fe=ee.next,be=ee.error,ze=ee.complete,ee!==S.c&&(nt=Object.create(ee),(0,y.m)(nt.unsubscribe)&&this.add(nt.unsubscribe.bind(nt)),nt.unsubscribe=this.unsubscribe.bind(this))),this._context=nt,this._next=Fe,this._error=be,this._complete=ze}next(Y){if(!this.isStopped&&this._next){const{_parentSubscriber:ee}=this;A.v.useDeprecatedSynchronousErrorHandling&&ee.syncErrorThrowable?this.__tryOrSetError(ee,this._next,Y)&&this.unsubscribe():this.__tryOrUnsub(this._next,Y)}}error(Y){if(!this.isStopped){const{_parentSubscriber:ee}=this,{useDeprecatedSynchronousErrorHandling:be}=A.v;if(this._error)be&&ee.syncErrorThrowable?(this.__tryOrSetError(ee,this._error,Y),this.unsubscribe()):(this.__tryOrUnsub(this._error,Y),this.unsubscribe());else if(ee.syncErrorThrowable)be?(ee.syncErrorValue=Y,ee.syncErrorThrown=!0):(0,Ie.z)(Y),this.unsubscribe();else{if(this.unsubscribe(),be)throw Y;(0,Ie.z)(Y)}}}complete(){if(!this.isStopped){const{_parentSubscriber:Y}=this;if(this._complete){const ee=()=>this._complete.call(this._context);A.v.useDeprecatedSynchronousErrorHandling&&Y.syncErrorThrowable?(this.__tryOrSetError(Y,ee),this.unsubscribe()):(this.__tryOrUnsub(ee),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(Y,ee){try{Y.call(this._context,ee)}catch(be){if(this.unsubscribe(),A.v.useDeprecatedSynchronousErrorHandling)throw be;(0,Ie.z)(be)}}__tryOrSetError(Y,ee,be){if(!A.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ee.call(this._context,be)}catch(ze){return A.v.useDeprecatedSynchronousErrorHandling?(Y.syncErrorValue=ze,Y.syncErrorThrown=!0,!0):((0,Ie.z)(ze),!0)}return!1}_unsubscribe(){const{_parentSubscriber:Y}=this;this._context=null,this._parentSubscriber=null,Y.unsubscribe()}}},5319:(Pt,Le,j)=>{"use strict";j.d(Le,{w:()=>Ie});var y=j(9796),S=j(1555),J=j(9105);const A=(()=>{function Qe(fe){return Error.call(this),this.message=fe?`${fe.length} errors occurred during unsubscription:\n${fe.map((Y,ee)=>`${ee+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=fe,this}return Qe.prototype=Object.create(Error.prototype),Qe})();class Ie{constructor(fe){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,fe&&(this._ctorUnsubscribe=!0,this._unsubscribe=fe)}unsubscribe(){let fe;if(this.closed)return;let{_parentOrParents:Y,_ctorUnsubscribe:ee,_unsubscribe:be,_subscriptions:ze}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,Y instanceof Ie)Y.remove(this);else if(null!==Y)for(let Fe=0;Fe<Y.length;++Fe)Y[Fe].remove(this);if((0,J.m)(be)){ee&&(this._unsubscribe=void 0);try{be.call(this)}catch(Fe){fe=Fe instanceof A?ke(Fe.errors):[Fe]}}if((0,y.k)(ze)){let Fe=-1,nt=ze.length;for(;++Fe<nt;){const Oe=ze[Fe];if((0,S.K)(Oe))try{Oe.unsubscribe()}catch(Ve){fe=fe||[],Ve instanceof A?fe=fe.concat(ke(Ve.errors)):fe.push(Ve)}}}if(fe)throw new A(fe)}add(fe){let Y=fe;if(!fe)return Ie.EMPTY;switch(typeof fe){case"function":Y=new Ie(fe);case"object":if(Y===this||Y.closed||"function"!=typeof Y.unsubscribe)return Y;if(this.closed)return Y.unsubscribe(),Y;if(!(Y instanceof Ie)){const ze=Y;Y=new Ie,Y._subscriptions=[ze]}break;default:throw new Error("unrecognized teardown "+fe+" added to Subscription.")}let{_parentOrParents:ee}=Y;if(null===ee)Y._parentOrParents=this;else if(ee instanceof Ie){if(ee===this)return Y;Y._parentOrParents=[ee,this]}else{if(-1!==ee.indexOf(this))return Y;ee.push(this)}const be=this._subscriptions;return null===be?this._subscriptions=[Y]:be.push(Y),Y}remove(fe){const Y=this._subscriptions;if(Y){const ee=Y.indexOf(fe);-1!==ee&&Y.splice(ee,1)}}}var Qe;function ke(Qe){return Qe.reduce((fe,Y)=>fe.concat(Y instanceof A?Y.errors:Y),[])}Ie.EMPTY=((Qe=new Ie).closed=!0,Qe)},2494:(Pt,Le,j)=>{"use strict";j.d(Le,{v:()=>S});let y=!1;const S={Promise:void 0,set useDeprecatedSynchronousErrorHandling(J){if(J){const Ae=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ae.stack)}else y&&console.log("RxJS: Back to a better error behavior. Thank you. <3");y=J},get useDeprecatedSynchronousErrorHandling(){return y}}},5345:(Pt,Le,j)=>{"use strict";j.d(Le,{IY:()=>Ae,Ds:()=>Ie,ft:()=>Qe});var y=j(7393),S=j(7574),J=j(7444);class Ae extends y.L{constructor(Y){super(),this.parent=Y}_next(Y){this.parent.notifyNext(Y)}_error(Y){this.parent.notifyError(Y),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Ie extends y.L{notifyNext(Y){this.destination.next(Y)}notifyError(Y){this.destination.error(Y)}notifyComplete(){this.destination.complete()}}function Qe(fe,Y){if(Y.closed)return;if(fe instanceof S.y)return fe.subscribe(Y);let ee;try{ee=(0,J.s)(fe)(Y)}catch(be){Y.error(be)}return ee}},2441:(Pt,Le,j)=>{"use strict";j.d(Le,{c:()=>A,N:()=>Ie});var y=j(7709),S=j(7574),J=j(5319),Ae=j(1307);class A extends S.y{constructor(ee,be){super(),this.source=ee,this.subjectFactory=be,this._refCount=0,this._isComplete=!1}_subscribe(ee){return this.getSubject().subscribe(ee)}getSubject(){const ee=this._subject;return(!ee||ee.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let ee=this._connection;return ee||(this._isComplete=!1,ee=this._connection=new J.w,ee.add(this.source.subscribe(new ke(this.getSubject(),this))),ee.closed&&(this._connection=null,ee=J.w.EMPTY)),ee}refCount(){return(0,Ae.x)()(this)}}const Ie=(()=>{const Y=A.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:Y._subscribe},_isComplete:{value:Y._isComplete,writable:!0},getSubject:{value:Y.getSubject},connect:{value:Y.connect},refCount:{value:Y.refCount}}})();class ke extends y.Yc{constructor(ee,be){super(ee),this.connectable=be}_error(ee){this._unsubscribe(),super._error(ee)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const ee=this.connectable;if(ee){this.connectable=null;const be=ee._connection;ee._refCount=0,ee._subject=null,ee._connection=null,be&&be.unsubscribe()}}}},4402:(Pt,Le,j)=>{"use strict";j.d(Le,{D:()=>nt});var y=j(7574),S=j(7444),J=j(5319),Ae=j(6554),ke=j(4087),Qe=j(377),ee=j(4072),be=j(9489);function nt(Oe,Ve){return Ve?function(Oe,Ve){if(null!=Oe){if(function(Oe){return Oe&&"function"==typeof Oe[Ae.L]}(Oe))return function(Oe,Ve){return new y.y(le=>{const Be=new J.w;return Be.add(Ve.schedule(()=>{const Me=Oe[Ae.L]();Be.add(Me.subscribe({next($e){Be.add(Ve.schedule(()=>le.next($e)))},error($e){Be.add(Ve.schedule(()=>le.error($e)))},complete(){Be.add(Ve.schedule(()=>le.complete()))}}))})),Be})}(Oe,Ve);if((0,ee.t)(Oe))return function(Oe,Ve){return new y.y(le=>{const Be=new J.w;return Be.add(Ve.schedule(()=>Oe.then(Me=>{Be.add(Ve.schedule(()=>{le.next(Me),Be.add(Ve.schedule(()=>le.complete()))}))},Me=>{Be.add(Ve.schedule(()=>le.error(Me)))}))),Be})}(Oe,Ve);if((0,be.z)(Oe))return(0,ke.r)(Oe,Ve);if(function(Oe){return Oe&&"function"==typeof Oe[Qe.hZ]}(Oe)||"string"==typeof Oe)return function(Oe,Ve){if(!Oe)throw new Error("Iterable cannot be null");return new y.y(le=>{const Be=new J.w;let Me;return Be.add(()=>{Me&&"function"==typeof Me.return&&Me.return()}),Be.add(Ve.schedule(()=>{Me=Oe[Qe.hZ](),Be.add(Ve.schedule(function(){if(le.closed)return;let $e,dt;try{const it=Me.next();$e=it.value,dt=it.done}catch(it){return void le.error(it)}dt?le.complete():(le.next($e),this.schedule())}))})),Be})}(Oe,Ve)}throw new TypeError((null!==Oe&&typeof Oe||Oe)+" is not observable")}(Oe,Ve):Oe instanceof y.y?Oe:new y.y((0,S.s)(Oe))}},6693:(Pt,Le,j)=>{"use strict";j.d(Le,{n:()=>Ae});var y=j(7574),S=j(5015),J=j(4087);function Ae(A,Ie){return Ie?(0,J.r)(A,Ie):new y.y((0,S.V)(A))}},8002:(Pt,Le,j)=>{"use strict";j.d(Le,{U:()=>S});var y=j(7393);function S(A,Ie){return function(Qe){if("function"!=typeof A)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Qe.lift(new J(A,Ie))}}class J{constructor(Ie,ke){this.project=Ie,this.thisArg=ke}call(Ie,ke){return ke.subscribe(new Ae(Ie,this.project,this.thisArg))}}class Ae extends y.L{constructor(Ie,ke,Qe){super(Ie),this.project=ke,this.count=0,this.thisArg=Qe||this}_next(Ie){let ke;try{ke=this.project.call(this.thisArg,Ie,this.count++)}catch(Qe){return void this.destination.error(Qe)}this.destination.next(ke)}}},3282:(Pt,Le,j)=>{"use strict";j.d(Le,{J:()=>J});var y=j(9773),S=j(4487);function J(Ae=Number.POSITIVE_INFINITY){return(0,y.zg)(S.y,Ae)}},9773:(Pt,Le,j)=>{"use strict";j.d(Le,{zg:()=>Ae});var y=j(8002),S=j(4402),J=j(5345);function Ae(Qe,fe,Y=Number.POSITIVE_INFINITY){return"function"==typeof fe?ee=>ee.pipe(Ae((be,ze)=>(0,S.D)(Qe(be,ze)).pipe((0,y.U)((Fe,nt)=>fe(be,Fe,ze,nt))),Y)):("number"==typeof fe&&(Y=fe),ee=>ee.lift(new A(Qe,Y)))}class A{constructor(fe,Y=Number.POSITIVE_INFINITY){this.project=fe,this.concurrent=Y}call(fe,Y){return Y.subscribe(new Ie(fe,this.project,this.concurrent))}}class Ie extends J.Ds{constructor(fe,Y,ee=Number.POSITIVE_INFINITY){super(fe),this.project=Y,this.concurrent=ee,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(fe){this.active<this.concurrent?this._tryNext(fe):this.buffer.push(fe)}_tryNext(fe){let Y;const ee=this.index++;try{Y=this.project(fe,ee)}catch(be){return void this.destination.error(be)}this.active++,this._innerSub(Y)}_innerSub(fe){const Y=new J.IY(this),ee=this.destination;ee.add(Y);const be=(0,J.ft)(fe,Y);be!==Y&&ee.add(be)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(fe){this.destination.next(fe)}notifyComplete(){const fe=this.buffer;this.active--,fe.length>0?this._next(fe.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},1307:(Pt,Le,j)=>{"use strict";j.d(Le,{x:()=>S});var y=j(7393);function S(){return function(Ie){return Ie.lift(new J(Ie))}}class J{constructor(Ie){this.connectable=Ie}call(Ie,ke){const{connectable:Qe}=this;Qe._refCount++;const fe=new Ae(Ie,Qe),Y=ke.subscribe(fe);return fe.closed||(fe.connection=Qe.connect()),Y}}class Ae extends y.L{constructor(Ie,ke){super(Ie),this.connectable=ke}_unsubscribe(){const{connectable:Ie}=this;if(!Ie)return void(this.connection=null);this.connectable=null;const ke=Ie._refCount;if(ke<=0)return void(this.connection=null);if(Ie._refCount=ke-1,ke>1)return void(this.connection=null);const{connection:Qe}=this,fe=Ie._connection;this.connection=null,fe&&(!Qe||fe===Qe)&&fe.unsubscribe()}}},4087:(Pt,Le,j)=>{"use strict";j.d(Le,{r:()=>J});var y=j(7574),S=j(5319);function J(Ae,A){return new y.y(Ie=>{const ke=new S.w;let Qe=0;return ke.add(A.schedule(function(){Qe!==Ae.length?(Ie.next(Ae[Qe++]),Ie.closed||ke.add(this.schedule())):Ie.complete()})),ke})}},377:(Pt,Le,j)=>{"use strict";j.d(Le,{hZ:()=>S});const S="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Pt,Le,j)=>{"use strict";j.d(Le,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Pt,Le,j)=>{"use strict";j.d(Le,{b:()=>y});const y="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Pt,Le,j)=>{"use strict";j.d(Le,{N:()=>S});const S=(()=>{function J(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return J.prototype=Object.create(Error.prototype),J})()},4449:(Pt,Le,j)=>{"use strict";function y(S){setTimeout(()=>{throw S},0)}j.d(Le,{z:()=>y})},4487:(Pt,Le,j)=>{"use strict";function y(S){return S}j.d(Le,{y:()=>y})},9796:(Pt,Le,j)=>{"use strict";j.d(Le,{k:()=>y});const y=Array.isArray||(S=>S&&"number"==typeof S.length)},9489:(Pt,Le,j)=>{"use strict";j.d(Le,{z:()=>y});const y=S=>S&&"number"==typeof S.length&&"function"!=typeof S},9105:(Pt,Le,j)=>{"use strict";function y(S){return"function"==typeof S}j.d(Le,{m:()=>y})},1555:(Pt,Le,j)=>{"use strict";function y(S){return null!==S&&"object"==typeof S}j.d(Le,{K:()=>y})},4072:(Pt,Le,j)=>{"use strict";function y(S){return!!S&&"function"!=typeof S.subscribe&&"function"==typeof S.then}j.d(Le,{t:()=>y})},4869:(Pt,Le,j)=>{"use strict";function y(S){return S&&"function"==typeof S.schedule}j.d(Le,{K:()=>y})},7444:(Pt,Le,j)=>{"use strict";j.d(Le,{s:()=>ee});var y=j(5015),S=j(4449),Ae=j(377),Ie=j(6554),Qe=j(9489),fe=j(4072),Y=j(1555);const ee=be=>{if(be&&"function"==typeof be[Ie.L])return(be=>ze=>{const Fe=be[Ie.L]();if("function"!=typeof Fe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Fe.subscribe(ze)})(be);if((0,Qe.z)(be))return(0,y.V)(be);if((0,fe.t)(be))return(be=>ze=>(be.then(Fe=>{ze.closed||(ze.next(Fe),ze.complete())},Fe=>ze.error(Fe)).then(null,S.z),ze))(be);if(be&&"function"==typeof be[Ae.hZ])return(be=>ze=>{const Fe=be[Ae.hZ]();for(;;){let nt;try{nt=Fe.next()}catch(Oe){return ze.error(Oe),ze}if(nt.done){ze.complete();break}if(ze.next(nt.value),ze.closed)break}return"function"==typeof Fe.return&&ze.add(()=>{Fe.return&&Fe.return()}),ze})(be);{const Fe=`You provided ${(0,Y.K)(be)?"an invalid object":`'${be}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Fe)}}},5015:(Pt,Le,j)=>{"use strict";j.d(Le,{V:()=>y});const y=S=>J=>{for(let Ae=0,A=S.length;Ae<A&&!J.closed;Ae++)J.next(S[Ae]);J.complete()}},8259:function(Pt){Pt.exports=function(){"use strict";const Le=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),j="SweetAlert2:",S=I=>I.charAt(0).toUpperCase()+I.slice(1),J=I=>Array.prototype.slice.call(I),Ae=I=>{console.warn("".concat(j," ").concat("object"==typeof I?I.join(" "):I))},A=I=>{console.error("".concat(j," ").concat(I))},Ie=[],Qe=(I,D)=>{(I=>{Ie.includes(I)||(Ie.push(I),Ae(I))})('"'.concat(I,'" is deprecated and will be removed in the next major release. Please use "').concat(D,'" instead.'))},fe=I=>"function"==typeof I?I():I,Y=I=>I&&"function"==typeof I.toPromise,ee=I=>Y(I)?I.toPromise():Promise.resolve(I),be=I=>I&&Promise.resolve(I)===I,Fe=I=>I instanceof Element||(I=>"object"==typeof I&&I.jquery)(I),Ve=I=>{const D={};for(const q in I)D[I[q]]="swal2-"+I[q];return D},le=Ve(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),Be=Ve(["success","warning","info","question","error"]),Me=()=>document.body.querySelector(".".concat(le.container)),$e=I=>{const D=Me();return D?D.querySelector(I):null},dt=I=>$e(".".concat(I)),it=()=>dt(le.popup),zt=()=>dt(le.icon),Ot=()=>dt(le.title),ie=()=>dt(le["html-container"]),ue=()=>dt(le.image),me=()=>dt(le["progress-steps"]),ye=()=>dt(le["validation-message"]),he=()=>$e(".".concat(le.actions," .").concat(le.confirm)),Ze=()=>$e(".".concat(le.actions," .").concat(le.deny)),Ge=()=>$e(".".concat(le.loader)),Ht=()=>$e(".".concat(le.actions," .").concat(le.cancel)),Rt=()=>dt(le.actions),It=()=>dt(le.footer),Gt=()=>dt(le["timer-progress-bar"]),xn=()=>dt(le.close),jn=()=>{const I=J(it().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((q,Ee)=>(q=parseInt(q.getAttribute("tabindex")))>(Ee=parseInt(Ee.getAttribute("tabindex")))?1:q<Ee?-1:0),D=J(it().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(q=>"-1"!==q.getAttribute("tabindex"));return(I=>{const D=[];for(let q=0;q<I.length;q++)-1===D.indexOf(I[q])&&D.push(I[q]);return D})(I.concat(D)).filter(q=>Ut(q))},sr=()=>!mr()&&!document.body.classList.contains(le["no-backdrop"]),mr=()=>document.body.classList.contains(le["toast-shown"]),nn={previousBodyPadding:null},Mn=(I,D)=>{if(I.textContent="",D){const Ee=(new DOMParser).parseFromString(D,"text/html");J(Ee.querySelector("head").childNodes).forEach(mt=>{I.appendChild(mt)}),J(Ee.querySelector("body").childNodes).forEach(mt=>{I.appendChild(mt)})}},qt=(I,D)=>{if(!D)return!1;const q=D.split(/\s+/);for(let Ee=0;Ee<q.length;Ee++)if(!I.classList.contains(q[Ee]))return!1;return!0},nr=(I,D,q)=>{if(((I,D)=>{J(I.classList).forEach(q=>{!Object.values(le).includes(q)&&!Object.values(Be).includes(q)&&!Object.values(D.showClass).includes(q)&&I.classList.remove(q)})})(I,D),D.customClass&&D.customClass[q]){if("string"!=typeof D.customClass[q]&&!D.customClass[q].forEach)return Ae("Invalid type of customClass.".concat(q,'! Expected string or iterable object, got "').concat(typeof D.customClass[q],'"'));kt(I,D.customClass[q])}},Er=(I,D)=>{if(!D)return null;switch(D){case"select":case"textarea":case"file":return Wn(I,le[D]);case"checkbox":return I.querySelector(".".concat(le.checkbox," input"));case"radio":return I.querySelector(".".concat(le.radio," input:checked"))||I.querySelector(".".concat(le.radio," input:first-child"));case"range":return I.querySelector(".".concat(le.range," input"));default:return Wn(I,le.input)}},qn=I=>{if(I.focus(),"file"!==I.type){const D=I.value;I.value="",I.value=D}},Fr=(I,D,q)=>{!I||!D||("string"==typeof D&&(D=D.split(/\s+/).filter(Boolean)),D.forEach(Ee=>{I.forEach?I.forEach(mt=>{q?mt.classList.add(Ee):mt.classList.remove(Ee)}):q?I.classList.add(Ee):I.classList.remove(Ee)}))},kt=(I,D)=>{Fr(I,D,!0)},wn=(I,D)=>{Fr(I,D,!1)},Wn=(I,D)=>{for(let q=0;q<I.childNodes.length;q++)if(qt(I.childNodes[q],D))return I.childNodes[q]},Jn=(I,D,q)=>{q==="".concat(parseInt(q))&&(q=parseInt(q)),q||0===parseInt(q)?I.style[D]="number"==typeof q?"".concat(q,"px"):q:I.style.removeProperty(D)},Tt=(I,D="flex")=>{I.style.display=D},vt=I=>{I.style.display="none"},Je=(I,D,q,Ee)=>{const mt=I.querySelector(D);mt&&(mt.style[q]=Ee)},tt=(I,D,q)=>{D?Tt(I,q):vt(I)},Ut=I=>!(!I||!(I.offsetWidth||I.offsetHeight||I.getClientRects().length)),wt=I=>I.scrollHeight>I.clientHeight,pn=I=>{const D=window.getComputedStyle(I),q=parseFloat(D.getPropertyValue("animation-duration")||"0"),Ee=parseFloat(D.getPropertyValue("transition-duration")||"0");return q>0||Ee>0},Mt=(I,D=!1)=>{const q=Gt();Ut(q)&&(D&&(q.style.transition="none",q.style.width="100%"),setTimeout(()=>{q.style.transition="width ".concat(I/1e3,"s linear"),q.style.width="0%"},10))},Kn=()=>"undefined"==typeof window||"undefined"==typeof document,vr='\n <div aria-labelledby="'.concat(le.title,'" aria-describedby="').concat(le["html-container"],'" class="').concat(le.popup,'" tabindex="-1">\n   <button type="button" class="').concat(le.close,'"></button>\n   <ul class="').concat(le["progress-steps"],'"></ul>\n   <div class="').concat(le.icon,'"></div>\n   <img class="').concat(le.image,'" />\n   <h2 class="').concat(le.title,'" id="').concat(le.title,'"></h2>\n   <div class="').concat(le["html-container"],'" id="').concat(le["html-container"],'"></div>\n   <input class="').concat(le.input,'" />\n   <input type="file" class="').concat(le.file,'" />\n   <div class="').concat(le.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(le.select,'"></select>\n   <div class="').concat(le.radio,'"></div>\n   <label for="').concat(le.checkbox,'" class="').concat(le.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(le.label,'"></span>\n   </label>\n   <textarea class="').concat(le.textarea,'"></textarea>\n   <div class="').concat(le["validation-message"],'" id="').concat(le["validation-message"],'"></div>\n   <div class="').concat(le.actions,'">\n     <div class="').concat(le.loader,'"></div>\n     <button type="button" class="').concat(le.confirm,'"></button>\n     <button type="button" class="').concat(le.deny,'"></button>\n     <button type="button" class="').concat(le.cancel,'"></button>\n   </div>\n   <div class="').concat(le.footer,'"></div>\n   <div class="').concat(le["timer-progress-bar-container"],'">\n     <div class="').concat(le["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),En=()=>{Hn.isVisible()&&Hn.resetValidationMessage()},Re=I=>{const D=(()=>{const I=Me();return!!I&&(I.remove(),wn([document.documentElement,document.body],[le["no-backdrop"],le["toast-shown"],le["has-column"]]),!0)})();if(Kn())return void A("SweetAlert2 requires document to initialize");const q=document.createElement("div");q.className=le.container,D&&kt(q,le["no-transition"]),Mn(q,vr);const Ee=(I=>"string"==typeof I?document.querySelector(I):I)(I.target);Ee.appendChild(q),(I=>{const D=it();D.setAttribute("role",I.toast?"alert":"dialog"),D.setAttribute("aria-live",I.toast?"polite":"assertive"),I.toast||D.setAttribute("aria-modal","true")})(I),(I=>{"rtl"===window.getComputedStyle(I).direction&&kt(Me(),le.rtl)})(Ee),(()=>{const I=it(),D=Wn(I,le.input),q=Wn(I,le.file),Ee=I.querySelector(".".concat(le.range," input")),mt=I.querySelector(".".concat(le.range," output")),Wt=Wn(I,le.select),Yn=I.querySelector(".".concat(le.checkbox," input")),Gr=Wn(I,le.textarea);D.oninput=En,q.onchange=En,Wt.onchange=En,Yn.onchange=En,Gr.oninput=En,Ee.oninput=()=>{En(),mt.value=Ee.value},Ee.onchange=()=>{En(),Ee.nextSibling.value=Ee.value}})()},ut=(I,D)=>{I instanceof HTMLElement?D.appendChild(I):"object"==typeof I?He(I,D):I&&Mn(D,I)},He=(I,D)=>{I.jquery?yt(D,I):Mn(D,I.toString())},yt=(I,D)=>{if(I.textContent="",0 in D)for(let q=0;q in D;q++)I.appendChild(D[q].cloneNode(!0));else I.appendChild(D.cloneNode(!0))},en=(()=>{if(Kn())return!1;const I=document.createElement("div"),D={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(const q in D)if(Object.prototype.hasOwnProperty.call(D,q)&&void 0!==I.style[q])return D[q];return!1})(),Un=(I,D)=>{const q=Rt(),Ee=Ge(),mt=he(),Wt=Ze(),Yn=Ht();D.showConfirmButton||D.showDenyButton||D.showCancelButton?Tt(q):vt(q),nr(q,D,"actions"),Br(mt,"confirm",D),Br(Wt,"deny",D),Br(Yn,"cancel",D),function(I,D,q,Ee){if(!Ee.buttonsStyling)return wn([I,D,q],le.styled);kt([I,D,q],le.styled),Ee.confirmButtonColor&&(I.style.backgroundColor=Ee.confirmButtonColor,kt(I,le["default-outline"])),Ee.denyButtonColor&&(D.style.backgroundColor=Ee.denyButtonColor,kt(D,le["default-outline"])),Ee.cancelButtonColor&&(q.style.backgroundColor=Ee.cancelButtonColor,kt(q,le["default-outline"]))}(mt,Wt,Yn,D),D.reverseButtons&&(q.insertBefore(Yn,Ee),q.insertBefore(Wt,Ee),q.insertBefore(mt,Ee)),Mn(Ee,D.loaderHtml),nr(Ee,D,"loader")};function Br(I,D,q){tt(I,q["show".concat(S(D),"Button")],"inline-block"),Mn(I,q["".concat(D,"ButtonText")]),I.setAttribute("aria-label",q["".concat(D,"ButtonAriaLabel")]),I.className=le[D],nr(I,q,"".concat(D,"Button")),kt(I,q["".concat(D,"ButtonClass")])}const oi=(I,D)=>{const q=Me();!q||(function(I,D){"string"==typeof D?I.style.background=D:D||kt([document.documentElement,document.body],le["no-backdrop"])}(q,D.backdrop),function(I,D){D in le?kt(I,le[D]):(Ae('The "position" parameter is not valid, defaulting to "center"'),kt(I,le.center))}(q,D.position),function(I,D){if(D&&"string"==typeof D){const q="grow-".concat(D);q in le&&kt(I,le[q])}}(q,D.grow),nr(q,D,"container"))};var hn={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const ti=["input","file","range","select","radio","checkbox","textarea"],Ei=I=>{if(!Mr[I.input])return A('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(I.input,'"'));const D=Zr(I.input),q=Mr[I.input](D,I);Tt(q),setTimeout(()=>{qn(q)})},mi=(I,D)=>{const q=Er(it(),I);if(q){(I=>{for(let D=0;D<I.attributes.length;D++){const q=I.attributes[D].name;["type","value","style"].includes(q)||I.removeAttribute(q)}})(q);for(const Ee in D)q.setAttribute(Ee,D[Ee])}},Ir=I=>{const D=Zr(I.input);I.customClass&&kt(D,I.customClass.input)},rn=(I,D)=>{(!I.placeholder||D.inputPlaceholder)&&(I.placeholder=D.inputPlaceholder)},Rr=(I,D,q)=>{if(q.inputLabel){I.id=le.input;const Ee=document.createElement("label"),mt=le["input-label"];Ee.setAttribute("for",I.id),Ee.className=mt,kt(Ee,q.customClass.inputLabel),Ee.innerText=q.inputLabel,D.insertAdjacentElement("beforebegin",Ee)}},Zr=I=>{const D=le[I]?le[I]:le.input;return Wn(it(),D)},Mr={};Mr.text=Mr.email=Mr.password=Mr.number=Mr.tel=Mr.url=(I,D)=>("string"==typeof D.inputValue||"number"==typeof D.inputValue?I.value=D.inputValue:be(D.inputValue)||Ae('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof D.inputValue,'"')),Rr(I,I,D),rn(I,D),I.type=D.input,I),Mr.file=(I,D)=>(Rr(I,I,D),rn(I,D),I),Mr.range=(I,D)=>{const q=I.querySelector("input"),Ee=I.querySelector("output");return q.value=D.inputValue,q.type=D.input,Ee.value=D.inputValue,Rr(q,I,D),I},Mr.select=(I,D)=>{if(I.textContent="",D.inputPlaceholder){const q=document.createElement("option");Mn(q,D.inputPlaceholder),q.value="",q.disabled=!0,q.selected=!0,I.appendChild(q)}return Rr(I,I,D),I},Mr.radio=I=>(I.textContent="",I),Mr.checkbox=(I,D)=>{const q=Er(it(),"checkbox");q.value=1,q.id=le.checkbox,q.checked=Boolean(D.inputValue);const Ee=I.querySelector("span");return Mn(Ee,D.inputPlaceholder),I},Mr.textarea=(I,D)=>{I.value=D.inputValue,rn(I,D),Rr(I,I,D);return setTimeout(()=>{if("MutationObserver"in window){const Ee=parseInt(window.getComputedStyle(it()).width);new MutationObserver(()=>{const Wt=I.offsetWidth+(Ee=>parseInt(window.getComputedStyle(Ee).marginLeft)+parseInt(window.getComputedStyle(Ee).marginRight))(I);it().style.width=Wt>Ee?"".concat(Wt,"px"):null}).observe(I,{attributes:!0,attributeFilter:["style"]})}}),I};const ns=(I,D)=>{const q=ie();nr(q,D,"htmlContainer"),D.html?(ut(D.html,q),Tt(q,"block")):D.text?(q.textContent=D.text,Tt(q,"block")):vt(q),((I,D)=>{const q=it(),Ee=hn.innerParams.get(I),mt=!Ee||D.input!==Ee.input;ti.forEach(Wt=>{const Yn=le[Wt],Gr=Wn(q,Yn);mi(Wt,D.inputAttributes),Gr.className=Yn,mt&&vt(Gr)}),D.input&&(mt&&Ei(D),Ir(D))})(I,D)},An=(I,D)=>{for(const q in Be)D.icon!==q&&wn(I,Be[q]);kt(I,Be[D.icon]),Lr(I,D),Or(),nr(I,D,"icon")},Or=()=>{const I=it(),D=window.getComputedStyle(I).getPropertyValue("background-color"),q=I.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let Ee=0;Ee<q.length;Ee++)q[Ee].style.backgroundColor=D},ni=(I,D)=>{I.textContent="",Mn(I,D.iconHtml?Lt(D.iconHtml):"success"===D.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===D.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':Lt({question:"?",warning:"!",info:"i"}[D.icon]))},Lr=(I,D)=>{if(D.iconColor){I.style.color=D.iconColor,I.style.borderColor=D.iconColor;for(const q of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Je(I,q,"backgroundColor",D.iconColor);Je(I,".swal2-success-ring","borderColor",D.iconColor)}},Lt=I=>'<div class="'.concat(le["icon-content"],'">').concat(I,"</div>"),Yr=(I,D)=>{const q=me();if(!D.progressSteps||0===D.progressSteps.length)return vt(q);Tt(q),q.textContent="",D.currentProgressStep>=D.progressSteps.length&&Ae("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),D.progressSteps.forEach((Ee,mt)=>{const Wt=(I=>{const D=document.createElement("li");return kt(D,le["progress-step"]),Mn(D,I),D})(Ee);if(q.appendChild(Wt),mt===D.currentProgressStep&&kt(Wt,le["active-progress-step"]),mt!==D.progressSteps.length-1){const Yn=(I=>{const D=document.createElement("li");return kt(D,le["progress-step-line"]),I.progressStepsDistance&&(D.style.width=I.progressStepsDistance),D})(D);q.appendChild(Yn)}})},Tr=(I,D)=>{I.className="".concat(le.popup," ").concat(Ut(I)?D.showClass.popup:""),D.toast?(kt([document.documentElement,document.body],le["toast-shown"]),kt(I,le.toast)):kt(I,le.modal),nr(I,D,"popup"),"string"==typeof D.customClass&&kt(I,D.customClass),D.icon&&kt(I,le["icon-".concat(D.icon)])},Qr=(I,D)=>{((I,D)=>{const q=Me(),Ee=it();D.toast?(Jn(q,"width",D.width),Ee.style.width="100%",Ee.insertBefore(Ge(),zt())):Jn(Ee,"width",D.width),Jn(Ee,"padding",D.padding),D.background&&(Ee.style.background=D.background),vt(ye()),Tr(Ee,D)})(0,D),oi(0,D),Yr(0,D),((I,D)=>{const q=hn.innerParams.get(I),Ee=zt();q&&D.icon===q.icon?(ni(Ee,D),An(Ee,D)):D.icon||D.iconHtml?D.icon&&-1===Object.keys(Be).indexOf(D.icon)?(A('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(D.icon,'"')),vt(Ee)):(Tt(Ee),ni(Ee,D),An(Ee,D),kt(Ee,D.showClass.icon)):vt(Ee)})(I,D),((I,D)=>{const q=ue();if(!D.imageUrl)return vt(q);Tt(q,""),q.setAttribute("src",D.imageUrl),q.setAttribute("alt",D.imageAlt),Jn(q,"width",D.imageWidth),Jn(q,"height",D.imageHeight),q.className=le.image,nr(q,D,"image")})(0,D),((I,D)=>{const q=Ot();tt(q,D.title||D.titleText,"block"),D.title&&ut(D.title,q),D.titleText&&(q.innerText=D.titleText),nr(q,D,"title")})(0,D),((I,D)=>{const q=xn();Mn(q,D.closeButtonHtml),nr(q,D,"closeButton"),tt(q,D.showCloseButton),q.setAttribute("aria-label",D.closeButtonAriaLabel)})(0,D),ns(I,D),Un(0,D),((I,D)=>{const q=It();tt(q,D.footer),D.footer&&ut(D.footer,q),nr(q,D,"footer")})(0,D),"function"==typeof D.didRender&&D.didRender(it())},vn=()=>he()&&he().click();const rr=I=>{let D=it();D||Hn.fire(),D=it();const q=Ge();mr()?vt(zt()):Xe(D,I),Tt(q),D.setAttribute("data-loading",!0),D.setAttribute("aria-busy",!0),D.focus()},Xe=(I,D)=>{const q=Rt(),Ee=Ge();!D&&Ut(he())&&(D=he()),Tt(q),D&&(vt(D),Ee.setAttribute("data-button-to-replace",D.className)),Ee.parentNode.insertBefore(Ee,D),kt([I,q],le.loading)},Z={},ne=I=>new Promise(D=>{if(!I)return D();const q=window.scrollX,Ee=window.scrollY;Z.restoreFocusTimeout=setTimeout(()=>{Z.previousActiveElement&&Z.previousActiveElement.focus?(Z.previousActiveElement.focus(),Z.previousActiveElement=null):document.body&&document.body.focus(),D()},100),window.scrollTo(q,Ee)}),rt=()=>{if(Z.timeout)return(()=>{const I=Gt(),D=parseInt(window.getComputedStyle(I).width);I.style.removeProperty("transition"),I.style.width="100%";const q=parseInt(window.getComputedStyle(I).width),Ee=parseInt(D/q*100);I.style.removeProperty("transition"),I.style.width="".concat(Ee,"%")})(),Z.timeout.stop()},St=()=>{if(Z.timeout){const I=Z.timeout.start();return Mt(I),I}};let Tn=!1;const ls={};const Zn=I=>{for(let D=I.target;D&&D!==document;D=D.parentNode)for(const q in ls){const Ee=D.getAttribute(q);if(Ee)return void ls[q].fire({template:Ee})}},Mi={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Pi=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Oi={},Nr=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],yi=I=>Object.prototype.hasOwnProperty.call(Mi,I),Zs=I=>Oi[I],li=I=>{yi(I)||Ae('Unknown parameter "'.concat(I,'"'))},oo=I=>{Nr.includes(I)&&Ae('The parameter "'.concat(I,'" is incompatible with toasts'))},_i=I=>{Zs(I)&&Qe(I,Zs(I))};var ao=Object.freeze({isValidParameter:yi,isUpdatableParameter:I=>-1!==Pi.indexOf(I),isDeprecatedParameter:Zs,argsToParams:I=>{const D={};return"object"!=typeof I[0]||Fe(I[0])?["title","html","icon"].forEach((q,Ee)=>{const mt=I[Ee];"string"==typeof mt||Fe(mt)?D[q]=mt:void 0!==mt&&A("Unexpected type of ".concat(q,'! Expected "string" or "Element", got ').concat(typeof mt))}):Object.assign(D,I[0]),D},isVisible:()=>Ut(it()),clickConfirm:vn,clickDeny:()=>Ze()&&Ze().click(),clickCancel:()=>Ht()&&Ht().click(),getContainer:Me,getPopup:it,getTitle:Ot,getHtmlContainer:ie,getImage:ue,getIcon:zt,getInputLabel:()=>dt(le["input-label"]),getCloseButton:xn,getActions:Rt,getConfirmButton:he,getDenyButton:Ze,getCancelButton:Ht,getLoader:Ge,getFooter:It,getTimerProgressBar:Gt,getFocusableElements:jn,getValidationMessage:ye,isLoading:()=>it().hasAttribute("data-loading"),fire:function(...I){return new this(...I)},mixin:function(I){return class extends(this){_main(Ee,mt){return super._main(Ee,Object.assign({},I,mt))}}},showLoading:rr,enableLoading:rr,getTimerLeft:()=>Z.timeout&&Z.timeout.getTimerLeft(),stopTimer:rt,resumeTimer:St,toggleTimer:()=>{const I=Z.timeout;return I&&(I.running?rt():St())},increaseTimer:I=>{if(Z.timeout){const D=Z.timeout.increase(I);return Mt(D,!0),D}},isTimerRunning:()=>Z.timeout&&Z.timeout.isRunning(),bindClickHandler:function(I="data-swal-template"){ls[I]=this,Tn||(document.body.addEventListener("click",Zn),Tn=!0)}});function Wr(){const I=hn.innerParams.get(this);if(!I)return;const D=hn.domCache.get(this);vt(D.loader),mr()?I.icon&&Tt(zt()):Bs(D),wn([D.popup,D.actions],le.loading),D.popup.removeAttribute("aria-busy"),D.popup.removeAttribute("data-loading"),D.confirmButton.disabled=!1,D.denyButton.disabled=!1,D.cancelButton.disabled=!1}const Bs=I=>{const D=I.popup.getElementsByClassName(I.loader.getAttribute("data-button-to-replace"));D.length?Tt(D[0],"inline-block"):!Ut(he())&&!Ut(Ze())&&!Ut(Ht())&&vt(I.actions)};const Ii=()=>{null===nn.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(nn.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(nn.previousBodyPadding+(()=>{const I=document.createElement("div");I.className=le["scrollbar-measure"],document.body.appendChild(I);const D=I.getBoundingClientRect().width-I.clientWidth;return document.body.removeChild(I),D})(),"px"))},is=()=>{if(!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)){const D=44;it().scrollHeight>window.innerHeight-D&&(Me().style.paddingBottom="".concat(D,"px"))}},js=()=>{const I=Me();let D;I.ontouchstart=q=>{D=Ki(q)},I.ontouchmove=q=>{D&&(q.preventDefault(),q.stopPropagation())}},Ki=I=>{const D=I.target,q=Me();return!(uo(I)||Hi(I)||D!==q&&(wt(q)||"INPUT"===D.tagName||"TEXTAREA"===D.tagName||wt(ie())&&ie().contains(D)))},uo=I=>I.touches&&I.touches.length&&"stylus"===I.touches[0].touchType,Hi=I=>I.touches&&I.touches.length>1,di=()=>{J(document.body.children).forEach(D=>{D.hasAttribute("data-previous-aria-hidden")?(D.setAttribute("aria-hidden",D.getAttribute("data-previous-aria-hidden")),D.removeAttribute("data-previous-aria-hidden")):D.removeAttribute("aria-hidden")})};var _s={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function hi(I,D,q,Ee){mr()?F(I,Ee):(ne(q).then(()=>F(I,Ee)),Z.keydownTarget.removeEventListener("keydown",Z.keydownHandler,{capture:Z.keydownListenerCapture}),Z.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(D.setAttribute("style","display:none !important"),D.removeAttribute("class"),D.innerHTML=""):D.remove(),sr()&&(null!==nn.previousBodyPadding&&(document.body.style.paddingRight="".concat(nn.previousBodyPadding,"px"),nn.previousBodyPadding=null),(()=>{if(qt(document.body,le.iosfix)){const I=parseInt(document.body.style.top,10);wn(document.body,le.iosfix),document.body.style.top="",document.body.scrollTop=-1*I}})(),di()),wn([document.documentElement,document.body],[le.shown,le["height-auto"],le["no-backdrop"],le["toast-shown"]])}function ds(I){I=ki(I);const D=_s.swalPromiseResolve.get(this),q=ws(this);this.isAwaitingPromise()?I.isDismissed||(Ni(this),D(I)):q&&D(I)}const ws=I=>{const D=it();if(!D)return!1;const q=hn.innerParams.get(I);if(!q||qt(D,q.hideClass.popup))return!1;wn(D,q.showClass.popup),kt(D,q.hideClass.popup);const Ee=Me();return wn(Ee,q.showClass.backdrop),kt(Ee,q.hideClass.backdrop),hs(I,D,q),!0};const Ni=I=>{I.isAwaitingPromise()&&(hn.awaitingPromise.delete(I),hn.innerParams.get(I)||I._destroy())},ki=I=>void 0===I?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},I),hs=(I,D,q)=>{const Ee=Me(),mt=en&&pn(D);"function"==typeof q.willClose&&q.willClose(D),mt?bs(I,D,Ee,q.returnFocus,q.didClose):hi(I,Ee,q.returnFocus,q.didClose)},bs=(I,D,q,Ee,mt)=>{Z.swalCloseEventFinishedCallback=hi.bind(null,I,q,Ee,mt),D.addEventListener(en,function(Wt){Wt.target===D&&(Z.swalCloseEventFinishedCallback(),delete Z.swalCloseEventFinishedCallback)})},F=(I,D)=>{setTimeout(()=>{"function"==typeof D&&D.bind(I.params)(),I._destroy()})};function K(I,D,q){const Ee=hn.domCache.get(I);D.forEach(mt=>{Ee[mt].disabled=q})}function L(I,D){if(!I)return!1;if("radio"===I.type){const Ee=I.parentNode.parentNode.querySelectorAll("input");for(let mt=0;mt<Ee.length;mt++)Ee[mt].disabled=D}else I.disabled=D}class W{constructor(D,q){this.callback=D,this.remaining=q,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}increase(D){const q=this.running;return q&&this.stop(),this.remaining+=D,q&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}var qe={email:(I,D)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(I)?Promise.resolve():Promise.resolve(D||"Invalid email address"),url:(I,D)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(I)?Promise.resolve():Promise.resolve(D||"Invalid URL")};function yr(I){(function(I){I.inputValidator||Object.keys(qe).forEach(D=>{I.input===D&&(I.inputValidator=qe[D])})})(I),I.showLoaderOnConfirm&&!I.preConfirm&&Ae("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(I){(!I.target||"string"==typeof I.target&&!document.querySelector(I.target)||"string"!=typeof I.target&&!I.target.appendChild)&&(Ae('Target parameter is not valid, defaulting to "body"'),I.target="body")}(I),"string"==typeof I.title&&(I.title=I.title.split("\n").join("<br />")),Re(I)}const Jr=["swal-title","swal-html","swal-footer"],kr=I=>{const D={};return J(I.querySelectorAll("swal-param")).forEach(q=>{Vr(q,["name","value"]);const Ee=q.getAttribute("name");let mt=q.getAttribute("value");"boolean"==typeof Mi[Ee]&&"false"===mt&&(mt=!1),"object"==typeof Mi[Ee]&&(mt=JSON.parse(mt)),D[Ee]=mt}),D},xi=I=>{const D={};return J(I.querySelectorAll("swal-button")).forEach(q=>{Vr(q,["type","color","aria-label"]);const Ee=q.getAttribute("type");D["".concat(Ee,"ButtonText")]=q.innerHTML,D["show".concat(S(Ee),"Button")]=!0,q.hasAttribute("color")&&(D["".concat(Ee,"ButtonColor")]=q.getAttribute("color")),q.hasAttribute("aria-label")&&(D["".concat(Ee,"ButtonAriaLabel")]=q.getAttribute("aria-label"))}),D},ii=I=>{const D={},q=I.querySelector("swal-image");return q&&(Vr(q,["src","width","height","alt"]),q.hasAttribute("src")&&(D.imageUrl=q.getAttribute("src")),q.hasAttribute("width")&&(D.imageWidth=q.getAttribute("width")),q.hasAttribute("height")&&(D.imageHeight=q.getAttribute("height")),q.hasAttribute("alt")&&(D.imageAlt=q.getAttribute("alt"))),D},fi=I=>{const D={},q=I.querySelector("swal-icon");return q&&(Vr(q,["type","color"]),q.hasAttribute("type")&&(D.icon=q.getAttribute("type")),q.hasAttribute("color")&&(D.iconColor=q.getAttribute("color")),D.iconHtml=q.innerHTML),D},Lo=I=>{const D={},q=I.querySelector("swal-input");q&&(Vr(q,["type","label","placeholder","value"]),D.input=q.getAttribute("type")||"text",q.hasAttribute("label")&&(D.inputLabel=q.getAttribute("label")),q.hasAttribute("placeholder")&&(D.inputPlaceholder=q.getAttribute("placeholder")),q.hasAttribute("value")&&(D.inputValue=q.getAttribute("value")));const Ee=I.querySelectorAll("swal-input-option");return Ee.length&&(D.inputOptions={},J(Ee).forEach(mt=>{Vr(mt,["value"]);const Wt=mt.getAttribute("value");D.inputOptions[Wt]=mt.innerHTML})),D},bo=(I,D)=>{const q={};for(const Ee in D){const mt=D[Ee],Wt=I.querySelector(mt);Wt&&(Vr(Wt,[]),q[mt.replace(/^swal-/,"")]=Wt.innerHTML.trim())}return q},xa=I=>{const D=Jr.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);J(I.children).forEach(q=>{const Ee=q.tagName.toLowerCase();-1===D.indexOf(Ee)&&Ae("Unrecognized element <".concat(Ee,">"))})},Vr=(I,D)=>{J(I.attributes).forEach(q=>{-1===D.indexOf(q.name)&&Ae(['Unrecognized attribute "'.concat(q.name,'" on <').concat(I.tagName.toLowerCase(),">."),"".concat(D.length?"Allowed attributes are: ".concat(D.join(", ")):"To set the value, use HTML within the element.")])})},$s=I=>{const D=Me(),q=it();"function"==typeof I.willOpen&&I.willOpen(q);const mt=window.getComputedStyle(document.body).overflowY;lo(D,q,I),setTimeout(()=>{Vo(D,q)},10),sr()&&(Eo(D,I.scrollbarPadding,mt),J(document.body.children).forEach(D=>{D===Me()||D.contains(Me())||(D.hasAttribute("aria-hidden")&&D.setAttribute("data-previous-aria-hidden",D.getAttribute("aria-hidden")),D.setAttribute("aria-hidden","true"))})),!mr()&&!Z.previousActiveElement&&(Z.previousActiveElement=document.activeElement),"function"==typeof I.didOpen&&setTimeout(()=>I.didOpen(q)),wn(D,le["no-transition"])},In=I=>{const D=it();if(I.target!==D)return;const q=Me();D.removeEventListener(en,In),q.style.overflowY="auto"},Vo=(I,D)=>{en&&pn(D)?(I.style.overflowY="hidden",D.addEventListener(en,In)):I.style.overflowY="auto"},Eo=(I,D,q)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!qt(document.body,le.iosfix)){const D=document.body.scrollTop;document.body.style.top="".concat(-1*D,"px"),kt(document.body,le.iosfix),js(),is()}})(),D&&"hidden"!==q&&Ii(),setTimeout(()=>{I.scrollTop=0})},lo=(I,D,q)=>{kt(I,q.showClass.backdrop),D.style.setProperty("opacity","0","important"),Tt(D,"grid"),setTimeout(()=>{kt(D,q.showClass.popup),D.style.removeProperty("opacity")},10),kt([document.documentElement,document.body],le.shown),q.heightAuto&&q.backdrop&&!q.toast&&kt([document.documentElement,document.body],le["height-auto"])},za=I=>I.checked?1:0,Uo=I=>I.checked?I.value:null,bt=I=>I.files.length?null!==I.getAttribute("multiple")?I.files:I.files[0]:null,er=(I,D)=>{const q=it(),Ee=mt=>Xr[D.input](q,co(mt),D);Y(D.inputOptions)||be(D.inputOptions)?(rr(he()),ee(D.inputOptions).then(mt=>{I.hideLoading(),Ee(mt)})):"object"==typeof D.inputOptions?Ee(D.inputOptions):A("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof D.inputOptions))},Bo=(I,D)=>{const q=I.getInput();vt(q),ee(D.inputValue).then(Ee=>{q.value="number"===D.input?parseFloat(Ee)||0:"".concat(Ee),Tt(q),q.focus(),I.hideLoading()}).catch(Ee=>{A("Error in inputValue promise: ".concat(Ee)),q.value="",Tt(q),q.focus(),I.hideLoading()})},Xr={select:(I,D,q)=>{const Ee=Wn(I,le.select),mt=(Wt,Yn,Gr)=>{const $n=document.createElement("option");$n.value=Gr,Mn($n,Yn),$n.selected=ss(Gr,q.inputValue),Wt.appendChild($n)};D.forEach(Wt=>{const Yn=Wt[0],Gr=Wt[1];if(Array.isArray(Gr)){const $n=document.createElement("optgroup");$n.label=Yn,$n.disabled=!1,Ee.appendChild($n),Gr.forEach(Dr=>mt($n,Dr[1],Dr[0]))}else mt(Ee,Gr,Yn)}),Ee.focus()},radio:(I,D,q)=>{const Ee=Wn(I,le.radio);D.forEach(Wt=>{const Yn=Wt[0],Gr=Wt[1],$n=document.createElement("input"),Dr=document.createElement("label");$n.type="radio",$n.name=le.radio,$n.value=Yn,ss(Yn,q.inputValue)&&($n.checked=!0);const qs=document.createElement("span");Mn(qs,Gr),qs.className=le.label,Dr.appendChild($n),Dr.appendChild(qs),Ee.appendChild(Dr)});const mt=Ee.querySelectorAll("input");mt.length&&mt[0].focus()}},co=I=>{const D=[];return"undefined"!=typeof Map&&I instanceof Map?I.forEach((q,Ee)=>{let mt=q;"object"==typeof mt&&(mt=co(mt)),D.push([Ee,mt])}):Object.keys(I).forEach(q=>{let Ee=I[q];"object"==typeof Ee&&(Ee=co(Ee)),D.push([q,Ee])}),D},ss=(I,D)=>D&&D.toString()===I.toString(),Gs=(I,D)=>{const q=hn.innerParams.get(I),Ee=((I,D)=>{const q=I.getInput();if(!q)return null;switch(D.input){case"checkbox":return za(q);case"radio":return Uo(q);case"file":return bt(q);default:return D.inputAutoTrim?q.value.trim():q.value}})(I,q);q.inputValidator?Ks(I,Ee,D):I.getInput().checkValidity()?"deny"===D?Qi(I,Ee):Fi(I,Ee):(I.enableButtons(),I.showValidationMessage(q.validationMessage))},Ks=(I,D,q)=>{const Ee=hn.innerParams.get(I);I.disableInput(),Promise.resolve().then(()=>ee(Ee.inputValidator(D,Ee.validationMessage))).then(Wt=>{I.enableButtons(),I.enableInput(),Wt?I.showValidationMessage(Wt):"deny"===q?Qi(I,D):Fi(I,D)})},Qi=(I,D)=>{const q=hn.innerParams.get(I||void 0);q.showLoaderOnDeny&&rr(Ze()),q.preDeny?(hn.awaitingPromise.set(I||void 0,!0),Promise.resolve().then(()=>ee(q.preDeny(D,q.validationMessage))).then(mt=>{!1===mt?I.hideLoading():I.closePopup({isDenied:!0,value:void 0===mt?D:mt})}).catch(mt=>si(I||void 0,mt))):I.closePopup({isDenied:!0,value:D})},Ys=(I,D)=>{I.closePopup({isConfirmed:!0,value:D})},si=(I,D)=>{I.rejectPromise(D)},Fi=(I,D)=>{const q=hn.innerParams.get(I||void 0);q.showLoaderOnConfirm&&rr(),q.preConfirm?(I.resetValidationMessage(),hn.awaitingPromise.set(I||void 0,!0),Promise.resolve().then(()=>ee(q.preConfirm(D,q.validationMessage))).then(mt=>{Ut(ye())||!1===mt?I.hideLoading():Ys(I,void 0===mt?D:mt)}).catch(mt=>si(I||void 0,mt))):Ys(I,D)},Qs=(I,D,q)=>{const Ee=jn();if(Ee.length)return(D+=q)===Ee.length?D=0:-1===D&&(D=Ee.length-1),Ee[D].focus();it().focus()},wr=["ArrowRight","ArrowDown"],jo=["ArrowLeft","ArrowUp"],Io=(I,D,q)=>{const Ee=hn.innerParams.get(I);!Ee||(Ee.stopKeydownPropagation&&D.stopPropagation(),"Enter"===D.key?Ho(I,D,Ee):"Tab"===D.key?To(D,Ee):[...wr,...jo].includes(D.key)?ea(D.key):"Escape"===D.key&&fo(D,Ee,q))},Ho=(I,D,q)=>{if(!D.isComposing&&D.target&&I.getInput()&&D.target.outerHTML===I.getInput().outerHTML){if(["textarea","file"].includes(q.input))return;vn(),D.preventDefault()}},To=(I,D)=>{const q=I.target,Ee=jn();let mt=-1;for(let Wt=0;Wt<Ee.length;Wt++)if(q===Ee[Wt]){mt=Wt;break}Qs(0,mt,I.shiftKey?-1:1),I.stopPropagation(),I.preventDefault()},ea=I=>{if(![he(),Ze(),Ht()].includes(document.activeElement))return;const mt=wr.includes(I)?"nextElementSibling":"previousElementSibling",Wt=document.activeElement[mt];Wt&&Wt.focus()},fo=(I,D,q)=>{fe(D.allowEscapeKey)&&(I.preventDefault(),q(Le.esc))},Rs=(I,D,q)=>{D.popup.onclick=()=>{const Ee=hn.innerParams.get(I);Ee.showConfirmButton||Ee.showDenyButton||Ee.showCancelButton||Ee.showCloseButton||Ee.timer||Ee.input||q(Le.close)}};let po=!1;const $o=I=>{I.popup.onmousedown=()=>{I.container.onmouseup=function(D){I.container.onmouseup=void 0,D.target===I.container&&(po=!0)}}},$i=I=>{I.container.onmousedown=()=>{I.popup.onmouseup=function(D){I.popup.onmouseup=void 0,(D.target===I.popup||I.popup.contains(D.target))&&(po=!0)}}},Za=(I,D,q)=>{D.container.onclick=Ee=>{const mt=hn.innerParams.get(I);po?po=!1:Ee.target===D.container&&fe(mt.allowOutsideClick)&&q(Le.backdrop)}};const Go=(I,D)=>{const q=(I=>{const D="string"==typeof I.template?document.querySelector(I.template):I.template;if(!D)return{};const q=D.content;return xa(q),Object.assign(kr(q),xi(q),ii(q),fi(q),Lo(q),bo(q,Jr))})(I),Ee=Object.assign({},Mi,D,q,I);return Ee.showClass=Object.assign({},Mi.showClass,Ee.showClass),Ee.hideClass=Object.assign({},Mi.hideClass,Ee.hideClass),Ee},va=(I,D,q)=>new Promise((Ee,mt)=>{const Wt=Yn=>{I.closePopup({isDismissed:!0,dismiss:Yn})};_s.swalPromiseResolve.set(I,Ee),_s.swalPromiseReject.set(I,mt),D.confirmButton.onclick=()=>(I=>{const D=hn.innerParams.get(I);I.disableButtons(),D.input?Gs(I,"confirm"):Fi(I,!0)})(I),D.denyButton.onclick=()=>(I=>{const D=hn.innerParams.get(I);I.disableButtons(),D.returnInputValueOnDeny?Gs(I,"deny"):Qi(I,!1)})(I),D.cancelButton.onclick=()=>((I,D)=>{I.disableButtons(),D(Le.cancel)})(I,Wt),D.closeButton.onclick=()=>Wt(Le.close),((I,D,q)=>{hn.innerParams.get(I).toast?Rs(I,D,q):($o(D),$i(D),Za(I,D,q))})(I,D,Wt),((I,D,q,Ee)=>{D.keydownTarget&&D.keydownHandlerAdded&&(D.keydownTarget.removeEventListener("keydown",D.keydownHandler,{capture:D.keydownListenerCapture}),D.keydownHandlerAdded=!1),q.toast||(D.keydownHandler=mt=>Io(I,mt,Ee),D.keydownTarget=q.keydownListenerCapture?window:it(),D.keydownListenerCapture=q.keydownListenerCapture,D.keydownTarget.addEventListener("keydown",D.keydownHandler,{capture:D.keydownListenerCapture}),D.keydownHandlerAdded=!0)})(I,Z,q,Wt),((I,D)=>{"select"===D.input||"radio"===D.input?er(I,D):["text","email","number","tel","textarea"].includes(D.input)&&(Y(D.inputValue)||be(D.inputValue))&&(rr(he()),Bo(I,D))})(I,q),$s(q),qo(Z,q,Wt),U(D,q),setTimeout(()=>{D.container.scrollTop=0})}),wa=I=>{const D={popup:it(),container:Me(),actions:Rt(),confirmButton:he(),denyButton:Ze(),cancelButton:Ht(),loader:Ge(),closeButton:xn(),validationMessage:ye(),progressSteps:me()};return hn.domCache.set(I,D),D},qo=(I,D,q)=>{const Ee=Gt();vt(Ee),D.timer&&(I.timeout=new W(()=>{q("timer"),delete I.timeout},D.timer),D.timerProgressBar&&(Tt(Ee),setTimeout(()=>{I.timeout&&I.timeout.running&&Mt(D.timer)})))},U=(I,D)=>{if(!D.toast){if(!fe(D.allowEnterKey))return H();N(I,D)||Qs(0,-1,1)}},N=(I,D)=>D.focusDeny&&Ut(I.denyButton)?(I.denyButton.focus(),!0):D.focusCancel&&Ut(I.cancelButton)?(I.cancelButton.focus(),!0):!(!D.focusConfirm||!Ut(I.confirmButton)||(I.confirmButton.focus(),0)),H=()=>{document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};const Ye=I=>{pt(I),delete I.params,delete Z.keydownHandler,delete Z.keydownTarget,delete Z.currentInstance},pt=I=>{I.isAwaitingPromise()?(Kt(hn,I),hn.awaitingPromise.set(I,!0)):(Kt(_s,I),Kt(hn,I))},Kt=(I,D)=>{for(const q in I)I[q].delete(D)};var Ft=Object.freeze({hideLoading:Wr,disableLoading:Wr,getInput:function(I){const D=hn.innerParams.get(I||this),q=hn.domCache.get(I||this);return q?Er(q.popup,D.input):null},close:ds,isAwaitingPromise:function(){return!!hn.awaitingPromise.get(this)},rejectPromise:function(I){const D=_s.swalPromiseReject.get(this);Ni(this),D&&D(I)},closePopup:ds,closeModal:ds,closeToast:ds,enableButtons:function(){K(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){K(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return L(this.getInput(),!1)},disableInput:function(){return L(this.getInput(),!0)},showValidationMessage:function(I){const D=hn.domCache.get(this),q=hn.innerParams.get(this);Mn(D.validationMessage,I),D.validationMessage.className=le["validation-message"],q.customClass&&q.customClass.validationMessage&&kt(D.validationMessage,q.customClass.validationMessage),Tt(D.validationMessage);const Ee=this.getInput();Ee&&(Ee.setAttribute("aria-invalid",!0),Ee.setAttribute("aria-describedby",le["validation-message"]),qn(Ee),kt(Ee,le.inputerror))},resetValidationMessage:function(){const I=hn.domCache.get(this);I.validationMessage&&vt(I.validationMessage);const D=this.getInput();D&&(D.removeAttribute("aria-invalid"),D.removeAttribute("aria-describedby"),wn(D,le.inputerror))},getProgressSteps:function(){return hn.domCache.get(this).progressSteps},_main:function(I,D={}){(I=>{!I.backdrop&&I.allowOutsideClick&&Ae('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const D in I)li(D),I.toast&&oo(D),_i(D)})(Object.assign({},D,I)),Z.currentInstance&&(Z.currentInstance._destroy(),sr()&&di()),Z.currentInstance=this;const q=Go(I,D);yr(q),Object.freeze(q),Z.timeout&&(Z.timeout.stop(),delete Z.timeout),clearTimeout(Z.restoreFocusTimeout);const Ee=wa(this);return Qr(this,q),hn.innerParams.set(this,q),va(this,Ee,q)},update:function(I){const D=it(),q=hn.innerParams.get(this);if(!D||qt(D,q.hideClass.popup))return Ae("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const Ee={};Object.keys(I).forEach(Wt=>{Hn.isUpdatableParameter(Wt)?Ee[Wt]=I[Wt]:Ae('Invalid parameter to update: "'.concat(Wt,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))});const mt=Object.assign({},q,Ee);Qr(this,mt),hn.innerParams.set(this,mt),Object.defineProperties(this,{params:{value:Object.assign({},this.params,I),writable:!1,enumerable:!0}})},_destroy:function(){const I=hn.domCache.get(this),D=hn.innerParams.get(this);D?(I.popup&&Z.swalCloseEventFinishedCallback&&(Z.swalCloseEventFinishedCallback(),delete Z.swalCloseEventFinishedCallback),Z.deferDisposalTimer&&(clearTimeout(Z.deferDisposalTimer),delete Z.deferDisposalTimer),"function"==typeof D.didDestroy&&D.didDestroy(),Ye(this)):pt(this)}});let _n;class fn{constructor(...D){if("undefined"==typeof window)return;_n=this;const q=Object.freeze(this.constructor.argsToParams(D));Object.defineProperties(this,{params:{value:q,writable:!1,enumerable:!0,configurable:!0}});const Ee=this._main(this.params);hn.promise.set(this,Ee)}then(D){return hn.promise.get(this).then(D)}finally(D){return hn.promise.get(this).finally(D)}}Object.assign(fn.prototype,Ft),Object.assign(fn,ao),Object.keys(Ft).forEach(I=>{fn[I]=function(...D){if(_n)return _n[I](...D)}}),fn.DismissReason=Le,fn.version="11.1.9";const Hn=fn;return Hn.default=Hn,Hn}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(Le,j){var y=Le.createElement("style");if(Le.getElementsByTagName("head")[0].appendChild(y),y.styleSheet)y.styleSheet.disabled||(y.styleSheet.cssText=j);else try{y.innerHTML=j}catch(S){y.innerText=j}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7367f0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(115,103,240,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#ea5455;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(234,84,85,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7d88;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,125,136,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 0}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 0;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},5463:(Pt,Le,j)=>{"use strict";j.r(Le),j.d(Le,{AuthModuleRoutingModule:()=>qo});var y=j(7353),S=j(665),J=j(8259),Ae=j.n(J),A=j(639),Ie=j(6893),ke=j(2626),Qe=j(8583);function fe(U,N){1&U&&(A.TgZ(0,"div",9),A._uU(1,"El email es requerido"),A.qZA())}function Y(U,N){1&U&&(A.TgZ(0,"div",9),A._uU(1,"Email invalido"),A.qZA())}function ee(U,N){1&U&&(A.TgZ(0,"div",10),A._uU(1,"La contrase\xf1a es requerida"),A.qZA())}let be=(()=>{class U{constructor(H,se,Ce,Ye){this.fb=H,this.authSvc=se,this.userSvc=Ce,this.router=Ye,this.loading=!1,this.form=H.group({email:["",[S.kI.required,this.validarEmail]],password:["",[S.kI.required]]})}ngOnInit(){}validarEmail(H){return H.value.includes("@")?null:{faltaArroba:!0}}enviarForm(){this.authSvc.Login(this.form.value.email,this.form.value.password).then(H=>{console.log(this.authSvc.user),"paciente"==this.authSvc.user.tipo&&0==this.authSvc.user.emailVerified?Ae().fire({title:"No puede iniciar sesion",text:"Para iniciar sesion debe verificar su identidad con el email que le fue enviado",icon:"error",confirmButtonText:"Aceptar"}).then(()=>{this.authSvc.Logout()}):"especialista"==this.authSvc.user.tipo&&0==this.authSvc.user.verificadoAdmin?Ae().fire({title:"No puede iniciar sesion",text:"Para iniciar sesion un administrador debe verificar su identidad",icon:"error",confirmButtonText:"Aceptar"}).then(()=>{this.authSvc.Logout()}):Ae().fire({title:"Inicio de sesion correcto",text:"Bienvenido a la Clinica OnLine",icon:"success",confirmButtonText:"Continuar"}).then(()=>{this.router.navigateByUrl("/")})})}}return U.\u0275fac=function(H){return new(H||U)(A.Y36(S.qu),A.Y36(Ie.e),A.Y36(ke.J),A.Y36(y.F0))},U.\u0275cmp=A.Xpm({type:U,selectors:[["app-login"]],decls:14,vars:5,consts:[[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","email",1,"form-control"],["id","emailHelp","style","color:red","class","form-text",4,"ngIf"],["for","inputPassword",1,"form-label"],["type","password","id","inputPassword","aria-describedby","passwordHelp","formControlName","password",1,"form-control"],["id","passwordHelp","style","color:red","class","form-text",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],["id","emailHelp",1,"form-text",2,"color","red"],["id","passwordHelp",1,"form-text",2,"color","red"]],template:function(H,se){if(1&H&&(A.TgZ(0,"form",0),A.NdJ("ngSubmit",function(){return se.enviarForm()}),A.TgZ(1,"div",1),A.TgZ(2,"label",2),A._uU(3,"Email"),A.qZA(),A._UZ(4,"input",3),A.YNc(5,fe,2,0,"div",4),A.YNc(6,Y,2,0,"div",4),A.qZA(),A.TgZ(7,"div",1),A.TgZ(8,"label",5),A._uU(9,"Contrase\xf1a"),A.qZA(),A._UZ(10,"input",6),A.YNc(11,ee,2,0,"div",7),A.qZA(),A.TgZ(12,"button",8),A._uU(13,"Confirmar"),A.qZA(),A.qZA()),2&H){let Ce,Ye,pt;A.Q6J("formGroup",se.form),A.xp6(5),A.Q6J("ngIf",(null==(Ce=se.form.get("email"))?null:Ce.hasError("required"))&&(null==(Ce=se.form.get("email"))?null:Ce.touched)),A.xp6(1),A.Q6J("ngIf",(null==(Ye=se.form.get("email"))?null:Ye.hasError("faltaArroba"))&&(null==(Ye=se.form.get("email"))?null:Ye.touched)),A.xp6(5),A.Q6J("ngIf",(null==(pt=se.form.get("password"))?null:pt.hasError("required"))&&(null==(pt=se.form.get("password"))?null:pt.touched)),A.xp6(1),A.Q6J("disabled",se.form.invalid)}},directives:[S._Y,S.JL,S.sg,S.Fj,S.JJ,S.u,Qe.O5],styles:['.button--loading[_ngcontent-%COMP%]:after{content:"";position:absolute;width:16px;height:16px;top:0;left:0;right:0;bottom:0;margin:auto;border:4px solid transparent;border-top-color:#fff;border-radius:50%;animation:button-loading-spinner 1s ease infinite}@keyframes button-loading-spinner{0%{transform:rotate(0)}to{transform:rotate(1turn)}}']}),U})();class ze{}class Fe extends ze{}class nt extends ze{}var Oe=j(1827),Ve=j(4323),le=j(1179),Be=j(4346),Me=j(3201),$e=j(1894),it=j(6885),zt=j(1926),Ot=j(8797),ie=j(8939),ue=j(4486),me=j(8239),ye=j(5452),he=j(3854),Ze=j(6034),pe=(()=>{return(U=pe||(pe={}))[U.NO_ERROR=0]="NO_ERROR",U[U.NETWORK_ERROR=1]="NETWORK_ERROR",U[U.ABORT=2]="ABORT",pe;var U})();const Ge="firebasestorage.googleapis.com",Ht="storageBucket";class Gt extends he.ZR{constructor(N,H){super(xn(N),`Firebase Storage: ${H} (${xn(N)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Gt.prototype)}_codeEquals(N){return xn(N)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(N){this.customData.serverResponse=N,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function xn(U){return"storage/"+U}function Xt(){return new Gt("unknown","An unknown error occurred, please check the error payload for server response.")}function qt(){return new Gt("canceled","User canceled the upload/download.")}function qn(){return new Gt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function kt(){return new Gt("no-download-url","The given file does not have any download URLs.")}function wn(U){return new Gt("invalid-argument",U)}function Wn(){return new Gt("app-deleted","The Firebase app was deleted.")}function Jn(U){return new Gt("invalid-root-operation","The operation '"+U+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Tt(U,N){return new Gt("invalid-format","String does not match format '"+U+"': "+N)}function vt(U){throw new Gt("internal-error","Internal error: "+U)}class Je{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=pe.NO_ERROR,this.sendPromise_=new Promise(N=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=pe.ABORT,N()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=pe.NETWORK_ERROR,N()}),this.xhr_.addEventListener("load",()=>{N()})})}send(N,H,se,Ce){if(this.sent_)throw vt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(H,N,!0),void 0!==Ce)for(const Ye in Ce)Ce.hasOwnProperty(Ye)&&this.xhr_.setRequestHeader(Ye,Ce[Ye].toString());return void 0!==se?this.xhr_.send(se):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vt("cannot .getStatus() before sending");try{return this.xhr_.status}catch(N){return-1}}getResponseText(){if(!this.sent_)throw vt("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(N){return this.xhr_.getResponseHeader(N)}addUploadProgressListener(N){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",N)}removeUploadProgressListener(N){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",N)}}class Ut{createConnection(){return new Je}}class jt{constructor(N,H){this.bucket=N,this.path_=H}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const N=encodeURIComponent;return"/b/"+N(this.bucket)+"/o/"+N(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(N,H){let se;try{se=jt.makeFromUrl(N,H)}catch(Ce){return new jt(N,"")}if(""===se.path)return se;throw new Gt("invalid-default-bucket","Invalid default bucket '"+N+"'.")}static makeFromUrl(N,H){let se=null;const Ce="([A-Za-z0-9.\\-_]+)",Kt=new RegExp("^gs://"+Ce+"(/(.*))?$","i");function _n($n){$n.path_=decodeURIComponent($n.path)}const Hn=H.replace(/[.]/g,"\\."),Gr=[{regex:Kt,indices:{bucket:1,path:3},postModify:function($n){"/"===$n.path.charAt($n.path.length-1)&&($n.path_=$n.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Hn}/v[A-Za-z0-9_]+/b/${Ce}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_n},{regex:new RegExp(`^https?://${H===Ge?"(?:storage.googleapis.com|storage.cloud.google.com)":H}/${Ce}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_n}];for(let $n=0;$n<Gr.length;$n++){const Dr=Gr[$n],qs=Dr.regex.exec(N);if(qs){let Cs=qs[Dr.indices.path];Cs||(Cs=""),se=new jt(qs[Dr.indices.bucket],Cs),Dr.postModify(se);break}}if(null==se)throw new Gt("invalid-url","Invalid URL '"+N+"'.");return se}}class wt{constructor(N){this.promise_=Promise.reject(N)}getPromise(){return this.promise_}cancel(N=!1){}}function Xn(U){return"string"==typeof U||U instanceof String}function En(U){return Cr()&&U instanceof Blob}function Cr(){return"undefined"!=typeof Blob}function hr(U,N,H,se){if(se<N)throw wn(`Invalid value for '${U}'. Expected ${N} or greater.`);if(se>H)throw wn(`Invalid value for '${U}'. Expected ${H} or less.`)}function ve(U,N,H){let se=N;return null==H&&(se=`https://${N}`),`${H}://${se}/v0${U}`}function Se(U){const N=encodeURIComponent;let H="?";for(const se in U)U.hasOwnProperty(se)&&(H=H+(N(se)+"=")+N(U[se])+"&");return H=H.slice(0,-1),H}class Re{constructor(N,H,se,Ce,Ye,pt,Kt,Ft,_n,fn,Hn){this.url_=N,this.method_=H,this.headers_=se,this.body_=Ce,this.successCodes_=Ye,this.additionalRetryCodes_=pt,this.callback_=Kt,this.errorCallback_=Ft,this.timeout_=_n,this.progressCallback_=fn,this.pool_=Hn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,D)=>{this.resolve_=I,this.reject_=D,this.start_()})}start_(){const H=(se,Ce)=>{const Ye=this.resolve_,pt=this.reject_,Kt=Ce.connection;if(Ce.wasSuccessCode)try{const Ft=this.callback_(Kt,Kt.getResponseText());void 0!==Ft?Ye(Ft):Ye()}catch(Ft){pt(Ft)}else if(null!==Kt){const Ft=Xt();Ft.serverResponse=Kt.getResponseText(),pt(this.errorCallback_?this.errorCallback_(Kt,Ft):Ft)}else pt(Ce.canceled?this.appDelete_?Wn():qt():new Gt("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?H(0,new ut(!1,null,!0)):this.backoffId_=function(U,N,H){let se=1,Ce=null,Ye=!1,pt=0;function Kt(){return 2===pt}let Ft=!1;function _n(...q){Ft||(Ft=!0,N.apply(null,q))}function fn(q){Ce=setTimeout(()=>{Ce=null,U(Hn,Kt())},q)}function Hn(q,...Ee){if(Ft)return;if(q)return void _n.call(null,q,...Ee);if(Kt()||Ye)return void _n.call(null,q,...Ee);let Wt;se<64&&(se*=2),1===pt?(pt=2,Wt=0):Wt=1e3*(se+Math.random()),fn(Wt)}let I=!1;function D(q){I||(I=!0,!Ft&&(null!==Ce?(q||(pt=2),clearTimeout(Ce),fn(0)):q||(pt=1)))}return fn(0),setTimeout(()=>{Ye=!0,D(!0)},H),D}((se,Ce)=>{if(Ce)return void se(!1,new ut(!1,null,!0));const Ye=this.pool_.createConnection();this.pendingConnection_=Ye;const pt=Kt=>{null!==this.progressCallback_&&this.progressCallback_(Kt.loaded,Kt.lengthComputable?Kt.total:-1)};null!==this.progressCallback_&&Ye.addUploadProgressListener(pt),Ye.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Ye.removeUploadProgressListener(pt),this.pendingConnection_=null;const Kt=Ye.getErrorCode()===pe.NO_ERROR,Ft=Ye.getStatus();if(!Kt||this.isRetryStatusCode_(Ft)){const fn=Ye.getErrorCode()===pe.ABORT;return void se(!1,new ut(!1,null,fn))}const _n=-1!==this.successCodes_.indexOf(Ft);se(!0,new ut(_n,Ye))})},H,this.timeout_)}getPromise(){return this.promise_}cancel(N){this.canceled_=!0,this.appDelete_=N||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(N){const H=N>=500&&N<600,Ce=-1!==[408,429].indexOf(N),Ye=-1!==this.additionalRetryCodes_.indexOf(N);return H||Ce||Ye}}class ut{constructor(N,H,se){this.wasSuccessCode=N,this.connection=H,this.canceled=!!se}}function Br(...U){const N="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==N){const H=new N;for(let se=0;se<U.length;se++)H.append(U[se]);return H.getBlob()}if(Cr())return new Blob(U);throw new Gt("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Rn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class oi{constructor(N,H){this.data=N,this.contentType=H||null}}function hn(U,N){switch(U){case Rn.RAW:return new oi(ti(N));case Rn.BASE64:case Rn.BASE64URL:return new oi(Ei(U,N));case Rn.DATA_URL:return new oi(function(U){const N=new Ci(U);return N.base64?Ei(Rn.BASE64,N.rest):function(U){let N;try{N=decodeURIComponent(U)}catch(H){throw Tt(Rn.DATA_URL,"Malformed data URL.")}return ti(N)}(N.rest)}(N),function(U){return new Ci(U).contentType}(N))}throw Xt()}function ti(U){const N=[];for(let H=0;H<U.length;H++){let se=U.charCodeAt(H);se<=127?N.push(se):se<=2047?N.push(192|se>>6,128|63&se):55296==(64512&se)?H<U.length-1&&56320==(64512&U.charCodeAt(H+1))?(se=65536|(1023&se)<<10|1023&U.charCodeAt(++H),N.push(240|se>>18,128|se>>12&63,128|se>>6&63,128|63&se)):N.push(239,191,189):56320==(64512&se)?N.push(239,191,189):N.push(224|se>>12,128|se>>6&63,128|63&se)}return new Uint8Array(N)}function Ei(U,N){switch(U){case Rn.BASE64:{const Ce=-1!==N.indexOf("-"),Ye=-1!==N.indexOf("_");if(Ce||Ye)throw Tt(U,"Invalid character '"+(Ce?"-":"_")+"' found: is it base64url encoded?");break}case Rn.BASE64URL:{const Ce=-1!==N.indexOf("+"),Ye=-1!==N.indexOf("/");if(Ce||Ye)throw Tt(U,"Invalid character '"+(Ce?"+":"/")+"' found: is it base64 encoded?");N=N.replace(/-/g,"+").replace(/_/g,"/");break}}let H;try{H=function(U){return atob(U)}(N)}catch(Ce){throw Tt(U,"Invalid character found")}const se=new Uint8Array(H.length);for(let Ce=0;Ce<H.length;Ce++)se[Ce]=H.charCodeAt(Ce);return se}class Ci{constructor(N){this.base64=!1,this.contentType=null;const H=N.match(/^data:([^,]+)?,/);if(null===H)throw Tt(Rn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const se=H[1]||null;null!=se&&(this.base64=function(U,N){return U.length>=N.length&&U.substring(U.length-N.length)===N}(se,";base64"),this.contentType=this.base64?se.substring(0,se.length-";base64".length):se),this.rest=N.substring(N.indexOf(",")+1)}}class Rr{constructor(N,H){let se=0,Ce="";En(N)?(this.data_=N,se=N.size,Ce=N.type):N instanceof ArrayBuffer?(H?this.data_=new Uint8Array(N):(this.data_=new Uint8Array(N.byteLength),this.data_.set(new Uint8Array(N))),se=this.data_.length):N instanceof Uint8Array&&(H?this.data_=N:(this.data_=new Uint8Array(N.length),this.data_.set(N)),se=N.length),this.size_=se,this.type_=Ce}size(){return this.size_}type(){return this.type_}slice(N,H){if(En(this.data_)){const Ce=function(U,N,H){return U.webkitSlice?U.webkitSlice(N,H):U.mozSlice?U.mozSlice(N,H):U.slice?U.slice(N,H):null}(this.data_,N,H);return null===Ce?null:new Rr(Ce)}{const se=new Uint8Array(this.data_.buffer,N,H-N);return new Rr(se,!0)}}static getBlob(...N){if(Cr()){const H=N.map(se=>se instanceof Rr?se.data_:se);return new Rr(Br.apply(null,H))}{const H=N.map(pt=>Xn(pt)?hn(Rn.RAW,pt).data:pt.data_);let se=0;H.forEach(pt=>{se+=pt.byteLength});const Ce=new Uint8Array(se);let Ye=0;return H.forEach(pt=>{for(let Kt=0;Kt<pt.length;Kt++)Ce[Ye++]=pt[Kt]}),new Rr(Ce,!0)}}uploadData(){return this.data_}}function Zr(U){let N;try{N=JSON.parse(U)}catch(H){return null}return function(U){return"object"==typeof U&&!Array.isArray(U)}(N)?N:null}function Zi(U){const N=U.lastIndexOf("/",U.length-2);return-1===N?U:U.slice(N+1)}function Pr(U,N){return N}class or{constructor(N,H,se,Ce){this.server=N,this.local=H||N,this.writable=!!se,this.xform=Ce||Pr}}let An=null;function ni(){if(An)return An;const U=[];U.push(new or("bucket")),U.push(new or("generation")),U.push(new or("metageneration")),U.push(new or("name","fullPath",!0));const H=new or("name");H.xform=function(Ye,pt){return function(U){return!Xn(U)||U.length<2?U:Zi(U)}(pt)},U.push(H);const Ce=new or("size");return Ce.xform=function(Ye,pt){return void 0!==pt?Number(pt):pt},U.push(Ce),U.push(new or("timeCreated")),U.push(new or("updated")),U.push(new or("md5Hash",null,!0)),U.push(new or("cacheControl",null,!0)),U.push(new or("contentDisposition",null,!0)),U.push(new or("contentEncoding",null,!0)),U.push(new or("contentLanguage",null,!0)),U.push(new or("contentType",null,!0)),U.push(new or("metadata","customMetadata",!0)),An=U,An}function on(U,N,H){const se=Zr(N);return null===se?null:function(U,N,H){const se={type:"file"},Ce=H.length;for(let Ye=0;Ye<Ce;Ye++){const pt=H[Ye];se[pt.local]=pt.xform(se,N[pt.server])}return function(U,N){Object.defineProperty(U,"ref",{get:function(){const Ye=new jt(U.bucket,U.fullPath);return N._makeStorageReference(Ye)}})}(se,U),se}(U,se,H)}function Cn(U,N){const H={},se=N.length;for(let Ce=0;Ce<se;Ce++){const Ye=N[Ce];Ye.writable&&(H[Ye.server]=U[Ye.local])}return JSON.stringify(H)}const Yr="prefixes";class Qr{constructor(N,H,se,Ce){this.url=N,this.method=H,this.handler=se,this.timeout=Ce,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Hr(U){if(!U)throw Xt()}function vn(U,N){return function(se,Ce){const Ye=on(U,Ce,N);return Hr(null!==Ye),Ye}}function $r(U){return function(H,se){let Ce;return Ce=401===H.getStatus()?H.getResponseText().includes("Firebase App Check token is invalid")?new Gt("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Gt("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===H.getStatus()?function(U){return new Gt("quota-exceeded","Quota for bucket '"+U+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(U.bucket):403===H.getStatus()?function(U){return new Gt("unauthorized","User does not have permission to access '"+U+"'.")}(U.path):se,Ce.serverResponse=se.serverResponse,Ce}}function mn(U){const N=$r(U);return function(se,Ce){let Ye=N(se,Ce);return 404===se.getStatus()&&(Ye=function(U){return new Gt("object-not-found","Object '"+U+"' does not exist.")}(U.path)),Ye.serverResponse=Ce.serverResponse,Ye}}function rr(U,N,H){const Ce=ve(N.fullServerUrl(),U.host,U._protocol),pt=U.maxOperationRetryTime,Kt=new Qr(Ce,"GET",vn(U,H),pt);return Kt.errorHandler=mn(N),Kt}function Xe(U,N,H,se,Ce){const Ye={};Ye.prefix=N.isRoot?"":N.path+"/",H&&H.length>0&&(Ye.delimiter=H),se&&(Ye.pageToken=se),Ce&&(Ye.maxResults=Ce);const Kt=ve(N.bucketOnlyServerUrl(),U.host,U._protocol),_n=U.maxOperationRetryTime,fn=new Qr(Kt,"GET",function(U,N){return function(se,Ce){const Ye=function(U,N,H){const se=Zr(H);return null===se?null:function(U,N,H){const se={prefixes:[],items:[],nextPageToken:H.nextPageToken};if(H[Yr])for(const Ce of H[Yr]){const Ye=Ce.replace(/\/$/,""),pt=U._makeStorageReference(new jt(N,Ye));se.prefixes.push(pt)}if(H.items)for(const Ce of H.items){const Ye=U._makeStorageReference(new jt(N,Ce.name));se.items.push(Ye)}return se}(U,N,se)}(U,N,Ce);return Hr(null!==Ye),Ye}}(U,N.bucket),_n);return fn.urlParams=Ye,fn.errorHandler=$r(N),fn}function Ke(U,N,H){const Ce=ve(N.fullServerUrl(),U.host,U._protocol),pt=U.maxOperationRetryTime,Kt=new Qr(Ce,"GET",function(U,N){return function(se,Ce){const Ye=on(U,Ce,N);return Hr(null!==Ye),function(U,N,H,se){const Ce=Zr(N);if(null===Ce||!Xn(Ce.downloadTokens))return null;const Ye=Ce.downloadTokens;if(0===Ye.length)return null;const pt=encodeURIComponent;return Ye.split(",").map(_n=>{const Hn=U.fullPath;return ve("/b/"+pt(U.bucket)+"/o/"+pt(Hn),H,se)+Se({alt:"media",token:_n})})[0]}(Ye,Ce,U.host,U._protocol)}}(U,H),pt);return Kt.errorHandler=mn(N),Kt}function Z(U,N,H,se){const Ye=ve(N.fullServerUrl(),U.host,U._protocol),Kt=Cn(H,se),_n=U.maxOperationRetryTime,fn=new Qr(Ye,"PATCH",vn(U,se),_n);return fn.headers={"Content-Type":"application/json; charset=utf-8"},fn.body=Kt,fn.errorHandler=mn(N),fn}function oe(U,N){const se=ve(N.fullServerUrl(),U.host,U._protocol),Kt=new Qr(se,"DELETE",function(Ft,_n){},U.maxOperationRetryTime);return Kt.successCodes=[200,204],Kt.errorHandler=mn(N),Kt}function Pe(U,N,H){const se=Object.assign({},H);return se.fullPath=U.path,se.size=N.size(),se.contentType||(se.contentType=function(U,N){return N&&N.type()||"application/octet-stream"}(0,N)),se}class St{constructor(N,H,se,Ce){this.current=N,this.total=H,this.finalized=!!se,this.metadata=Ce||null}}function Qt(U,N){let H=null;try{H=U.getResponseHeader("X-Goog-Upload-Status")}catch(Ce){Hr(!1)}return Hr(!!H&&-1!==(N||["active"]).indexOf(H)),H}const Kr={STATE_CHANGED:"state_changed"},Zn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Mi(U){switch(U){case"running":case"pausing":case"canceling":return Zn.RUNNING;case"paused":return Zn.PAUSED;case"success":return Zn.SUCCESS;case"canceled":return Zn.CANCELED;case"error":default:return Zn.ERROR}}class Pi{constructor(N,H,se){if("function"==typeof N||null!=H||null!=se)this.next=N,this.error=null!=H?H:void 0,this.complete=null!=se?se:void 0;else{const Ye=N;this.next=Ye.next,this.error=Ye.error,this.complete=Ye.complete}}}function Oi(U){return(...N)=>{Promise.resolve().then(()=>U(...N))}}class Nr{constructor(N,H,se=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=N,this._blob=H,this._metadata=se,this._mappings=ni(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Ce=>{this._request=void 0,this._chunkMultiplier=1,Ce._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=Ce,this._transition("error"))},this._metadataErrorHandler=Ce=>{this._request=void 0,Ce._codeEquals("canceled")?this.completeTransitions_():(this._error=Ce,this._transition("error"))},this._promise=new Promise((Ce,Ye)=>{this._resolve=Ce,this._reject=Ye,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const N=this._transferred;return H=>this._updateProgress(N+H)}_shouldDoResumable(N){return N.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(N){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([H,se])=>{switch(this._state){case"running":N(H,se);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((N,H)=>{const se=function(U,N,H,se,Ce){const Ye=N.bucketOnlyServerUrl(),pt=Pe(N,se,Ce),Kt={name:pt.fullPath},Ft=ve(Ye,U.host,U._protocol),fn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${se.size()}`,"X-Goog-Upload-Header-Content-Type":pt.contentType,"Content-Type":"application/json; charset=utf-8"},Hn=Cn(pt,H),q=new Qr(Ft,"POST",function(Ee){let mt;Qt(Ee);try{mt=Ee.getResponseHeader("X-Goog-Upload-URL")}catch(Wt){Hr(!1)}return Hr(Xn(mt)),mt},U.maxUploadRetryTime);return q.urlParams=Kt,q.headers=fn,q.body=Hn,q.errorHandler=$r(N),q}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ce=this._ref.storage._makeRequest(se,N,H);this._request=Ce,Ce.getPromise().then(Ye=>{this._request=void 0,this._uploadUrl=Ye,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const N=this._uploadUrl;this._resolveToken((H,se)=>{const Ce=function(U,N,H,se){const Ft=new Qr(H,"POST",function(_n){const fn=Qt(_n,["active","final"]);let Hn=null;try{Hn=_n.getResponseHeader("X-Goog-Upload-Size-Received")}catch(D){Hr(!1)}Hn||Hr(!1);const I=Number(Hn);return Hr(!isNaN(I)),new St(I,se.size(),"final"===fn)},U.maxUploadRetryTime);return Ft.headers={"X-Goog-Upload-Command":"query"},Ft.errorHandler=$r(N),Ft}(this._ref.storage,this._ref._location,N,this._blob),Ye=this._ref.storage._makeRequest(Ce,H,se);this._request=Ye,Ye.getPromise().then(pt=>{pt=pt,this._request=void 0,this._updateProgress(pt.current),this._needToFetchStatus=!1,pt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const N=262144*this._chunkMultiplier,H=new St(this._transferred,this._blob.size()),se=this._uploadUrl;this._resolveToken((Ce,Ye)=>{let pt;try{pt=function(U,N,H,se,Ce,Ye,pt,Kt){const Ft=new St(0,0);if(pt?(Ft.current=pt.current,Ft.total=pt.total):(Ft.current=0,Ft.total=se.size()),se.size()!==Ft.total)throw new Gt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const _n=Ft.total-Ft.current;let fn=_n;Ce>0&&(fn=Math.min(fn,Ce));const Hn=Ft.current,q={"X-Goog-Upload-Command":fn===_n?"upload, finalize":"upload","X-Goog-Upload-Offset":`${Ft.current}`},Ee=se.slice(Hn,Hn+fn);if(null===Ee)throw qn();const Gr=new Qr(H,"POST",function($n,Dr){const qs=Qt($n,["active","final"]),pi=Ft.current+fn,Cs=se.size();let ba;return ba="final"===qs?vn(N,Ye)($n,Dr):null,new St(pi,Cs,"final"===qs,ba)},N.maxUploadRetryTime);return Gr.headers=q,Gr.body=Ee.uploadData(),Gr.progressCallback=Kt||null,Gr.errorHandler=$r(U),Gr}(this._ref._location,this._ref.storage,se,this._blob,N,this._mappings,H,this._makeProgressCallback())}catch(Ft){return this._error=Ft,void this._transition("error")}const Kt=this._ref.storage._makeRequest(pt,Ce,Ye);this._request=Kt,Kt.getPromise().then(Ft=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Ft.current),Ft.finalized?(this._metadata=Ft.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((N,H)=>{const se=rr(this._ref.storage,this._ref._location,this._mappings),Ce=this._ref.storage._makeRequest(se,N,H);this._request=Ce,Ce.getPromise().then(Ye=>{this._request=void 0,this._metadata=Ye,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((N,H)=>{const se=function(U,N,H,se,Ce){const Ye=N.bucketOnlyServerUrl(),pt={"X-Goog-Upload-Protocol":"multipart"},Ft=function(){let Gr="";for(let $n=0;$n<2;$n++)Gr+=Math.random().toString().slice(2);return Gr}();pt["Content-Type"]="multipart/related; boundary="+Ft;const _n=Pe(N,se,Ce),fn=Cn(_n,H),D=Rr.getBlob("--"+Ft+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+fn+"\r\n--"+Ft+"\r\nContent-Type: "+_n.contentType+"\r\n\r\n",se,"\r\n--"+Ft+"--");if(null===D)throw qn();const q={name:_n.fullPath},Ee=ve(Ye,U.host,U._protocol),Wt=U.maxUploadRetryTime,Yn=new Qr(Ee,"POST",vn(U,H),Wt);return Yn.urlParams=q,Yn.headers=pt,Yn.body=D.uploadData(),Yn.errorHandler=$r(N),Yn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ce=this._ref.storage._makeRequest(se,N,H);this._request=Ce,Ce.getPromise().then(Ye=>{this._request=void 0,this._metadata=Ye,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(N){const H=this._transferred;this._transferred=N,this._transferred!==H&&this._notifyObservers()}_transition(N){if(this._state!==N)switch(N){case"canceling":case"pausing":this._state=N,void 0!==this._request&&this._request.cancel();break;case"running":const H="paused"===this._state;this._state=N,H&&(this._notifyObservers(),this._start());break;case"paused":this._state=N,this._notifyObservers();break;case"canceled":this._error=qt(),this._state=N,this._notifyObservers();break;case"error":case"success":this._state=N,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const N=Mi(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:N,metadata:this._metadata,task:this,ref:this._ref}}on(N,H,se,Ce){const Ye=new Pi(H||void 0,se||void 0,Ce||void 0);return this._addObserver(Ye),()=>{this._removeObserver(Ye)}}then(N,H){return this._promise.then(N,H)}catch(N){return this.then(null,N)}_addObserver(N){this._observers.push(N),this._notifyObserver(N)}_removeObserver(N){const H=this._observers.indexOf(N);-1!==H&&this._observers.splice(H,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(H=>{this._notifyObserver(H)})}_finishPromise(){if(void 0!==this._resolve){let N=!0;switch(Mi(this._state)){case Zn.SUCCESS:Oi(this._resolve.bind(null,this.snapshot))();break;case Zn.CANCELED:case Zn.ERROR:Oi(this._reject.bind(null,this._error))();break;default:N=!1}N&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(N){switch(Mi(this._state)){case Zn.RUNNING:case Zn.PAUSED:N.next&&Oi(N.next.bind(N,this.snapshot))();break;case Zn.SUCCESS:N.complete&&Oi(N.complete.bind(N))();break;case Zn.CANCELED:case Zn.ERROR:N.error&&Oi(N.error.bind(N,this._error))();break;default:N.error&&Oi(N.error.bind(N,this._error))()}}resume(){const N="paused"===this._state||"pausing"===this._state;return N&&this._transition("running"),N}pause(){const N="running"===this._state;return N&&this._transition("pausing"),N}cancel(){const N="running"===this._state||"pausing"===this._state;return N&&this._transition("canceling"),N}}class yi{constructor(N,H){this._service=N,this._location=H instanceof jt?H:jt.makeFromUrl(H,N.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(N,H){return new yi(N,H)}get root(){const N=new jt(this._location.bucket,"");return this._newRef(this._service,N)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Zi(this._location.path)}get storage(){return this._service}get parent(){const N=function(U){if(0===U.length)return null;const N=U.lastIndexOf("/");return-1===N?"":U.slice(0,N)}(this._location.path);if(null===N)return null;const H=new jt(this._location.bucket,N);return new yi(this._service,H)}_throwIfRoot(N){if(""===this._location.path)throw Jn(N)}}function _i(U,N,H){return cs.apply(this,arguments)}function cs(){return(cs=(0,me.Z)(function*(U,N,H){const Ce=yield ao(U,{pageToken:H});N.prefixes.push(...Ce.prefixes),N.items.push(...Ce.items),null!=Ce.nextPageToken&&(yield _i(U,N,Ce.nextPageToken))})).apply(this,arguments)}function ao(U,N){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,me.Z)(function*(U,N){null!=N&&"number"==typeof N.maxResults&&hr("options.maxResults",1,1e3,N.maxResults);const H=N||{},se=Xe(U.storage,U._location,"/",H.pageToken,H.maxResults);return(yield U.storage.makeRequestWithTokens(se)).getPromise()})).apply(this,arguments)}function ys(){return(ys=(0,me.Z)(function*(U){U._throwIfRoot("getMetadata");const N=rr(U.storage,U._location,ni());return(yield U.storage.makeRequestWithTokens(N)).getPromise()})).apply(this,arguments)}function Wi(){return(Wi=(0,me.Z)(function*(U,N){U._throwIfRoot("updateMetadata");const H=Z(U.storage,U._location,N,ni());return(yield U.storage.makeRequestWithTokens(H)).getPromise()})).apply(this,arguments)}function is(){return(is=(0,me.Z)(function*(U){U._throwIfRoot("getDownloadURL");const N=Ke(U.storage,U._location,ni());return(yield U.storage.makeRequestWithTokens(N)).getPromise().then(H=>{if(null===H)throw kt();return H})})).apply(this,arguments)}function Ki(){return(Ki=(0,me.Z)(function*(U){U._throwIfRoot("deleteObject");const N=oe(U.storage,U._location);return(yield U.storage.makeRequestWithTokens(N)).getPromise()})).apply(this,arguments)}function uo(U,N){const H=function(U,N){const H=N.split("/").filter(se=>se.length>0).join("/");return 0===U.length?H:U+"/"+H}(U._location.path,N),se=new jt(U._location.bucket,H);return new yi(U.storage,se)}function Si(U,N){if(U instanceof ri){const H=U;if(null==H._bucket)throw new Gt("no-default-bucket","No default bucket found. Did you set the '"+Ht+"' property when initializing the app?");const se=new yi(H,H._bucket);return null!=N?Si(se,N):se}return void 0!==N?uo(U,N):U}function di(U,N){if(N&&function(U){return/^[A-Za-z]+:\/\//.test(U)}(N)){if(U instanceof ri)return function(U,N){return new yi(U,N)}(U,N);throw wn("To use ref(service, url), the first argument must be a Storage instance.")}return Si(U,N)}function _s(U,N){const H=null==N?void 0:N[Ht];return null==H?null:jt.makeFromBucketSpec(H,U)}class ri{constructor(N,H,se,Ce,Ye,pt){this.app=N,this._authProvider=H,this._appCheckProvider=se,this._pool=Ce,this._url=Ye,this._firebaseVersion=pt,this._bucket=null,this._host=Ge,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Ye?jt.makeFromBucketSpec(Ye,this._host):_s(this._host,this.app.options)}get host(){return this._host}set host(N){this._host=N,this._bucket=null!=this._url?jt.makeFromBucketSpec(this._url,N):_s(N,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(N){hr("time",0,Number.POSITIVE_INFINITY,N),this._maxUploadRetryTime=N}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(N){hr("time",0,Number.POSITIVE_INFINITY,N),this._maxOperationRetryTime=N}_getAuthToken(){var N=this;return(0,me.Z)(function*(){if(N._overrideAuthToken)return N._overrideAuthToken;const H=N._authProvider.getImmediate({optional:!0});if(H){const se=yield H.getToken();if(null!==se)return se.accessToken}return null})()}_getAppCheckToken(){var N=this;return(0,me.Z)(function*(){const H=N._appCheckProvider.getImmediate({optional:!0});return H?(yield H.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(N=>N.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(N){return new yi(this,N)}_makeRequest(N,H,se){if(this._deleted)return new wt(Wn());{const Ce=function(U,N,H,se,Ce,Ye){const pt=Se(U.urlParams),Kt=U.url+pt,Ft=Object.assign({},U.headers);return function(U,N){N&&(U["X-Firebase-GMPID"]=N)}(Ft,N),function(U,N){null!==N&&N.length>0&&(U.Authorization="Firebase "+N)}(Ft,H),function(U,N){U["X-Firebase-Storage-Version"]="webjs/"+(null!=N?N:"AppManager")}(Ft,Ye),function(U,N){null!==N&&(U["X-Firebase-AppCheck"]=N)}(Ft,se),new Re(Kt,U.method,Ft,U.body,U.successCodes,U.additionalRetryCodes,U.handler,U.errorHandler,U.timeout,U.progressCallback,Ce)}(N,this._appId,H,se,this._pool,this._firebaseVersion);return this._requests.add(Ce),Ce.getPromise().then(()=>this._requests.delete(Ce),()=>this._requests.delete(Ce)),Ce}}makeRequestWithTokens(N){var H=this;return(0,me.Z)(function*(){const[se,Ce]=yield Promise.all([H._getAuthToken(),H._getAppCheckToken()]);return H._makeRequest(N,se,Ce)})()}}const ds="@firebase/storage";function xe(U,N){return di(U=(0,he.m9)(U),N)}(0,ye._registerComponent)(new Ze.wA("storage",function(U,{instanceIdentifier:N}){const H=U.getProvider("app").getImmediate(),se=U.getProvider("auth-internal"),Ce=U.getProvider("app-check-internal");return new ri(H,se,Ce,new Ut,N,ye.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,ye.registerVersion)(ds,"0.8.4",""),(0,ye.registerVersion)(ds,"0.8.4","esm2017");class W{constructor(N,H,se){this._delegate=N,this.task=H,this.ref=se}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class qe{constructor(N,H){this._delegate=N,this._ref=H,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new W(this._delegate.snapshot,this,this._ref)}then(N,H){return this._delegate.then(se=>{if(N)return N(new W(se,this,this._ref))},H)}on(N,H,se,Ce){let Ye;return H&&(Ye="function"==typeof H?pt=>H(new W(pt,this,this._ref)):{next:H.next?pt=>H.next(new W(pt,this,this._ref)):void 0,complete:H.complete||void 0,error:H.error||void 0}),this._delegate.on(N,Ye,se||void 0,Ce||void 0)}}class ft{constructor(N,H){this._delegate=N,this._service=H}get prefixes(){return this._delegate.prefixes.map(N=>new un(N,this._service))}get items(){return this._delegate.items.map(N=>new un(N,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class un{constructor(N,H){this._delegate=N,this.storage=H}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(N){const H=function(U,N){return uo(U,N)}(this._delegate,N);return new un(H,this.storage)}get root(){return new un(this._delegate.root,this.storage)}get parent(){const N=this._delegate.parent;return null==N?null:new un(N,this.storage)}put(N,H){return this._throwIfRoot("put"),new qe(function(U,N,H){return function(U,N,H){return U._throwIfRoot("uploadBytesResumable"),new Nr(U,new Rr(N),H)}(U=(0,he.m9)(U),N,H)}(this._delegate,N,H),this)}putString(N,H=Rn.RAW,se){this._throwIfRoot("putString");const Ce=hn(H,N),Ye=Object.assign({},se);return null==Ye.contentType&&null!=Ce.contentType&&(Ye.contentType=Ce.contentType),new qe(new Nr(this._delegate,new Rr(Ce.data,!0),Ye),this)}listAll(){return(U=this._delegate,function(U){const N={prefixes:[],items:[]};return _i(U,N).then(()=>N)}(U=(0,he.m9)(U))).then(N=>new ft(N,this.storage));var U}list(N){return function(U,N){return ao(U=(0,he.m9)(U),N)}(this._delegate,N||void 0).then(H=>new ft(H,this.storage))}getMetadata(){return function(U){return ys.apply(this,arguments)}((0,he.m9)(this._delegate))}updateMetadata(N){return function(U,N){return function(U,N){return Wi.apply(this,arguments)}(U=(0,he.m9)(U),N)}(this._delegate,N)}getDownloadURL(){return function(U){return is.apply(this,arguments)}((0,he.m9)(this._delegate))}delete(){return this._throwIfRoot("delete"),function(U){return Ki.apply(this,arguments)}((0,he.m9)(this._delegate))}_throwIfRoot(N){if(""===this._delegate._location.path)throw Jn(N)}}class yr{constructor(N,H){this.app=N,this._delegate=H}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(N){if(Jr(N))throw wn("ref() expected a child path but got a URL, use refFromURL instead.");return new un(xe(this._delegate,N),this)}refFromURL(N){if(!Jr(N))throw wn("refFromURL() expected a full URL but got a child path, use ref() instead.");try{jt.makeFromUrl(N,this._delegate.host)}catch(H){throw wn("refFromUrl() expected a valid full URL but got an invalid one.")}return new un(xe(this._delegate,N),this)}setMaxUploadRetryTime(N){this._delegate.maxUploadRetryTime=N}setMaxOperationRetryTime(N){this._delegate.maxOperationRetryTime=N}useEmulator(N,H,se={}){!function(U,N,H,se={}){!function(U,N,H,se={}){U.host=`${N}:${H}`,U._protocol="http";const{mockUserToken:Ce}=se;Ce&&(U._overrideAuthToken="string"==typeof Ce?Ce:(0,he.Sg)(Ce,U.app.options.projectId))}(U,N,H,se)}(this._delegate,N,H,se)}}function Jr(U){return/^[A-Za-z]+:\/\//.test(U)}function ii(U,{instanceIdentifier:N}){const H=U.getProvider("app-compat").getImmediate(),se=U.getProvider("storage").getImmediate({identifier:N});return new yr(H,se)}!function(U){const N={TaskState:Zn,TaskEvent:Kr,StringFormat:Rn,Storage:yr,Reference:un};U.INTERNAL.registerComponent(new Ze.wA("storage-compat",ii,"PUBLIC").setServiceProps(N).setMultipleInstances(!0)),U.registerVersion("@firebase/storage-compat","0.1.4")}(ue.Z);var Lo=j(2965);function Vr(U){const N=function(U){return new Oe.y(N=>{const H=pt=>N.next(pt);H(U.snapshot);const Ye=U.on("state_changed",H);return U.then(pt=>{H(pt),N.complete()},pt=>{H(U.snapshot),(pt=>{N.error(pt)})(pt)}),function(){Ye()}}).pipe(function(U,N=Be.z){return(0,Me.e)((H,se)=>{let Ce=null,Ye=null,pt=null;const Kt=()=>{if(Ce){Ce.unsubscribe(),Ce=null;const _n=Ye;Ye=null,se.next(_n)}};function Ft(){const _n=pt+U,fn=N.now();if(fn<_n)return Ce=this.schedule(void 0,_n-fn),void se.add(Ce);Kt()}H.subscribe(new $e.Q(se,_n=>{Ye=_n,pt=N.now(),Ce||(Ce=N.schedule(Ft,U),se.add(Ce))},()=>{Kt(),se.complete()},void 0,()=>{Ye=Ce=null}))})}(0))}(U);return{task:U,then:U.then.bind(U),catch:U.catch.bind(U),pause:U.pause.bind(U),cancel:U.cancel.bind(U),resume:U.resume.bind(U),snapshotChanges:()=>N,percentageChanges:()=>N.pipe((0,it.U)(H=>H.bytesTransferred/H.totalBytes*100))}}function Ri(U){return{getDownloadURL:()=>(0,Ve.of)(void 0).pipe(Ot.fc,(0,zt.w)(()=>U.getDownloadURL()),Ot.iC),getMetadata:()=>(0,Ve.of)(void 0).pipe(Ot.fc,(0,zt.w)(()=>U.getMetadata()),Ot.iC),delete:()=>(0,le.D)(U.delete()),child:N=>Ri(U.child(N)),updateMetadata:N=>(0,le.D)(U.updateMetadata(N)),put:(N,H)=>Vr(U.put(N,H)),putString:(N,H,se)=>Vr(U.putString(N,H,se)),list:N=>(0,le.D)(U.list(N)),listAll:()=>(0,le.D)(U.listAll())}}j(7841);const $s=new A.OlP("angularfire2.storageBucket"),In=new A.OlP("angularfire2.storage.maxUploadRetryTime"),Vo=new A.OlP("angularfire2.storage.maxOperationRetryTime"),Eo=new A.OlP("angularfire2.storage.use-emulator");let lo=(()=>{class U{constructor(H,se,Ce,Ye,pt,Kt,Ft,_n,fn,Hn){const I=(0,ie.on)(H,pt,se);this.storage=(0,ie.cc)(`${I.name}.storage.${Ce}`,"AngularFireStorage",I.name,()=>{const D=pt.runOutsideAngular(()=>I.storage(Ce||void 0)),q=fn;return q&&D.useEmulator(...q),Ft&&D.setMaxUploadRetryTime(Ft),_n&&D.setMaxOperationRetryTime(_n),D},[Ft,_n])}ref(H){return Ri(this.storage.ref(H))}refFromURL(H){return Ri(this.storage.refFromURL(H))}upload(H,se,Ce){return Ri(this.storage.ref(H)).put(se,Ce)}}return U.\u0275fac=function(H){return new(H||U)(A.LFG(ie.Dh),A.LFG(ie.xv,8),A.LFG($s,8),A.LFG(A.Lbi),A.LFG(A.R0b),A.LFG(Ot.HU),A.LFG(In,8),A.LFG(Vo,8),A.LFG(Eo,8),A.LFG(Lo.nm,8))},U.\u0275prov=A.Yz7({token:U,factory:U.\u0275fac,providedIn:"any"}),U})();var Uo=j(743);let bt=(()=>{class U{constructor(H){this.firestore=H}TraerTodas(){return new Promise((H,se)=>{this.firestore.collection("especialidades").valueChanges().subscribe(Ce=>{H(Ce)})})}AgregarUna(H){this.firestore.collection("especialidades").add(Object.assign({},H))}}return U.\u0275fac=function(H){return new(H||U)(A.LFG(Uo.ST))},U.\u0275prov=A.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})();function er(U,N){if(1&U){const H=A.EpF();A.TgZ(0,"div",2),A.TgZ(1,"h2"),A._uU(2,"\xbfQue tipo de usuario desea registrar?"),A.qZA(),A.TgZ(3,"div",3),A.NdJ("click",function(){return A.CHM(H),A.oxw().tipoRegistro="paciente"}),A.TgZ(4,"p"),A._UZ(5,"img",4),A.qZA(),A.TgZ(6,"h3"),A._uU(7,"Paciente"),A.qZA(),A.qZA(),A.TgZ(8,"div",3),A.NdJ("click",function(){return A.CHM(H),A.oxw().tipoRegistro="especialista"}),A.TgZ(9,"p"),A._UZ(10,"img",5),A.qZA(),A.TgZ(11,"h3"),A._uU(12,"Especialista"),A.qZA(),A.qZA(),A.qZA()}}function Bo(U,N){1&U&&(A.TgZ(0,"div",38),A._uU(1,"El nombre es requerido"),A.qZA())}function Xr(U,N){1&U&&(A.TgZ(0,"div",39),A._uU(1,"El apellido es requerido"),A.qZA())}function co(U,N){1&U&&(A.TgZ(0,"div",40),A._uU(1,"La edad es requerida"),A.qZA())}function ss(U,N){1&U&&(A.TgZ(0,"div",41),A._uU(1,"El DNI es requerido"),A.qZA())}function fs(U,N){1&U&&(A.TgZ(0,"div",41),A._uU(1," DNI invalido"),A.qZA())}function Ws(U,N){1&U&&(A.TgZ(0,"div",42),A._uU(1," La obra social es requerida"),A.qZA())}function ho(U,N){1&U&&(A.TgZ(0,"div",43),A._uU(1,"El email es requerido"),A.qZA())}function Gs(U,N){1&U&&(A.TgZ(0,"div",43),A._uU(1,"Email invalido"),A.qZA())}function Ks(U,N){1&U&&(A.TgZ(0,"div",44),A._uU(1,"La contrase\xf1a es requerida"),A.qZA())}function Qi(U,N){1&U&&(A.TgZ(0,"div",45),A._uU(1,"La imagen es requerida"),A.qZA())}function Ys(U,N){1&U&&(A.TgZ(0,"div",45),A._uU(1,"Formato de archivo incorrecto"),A.qZA())}function si(U,N){1&U&&(A.TgZ(0,"div",46),A._uU(1,"La imagen es requerida"),A.qZA())}function Fi(U,N){1&U&&(A.TgZ(0,"div",46),A._uU(1,"Formato de archivo incorrecto"),A.qZA())}function xs(U,N){if(1&U){const H=A.EpF();A.TgZ(0,"form",6),A.NdJ("ngSubmit",function(){return A.CHM(H),A.oxw().enviarFormPaciente()}),A.TgZ(1,"div",7),A.TgZ(2,"div",8),A.TgZ(3,"label",9),A._uU(4,"Nombre"),A.qZA(),A._UZ(5,"input",10),A.YNc(6,Bo,2,0,"div",11),A.qZA(),A.TgZ(7,"div",8),A.TgZ(8,"label",12),A._uU(9,"Apellido"),A.qZA(),A._UZ(10,"input",13),A.YNc(11,Xr,2,0,"div",14),A.qZA(),A.qZA(),A.TgZ(12,"div",7),A.TgZ(13,"div",15),A.TgZ(14,"label",16),A._uU(15,"Edad"),A.qZA(),A._UZ(16,"input",17),A.YNc(17,co,2,0,"div",18),A.qZA(),A.TgZ(18,"div",8),A.TgZ(19,"label",19),A._uU(20,"DNI"),A.qZA(),A._UZ(21,"input",20),A.YNc(22,ss,2,0,"div",21),A.YNc(23,fs,2,0,"div",21),A.qZA(),A.TgZ(24,"div",15),A.TgZ(25,"label",22),A._uU(26,"Obra Social"),A.qZA(),A._UZ(27,"input",23),A.YNc(28,Ws,2,0,"div",24),A.qZA(),A.qZA(),A.TgZ(29,"div",7),A.TgZ(30,"div",8),A.TgZ(31,"label",25),A._uU(32,"Email"),A.qZA(),A._UZ(33,"input",26),A.YNc(34,ho,2,0,"div",27),A.YNc(35,Gs,2,0,"div",27),A.qZA(),A.TgZ(36,"div",8),A.TgZ(37,"label",28),A._uU(38,"Contrase\xf1a"),A.qZA(),A._UZ(39,"input",29),A.YNc(40,Ks,2,0,"div",30),A.qZA(),A.qZA(),A.TgZ(41,"div",7),A.TgZ(42,"div",8),A.TgZ(43,"p"),A.TgZ(44,"label",31),A._uU(45,"Imagen 1"),A.qZA(),A.qZA(),A.TgZ(46,"input",32),A.NdJ("change",function(Ce){return A.CHM(H),A.oxw().cambioFoto(Ce,1)}),A.qZA(),A.YNc(47,Qi,2,0,"div",33),A.YNc(48,Ys,2,0,"div",33),A.qZA(),A.TgZ(49,"div",8),A.TgZ(50,"p"),A.TgZ(51,"label",34),A._uU(52,"Imagen 2"),A.qZA(),A.qZA(),A.TgZ(53,"input",35),A.NdJ("change",function(Ce){return A.CHM(H),A.oxw().cambioFoto(Ce,2)}),A.qZA(),A.YNc(54,si,2,0,"div",36),A.YNc(55,Fi,2,0,"div",36),A.qZA(),A.qZA(),A.TgZ(56,"button",37),A._uU(57,"Confirmar"),A.qZA(),A.qZA()}if(2&U){const H=A.oxw();let se,Ce,Ye,pt,Kt,Ft,_n,fn,Hn,I,D,q,Ee;A.Q6J("formGroup",H.formPaciente),A.xp6(6),A.Q6J("ngIf",(null==(se=H.formPaciente.get("nombre"))?null:se.hasError("required"))&&(null==(se=H.formPaciente.get("nombre"))?null:se.touched)),A.xp6(5),A.Q6J("ngIf",(null==(Ce=H.formPaciente.get("apellido"))?null:Ce.hasError("required"))&&(null==(Ce=H.formPaciente.get("apellido"))?null:Ce.touched)),A.xp6(6),A.Q6J("ngIf",(null==(Ye=H.formPaciente.get("edad"))?null:Ye.hasError("required"))&&(null==(Ye=H.formPaciente.get("edad"))?null:Ye.touched)),A.xp6(5),A.Q6J("ngIf",(null==(pt=H.formPaciente.get("dni"))?null:pt.hasError("required"))&&(null==(pt=H.formPaciente.get("dni"))?null:pt.touched)),A.xp6(1),A.Q6J("ngIf",((null==(Kt=H.formPaciente.get("dni"))?null:Kt.hasError("max"))||(null==(Kt=H.formPaciente.get("dni"))?null:Kt.hasError("min")))&&(null==(Kt=H.formPaciente.get("dni"))?null:Kt.touched)),A.xp6(5),A.Q6J("ngIf",(null==(Ft=H.formPaciente.get("obraSocial"))?null:Ft.hasError("required"))&&(null==(Ft=H.formPaciente.get("obraSocial"))?null:Ft.touched)),A.xp6(6),A.Q6J("ngIf",(null==(_n=H.formPaciente.get("email"))?null:_n.hasError("required"))&&(null==(_n=H.formPaciente.get("email"))?null:_n.touched)),A.xp6(1),A.Q6J("ngIf",(null==(fn=H.formPaciente.get("email"))?null:fn.hasError("faltaArroba"))&&(null==(fn=H.formPaciente.get("email"))?null:fn.touched)),A.xp6(5),A.Q6J("ngIf",(null==(Hn=H.formPaciente.get("password"))?null:Hn.hasError("required"))&&(null==(Hn=H.formPaciente.get("password"))?null:Hn.touched)),A.xp6(7),A.Q6J("ngIf",(null==(I=H.formPaciente.get("imagen1"))?null:I.hasError("required"))&&(null==(I=H.formPaciente.get("imagen1"))?null:I.touched)),A.xp6(1),A.Q6J("ngIf",(null==(D=H.formPaciente.get("imagen1"))?null:D.hasError("formatoInvalido"))&&(null==(D=H.formPaciente.get("imagen1"))?null:D.touched)),A.xp6(6),A.Q6J("ngIf",(null==(q=H.formPaciente.get("imagen2"))?null:q.hasError("required"))&&(null==(q=H.formPaciente.get("imagen2"))?null:q.touched)),A.xp6(1),A.Q6J("ngIf",(null==(Ee=H.formPaciente.get("imagen2"))?null:Ee.hasError("formatoInvalido"))&&(null==(Ee=H.formPaciente.get("imagen2"))?null:Ee.touched)),A.xp6(1),A.Q6J("disabled",H.formPaciente.invalid)}}function Qs(U,N){1&U&&(A.TgZ(0,"div",38),A._uU(1,"El nombre es requerido"),A.qZA())}function wr(U,N){1&U&&(A.TgZ(0,"div",39),A._uU(1,"El apellido es requerido"),A.qZA())}function jo(U,N){1&U&&(A.TgZ(0,"div",40),A._uU(1,"La edad es requerida"),A.qZA())}function Io(U,N){1&U&&(A.TgZ(0,"div",41),A._uU(1,"El DNI es requerido"),A.qZA())}function Ho(U,N){1&U&&(A.TgZ(0,"div",41),A._uU(1," DNI invalido"),A.qZA())}function To(U,N){if(1&U&&(A.TgZ(0,"option",54),A._uU(1),A.qZA()),2&U){const H=N.$implicit;A.Q6J("value",H.nombre),A.xp6(1),A.Oqu(H.nombre)}}function ea(U,N){1&U&&(A.TgZ(0,"div",55),A._uU(1," La especialidad es requerida"),A.qZA())}function fo(U,N){if(1&U){const H=A.EpF();A.TgZ(0,"div",15),A.TgZ(1,"label",48),A._uU(2,"Especialidad"),A.qZA(),A.TgZ(3,"select",49),A.NdJ("change",function(Ce){return A.CHM(H),A.oxw(2).onChangeEspecialidad(Ce)}),A.TgZ(4,"option",50),A._uU(5,"Elija una especialidad"),A.qZA(),A.YNc(6,To,2,2,"option",51),A.TgZ(7,"option",52),A._uU(8,"Agregar una nueva especialidad"),A.qZA(),A.qZA(),A.YNc(9,ea,2,0,"div",53),A.qZA()}if(2&U){const H=A.oxw(2);let se;A.xp6(6),A.Q6J("ngForOf",H.especialidades),A.xp6(3),A.Q6J("ngIf",(null==(se=H.formEspecialista.get("especialidad"))?null:se.hasError("required"))&&(null==(se=H.formEspecialista.get("especialidad"))?null:se.touched))}}function ta(U,N){1&U&&(A.TgZ(0,"div",55),A._uU(1," La especialidad es requerida"),A.qZA())}function Rs(U,N){if(1&U&&(A.TgZ(0,"div",15),A.TgZ(1,"label",48),A._uU(2,"Especialidad"),A.qZA(),A._UZ(3,"input",56),A.YNc(4,ta,2,0,"div",53),A.qZA()),2&U){const H=A.oxw(2);let se;A.xp6(4),A.Q6J("ngIf",(null==(se=H.formEspecialista.get("especialidad"))?null:se.hasError("required"))&&(null==(se=H.formEspecialista.get("especialidad"))?null:se.touched))}}function po(U,N){1&U&&(A.TgZ(0,"div",43),A._uU(1,"El email es requerido"),A.qZA())}function $o(U,N){1&U&&(A.TgZ(0,"div",43),A._uU(1,"Email invalido"),A.qZA())}function $i(U,N){1&U&&(A.TgZ(0,"div",44),A._uU(1,"La contrase\xf1a es requerida"),A.qZA())}function Za(U,N){1&U&&(A.TgZ(0,"div",45),A._uU(1,"La imagen es requerida"),A.qZA())}function _u(U,N){1&U&&(A.TgZ(0,"div",45),A._uU(1,"Formato de archivo incorrecto"),A.qZA())}function Go(U,N){if(1&U){const H=A.EpF();A.TgZ(0,"form",6),A.NdJ("ngSubmit",function(){return A.CHM(H),A.oxw().enviarFormEspecialista()}),A.TgZ(1,"div",7),A.TgZ(2,"div",8),A.TgZ(3,"label",9),A._uU(4,"Nombre"),A.qZA(),A._UZ(5,"input",10),A.YNc(6,Qs,2,0,"div",11),A.qZA(),A.TgZ(7,"div",8),A.TgZ(8,"label",12),A._uU(9,"Apellido"),A.qZA(),A._UZ(10,"input",13),A.YNc(11,wr,2,0,"div",14),A.qZA(),A.qZA(),A.TgZ(12,"div",7),A.TgZ(13,"div",15),A.TgZ(14,"label",16),A._uU(15,"Edad"),A.qZA(),A._UZ(16,"input",17),A.YNc(17,jo,2,0,"div",18),A.qZA(),A.TgZ(18,"div",8),A.TgZ(19,"label",19),A._uU(20,"DNI"),A.qZA(),A._UZ(21,"input",20),A.YNc(22,Io,2,0,"div",21),A.YNc(23,Ho,2,0,"div",21),A.qZA(),A.YNc(24,fo,10,2,"div",47),A.YNc(25,Rs,5,1,"div",47),A.qZA(),A.TgZ(26,"div",7),A.TgZ(27,"div",8),A.TgZ(28,"label",25),A._uU(29,"Email"),A.qZA(),A._UZ(30,"input",26),A.YNc(31,po,2,0,"div",27),A.YNc(32,$o,2,0,"div",27),A.qZA(),A.TgZ(33,"div",8),A.TgZ(34,"label",28),A._uU(35,"Contrase\xf1a"),A.qZA(),A._UZ(36,"input",29),A.YNc(37,$i,2,0,"div",30),A.qZA(),A.qZA(),A.TgZ(38,"div",7),A.TgZ(39,"div",8),A.TgZ(40,"p"),A.TgZ(41,"label",31),A._uU(42,"Imagen 1"),A.qZA(),A.qZA(),A.TgZ(43,"input",32),A.NdJ("change",function(Ce){return A.CHM(H),A.oxw().cambioFoto(Ce,1)}),A.qZA(),A.YNc(44,Za,2,0,"div",33),A.YNc(45,_u,2,0,"div",33),A.qZA(),A.qZA(),A.TgZ(46,"button",37),A._uU(47,"Confirmar"),A.qZA(),A.qZA()}if(2&U){const H=A.oxw();let se,Ce,Ye,pt,Kt,Ft,_n,fn,Hn,I;A.Q6J("formGroup",H.formEspecialista),A.xp6(6),A.Q6J("ngIf",(null==(se=H.formEspecialista.get("nombre"))?null:se.hasError("required"))&&(null==(se=H.formEspecialista.get("nombre"))?null:se.touched)),A.xp6(5),A.Q6J("ngIf",(null==(Ce=H.formEspecialista.get("apellido"))?null:Ce.hasError("required"))&&(null==(Ce=H.formEspecialista.get("apellido"))?null:Ce.touched)),A.xp6(6),A.Q6J("ngIf",(null==(Ye=H.formEspecialista.get("edad"))?null:Ye.hasError("required"))&&(null==(Ye=H.formEspecialista.get("edad"))?null:Ye.touched)),A.xp6(5),A.Q6J("ngIf",(null==(pt=H.formEspecialista.get("dni"))?null:pt.hasError("required"))&&(null==(pt=H.formEspecialista.get("dni"))?null:pt.touched)),A.xp6(1),A.Q6J("ngIf",((null==(Kt=H.formEspecialista.get("dni"))?null:Kt.hasError("max"))||(null==(Kt=H.formEspecialista.get("dni"))?null:Kt.hasError("min")))&&(null==(Kt=H.formEspecialista.get("dni"))?null:Kt.touched)),A.xp6(1),A.Q6J("ngIf",0==H.nueva),A.xp6(1),A.Q6J("ngIf",1==H.nueva),A.xp6(6),A.Q6J("ngIf",(null==(Ft=H.formEspecialista.get("email"))?null:Ft.hasError("required"))&&(null==(Ft=H.formEspecialista.get("email"))?null:Ft.touched)),A.xp6(1),A.Q6J("ngIf",(null==(_n=H.formEspecialista.get("email"))?null:_n.hasError("faltaArroba"))&&(null==(_n=H.formEspecialista.get("email"))?null:_n.touched)),A.xp6(5),A.Q6J("ngIf",(null==(fn=H.formEspecialista.get("password"))?null:fn.hasError("required"))&&(null==(fn=H.formEspecialista.get("password"))?null:fn.touched)),A.xp6(7),A.Q6J("ngIf",(null==(Hn=H.formEspecialista.get("imagen1"))?null:Hn.hasError("required"))&&(null==(Hn=H.formEspecialista.get("imagen1"))?null:Hn.touched)),A.xp6(1),A.Q6J("ngIf",(null==(I=H.formEspecialista.get("imagen1"))?null:I.hasError("formatoInvalido"))&&(null==(I=H.formEspecialista.get("imagen1"))?null:I.touched)),A.xp6(1),A.Q6J("disabled",H.formEspecialista.invalid)}}const wa=[{path:"registrarse",component:(()=>{class U{constructor(H,se,Ce,Ye,pt){this.fb=H,this.storage=se,this.authSvc=Ce,this.router=Ye,this.especSvc=pt,this.nueva=!1,this.tipoRegistro="",this.formPaciente=H.group({nombre:["",[S.kI.required]],apellido:["",[S.kI.required]],edad:["",[S.kI.required]],dni:["",[S.kI.required,S.kI.min(11111111),S.kI.max(99999999)]],obraSocial:["",[S.kI.required]],email:["",[S.kI.required,this.validarEmail]],password:["",[S.kI.required]],imagen1:["",[S.kI.required,this.validarImagen]],imagen2:["",[S.kI.required,this.validarImagen]]}),this.formEspecialista=H.group({nombre:["",[S.kI.required]],apellido:["",[S.kI.required]],edad:["",[S.kI.required]],dni:["",[S.kI.required,S.kI.min(11111111),S.kI.max(99999999)]],especialidad:["",[S.kI.required]],email:["",[S.kI.required,this.validarEmail]],password:["",[S.kI.required]],imagen1:["",[S.kI.required,this.validarImagen]]}),this.especSvc.TraerTodas().then(Kt=>{this.especialidades=Kt,console.log(this.especialidades)})}ngOnInit(){}enviarFormPaciente(){var H=new Fe;H.nombre=this.formPaciente.value.nombre,H.apellido=this.formPaciente.value.apellido,H.edad=this.formPaciente.value.edad,H.dni=this.formPaciente.value.dni,H.obraSocial=this.formPaciente.value.obraSocial,H.correo=this.formPaciente.value.email,H.password=this.formPaciente.value.password,H.imagen1=1,H.imagen2=2,H.tipo="paciente",this.authSvc.RegistrarPaciente(H).then(se=>{this.subirFotos(se.user.uid),Ae().fire({title:"Registro exitoso!!",text:"Se le ha enviado un email de verificacion. Debe aceptarlo para poder iniciar sesion",icon:"success",confirmButtonText:"Volver al inicio"}).then(()=>{this.router.navigateByUrl("/")})})}validarEmail(H){return H.value.includes("@")?null:{faltaArroba:!0}}validarImagen(H){var se=H.value.split(".")[1];return"jpg"==se||"jpeg"==se||"png"==se?null:{formatoInvalido:!0}}cambioFoto(H,se){1==se?this.foto1=H.target.files[0]:this.foto2=H.target.files[0],console.log(this.foto1)}subirFotos(H){this.foto1&&this.storage.upload(`/usuarios/${H}/1`,this.foto1),this.foto2&&this.storage.upload(`/usuarios/${H}/2`,this.foto2)}enviarFormEspecialista(){var H=new nt;H.nombre=this.formEspecialista.value.nombre,H.apellido=this.formEspecialista.value.apellido,H.edad=this.formEspecialista.value.edad,H.dni=this.formEspecialista.value.dni,H.especialidad=this.formEspecialista.value.especialidad,H.correo=this.formEspecialista.value.email,H.password=this.formEspecialista.value.password,H.imagen1=1,H.verificadoAdmin=!1,H.tipo="especialista",console.log(H),this.authSvc.RegistrarEspecialista(H).then(se=>{1==this.nueva&&this.especSvc.AgregarUna({nombre:this.formEspecialista.value.especialidad}),this.subirFotos(se.user.uid),Ae().fire({title:"Registro exitoso!!",text:"Un administrador debe validar su usuario para que pueda ingresar",icon:"success",confirmButtonText:"Volver al inicio"}).then(()=>{this.router.navigateByUrl("/")})})}onChangeEspecialidad(H){"nueva"==H.target.value&&(this.formEspecialista.get("especialidad").reset(),this.nueva=!0)}}return U.\u0275fac=function(H){return new(H||U)(A.Y36(S.qu),A.Y36(lo),A.Y36(Ie.e),A.Y36(y.F0),A.Y36(bt))},U.\u0275cmp=A.Xpm({type:U,selectors:[["app-registro"]],decls:3,vars:3,consts:[["class","row text-center",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"row","text-center"],[1,"col-6",3,"click"],["src","../../../assets/paciente.png",2,"max-width","400px"],["src","../../../assets/especialista.png",2,"max-width","400px"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"mb-3","col-6"],["for","inputNombre",1,"form-label"],["type","text","id","inputNombre","aria-describedby","nombreHelp","formControlName","nombre",1,"form-control"],["id","nombreHelp","style","color:red","class","form-text",4,"ngIf"],["for","inputApellido",1,"form-label"],["type","text","id","inputApellido","aria-describedby","apellidoHelp","formControlName","apellido",1,"form-control"],["id","apellidoHelp","style","color:red","class","form-text",4,"ngIf"],[1,"mb-3","col-3"],["for","inputEdad",1,"form-label"],["type","number","id","inputEdad","aria-describedby","edadHelp","formControlName","edad",1,"form-control"],["id","edadHelp","style","color:red","class","form-text",4,"ngIf"],["for","inputDni",1,"form-label"],["type","number","id","inputDni","aria-describedby","dniHelp","formControlName","dni",1,"form-control"],["id","dniHelp","style","color:red","class","form-text",4,"ngIf"],["for","inputObraSocial",1,"form-label"],["type","text","id","inputObraSocial","aria-describedby","obraSocialHelp","formControlName","obraSocial",1,"form-control"],["id","obraSocialHelp","style","color:red","class","form-text",4,"ngIf"],["for","exampleInputEmail1",1,"form-label"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","email",1,"form-control"],["id","emailHelp","style","color:red","class","form-text",4,"ngIf"],["for","inputPassword",1,"form-label"],["type","password","id","inputPassword","aria-describedby","passwordHelp","formControlName","password",1,"form-control"],["id","passwordHelp","style","color:red","class","form-text",4,"ngIf"],["for","inputImagen1",1,"form-label"],["type","file","accept",".jpg,.jpeg,.png","formControlName","imagen1","id","inputImagen1","aria-describedby","imagen1Help",3,"change"],["id","imagen1Help","style","color:red","class","form-text",4,"ngIf"],["for","inputImagen2",1,"form-label"],["type","file","accept",".jpg,.jpeg,.png","formControlName","imagen2","id","inputImagen2","aria-describedby","imagen2Help",3,"change"],["id","imagen2Help","style","color:red","class","form-text",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],["id","nombreHelp",1,"form-text",2,"color","red"],["id","apellidoHelp",1,"form-text",2,"color","red"],["id","edadHelp",1,"form-text",2,"color","red"],["id","dniHelp",1,"form-text",2,"color","red"],["id","obraSocialHelp",1,"form-text",2,"color","red"],["id","emailHelp",1,"form-text",2,"color","red"],["id","passwordHelp",1,"form-text",2,"color","red"],["id","imagen1Help",1,"form-text",2,"color","red"],["id","imagen2Help",1,"form-text",2,"color","red"],["class","mb-3 col-3",4,"ngIf"],["for","inputEspecialidad",1,"form-label"],["id","inputEspecialidad","aria-describedby","especialidadHelp","formControlName","especialidad",1,"form-control",3,"change"],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],["value","nueva"],["id","especialidadHelp","style","color:red","class","form-text",4,"ngIf"],[3,"value"],["id","especialidadHelp",1,"form-text",2,"color","red"],["type","text","id","inputEspecialidad","aria-describedby","especialidadHelp","formControlName","especialidad",1,"form-control"]],template:function(H,se){1&H&&(A.YNc(0,er,13,0,"div",0),A.YNc(1,xs,58,15,"form",1),A.YNc(2,Go,48,14,"form",1)),2&H&&(A.Q6J("ngIf",""==se.tipoRegistro),A.xp6(1),A.Q6J("ngIf","paciente"==se.tipoRegistro),A.xp6(1),A.Q6J("ngIf","especialista"==se.tipoRegistro))},directives:[Qe.O5,S._Y,S.JL,S.sg,S.Fj,S.JJ,S.u,S.wV,S.EJ,S.YN,S.Kr,Qe.sg],styles:[""]}),U})()},{path:"login",component:be}];let qo=(()=>{class U{}return U.\u0275fac=function(H){return new(H||U)},U.\u0275mod=A.oAB({type:U}),U.\u0275inj=A.cJS({imports:[[y.Bz.forChild(wa)],y.Bz]}),U})()},6893:(Pt,Le,j)=>{"use strict";j.d(Le,{e:()=>Ae});var y=j(639),S=j(8778),J=j(743);let Ae=(()=>{class A{constructor(ke,Qe){this.afAuth=ke,this.firestore=Qe}Register(ke,Qe){return new Promise((fe,Y)=>{this.afAuth.createUserWithEmailAndPassword(ke,Qe).then(ee=>{fe(ee)},ee=>{switch(ee.code){case"auth/weak-password":Y("clave muy corta,minimo 6 caracteres");break;case"auth/invalid-email":Y("email invalido");break;case"auth/wrong-password":Y("clave invalida");break;case"auth/email-already-in-use":Y("El correo ya se encuentra tomado");break;default:Y("ERROR")}})})}RegistrarPaciente(ke){return new Promise((Qe,fe)=>{this.Register(ke.correo,ke.password).then(Y=>{Y.user.sendEmailVerification(),this.firestore.collection("usuarios").doc(Y.user.uid).set(Object.assign({},ke)),Qe(Y)})})}Login(ke,Qe){return new Promise((fe,Y)=>{this.afAuth.signInWithEmailAndPassword(ke,Qe).then(ee=>{this.firestore.collection("usuarios").doc(ee.user.uid).valueChanges().subscribe(be=>{this.user=be,fe(ee)})},ee=>{switch(ee.code){case"auth/user-not-found":Y("El usuario no existe");break;case"auth/invalid-email":Y("email invalido");break;case"auth/wrong-password":Y("clave incorrecta");break;default:Y("ERROR")}})})}Logout(){this.afAuth.signOut()}RegistrarEspecialista(ke){return new Promise((Qe,fe)=>{this.Register(ke.correo,ke.password).then(Y=>{this.firestore.collection("usuarios").doc(Y.user.uid).set(Object.assign({},ke)),Qe(Y)})})}}return A.\u0275fac=function(ke){return new(ke||A)(y.LFG(S.zQ),y.LFG(J.ST))},A.\u0275prov=y.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})()},2626:(Pt,Le,j)=>{"use strict";j.d(Le,{J:()=>J});var y=j(639),S=j(743);let J=(()=>{class Ae{constructor(Ie){this.firestore=Ie}BuscarUnPaciente(Ie){return this.firestore.collection("pacientes").doc(Ie).valueChanges()}BuscarUnEspecialista(Ie){return this.firestore.collection("especialistas").doc(Ie).valueChanges()}BuscarDentistas(){return this.firestore.collection("especialistas",Ie=>Ie.where("especialidad","==","Dentista"))}TraerTodos(){return this.firestore.collection("usuarios").valueChanges()}}return Ae.\u0275fac=function(Ie){return new(Ie||Ae)(y.LFG(S.ST))},Ae.\u0275prov=y.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})()},4343:(Pt,Le,j)=>{"use strict";j.r(Le),j.d(Le,{UsuariosRoutingModule:()=>Qe});var y=j(7353),S=j(639),J=j(2626),Ae=j(8583);function A(fe,Y){if(1&fe&&(S.TgZ(0,"tr"),S.TgZ(1,"td"),S._UZ(2,"img",4),S.qZA(),S.TgZ(3,"td"),S._UZ(4,"img",4),S.qZA(),S.TgZ(5,"td"),S._uU(6),S.qZA(),S.TgZ(7,"td"),S._uU(8),S.qZA(),S.TgZ(9,"td"),S._uU(10),S.qZA(),S.TgZ(11,"td"),S._uU(12),S.qZA(),S.TgZ(13,"td"),S._uU(14),S.qZA(),S.TgZ(15,"td"),S._uU(16),S.qZA(),S.qZA()),2&fe){const ee=Y.$implicit;S.xp6(6),S.Oqu(ee.nombre),S.xp6(2),S.Oqu(ee.apellido),S.xp6(2),S.Oqu(ee.dni),S.xp6(2),S.Oqu(ee.edad),S.xp6(2),S.Oqu(ee.correo),S.xp6(2),S.Oqu(ee.obraSocial)}}const ke=[{path:"usuarios",component:(()=>{class fe{constructor(ee){this.usuariosSvc=ee,this.page=1,this.pageSize=5,this.listaUsuarios=[],this.usuariosSvc.TraerTodos().subscribe(be=>{this.listaUsuarios=be,this.pacientes=this.listaUsuarios.filter(ze=>"paciente"==ze.tipo),console.log(this.pacientes)})}ngOnInit(){}refreshPacientes(){this.pacientes=this.pacientes.map((ee,be)=>Object.assign({id:be+1},ee)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}}return fe.\u0275fac=function(ee){return new(ee||fe)(S.Y36(J.J))},fe.\u0275cmp=S.Xpm({type:fe,selectors:[["app-usuarios"]],decls:26,vars:1,consts:[[1,"container"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["src","../../../assets/logo.png",1,"fotoTabla"]],template:function(ee,be){1&ee&&(S.TgZ(0,"h1"),S._uU(1,"Usuarios"),S.qZA(),S.TgZ(2,"div",0),S.TgZ(3,"h4"),S._uU(4,"Pacientes"),S.qZA(),S.TgZ(5,"table",1),S.TgZ(6,"thead"),S.TgZ(7,"tr"),S.TgZ(8,"th",2),S._uU(9,"Imagen1"),S.qZA(),S.TgZ(10,"th",2),S._uU(11,"Imagen2"),S.qZA(),S.TgZ(12,"th",2),S._uU(13,"Nombre"),S.qZA(),S.TgZ(14,"th",2),S._uU(15,"Apellido"),S.qZA(),S.TgZ(16,"th",2),S._uU(17,"DNI"),S.qZA(),S.TgZ(18,"th",2),S._uU(19,"Edad"),S.qZA(),S.TgZ(20,"th",2),S._uU(21,"Correo"),S.qZA(),S.TgZ(22,"th",2),S._uU(23,"Obra Social"),S.qZA(),S.qZA(),S.qZA(),S.TgZ(24,"tbody"),S.YNc(25,A,17,6,"tr",3),S.qZA(),S.qZA(),S.qZA()),2&ee&&(S.xp6(25),S.Q6J("ngForOf",be.pacientes))},directives:[Ae.sg],styles:[".fotoTabla[_ngcontent-%COMP%]{max-width:60px;max-height:60px}"]}),fe})()}];let Qe=(()=>{class fe{}return fe.\u0275fac=function(ee){return new(ee||fe)},fe.\u0275mod=S.oAB({type:fe}),fe.\u0275inj=S.cJS({imports:[[y.Bz.forChild(ke)],y.Bz]}),fe})()},8936:(Pt,Le,j)=>{"use strict";var y=j(8583),S=j(639);class J extends y.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ae extends J{static makeCurrent(){(0,y.HT)(new Ae)}onAndCancel(oe,ne,Pe){return oe.addEventListener(ne,Pe,!1),()=>{oe.removeEventListener(ne,Pe,!1)}}dispatchEvent(oe,ne){oe.dispatchEvent(ne)}remove(oe){oe.parentNode&&oe.parentNode.removeChild(oe)}createElement(oe,ne){return(ne=ne||this.getDefaultDocument()).createElement(oe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(oe){return oe.nodeType===Node.ELEMENT_NODE}isShadowRoot(oe){return oe instanceof DocumentFragment}getGlobalEventTarget(oe,ne){return"window"===ne?window:"document"===ne?oe:"body"===ne?oe.body:null}getBaseHref(oe){const ne=(A=A||document.querySelector("base"),A?A.getAttribute("href"):null);return null==ne?null:function(Z){ke=ke||document.createElement("a"),ke.setAttribute("href",Z);const oe=ke.pathname;return"/"===oe.charAt(0)?oe:`/${oe}`}(ne)}resetBaseElement(){A=null}getUserAgent(){return window.navigator.userAgent}getCookie(oe){return(0,y.Mx)(document.cookie,oe)}}let ke,A=null;const fe=new S.OlP("TRANSITION_ID"),ee=[{provide:S.ip1,useFactory:function(Z,oe,ne){return()=>{ne.get(S.CZH).donePromise.then(()=>{const Pe=(0,y.q)(),rt=oe.querySelectorAll(`style[ng-transition="${Z}"]`);for(let St=0;St<rt.length;St++)Pe.remove(rt[St])})}},deps:[fe,y.K0,S.zs3],multi:!0}];class be{static init(){(0,S.VLi)(new be)}addToWindow(oe){S.dqk.getAngularTestability=(Pe,rt=!0)=>{const St=oe.findTestabilityInTree(Pe,rt);if(null==St)throw new Error("Could not find testability for element.");return St},S.dqk.getAllAngularTestabilities=()=>oe.getAllTestabilities(),S.dqk.getAllAngularRootElements=()=>oe.getAllRootElements(),S.dqk.frameworkStabilizers||(S.dqk.frameworkStabilizers=[]),S.dqk.frameworkStabilizers.push(Pe=>{const rt=S.dqk.getAllAngularTestabilities();let St=rt.length,Qt=!1;const Bn=function(fr){Qt=Qt||fr,St--,0==St&&Pe(Qt)};rt.forEach(function(fr){fr.whenStable(Bn)})})}findTestabilityInTree(oe,ne,Pe){if(null==ne)return null;const rt=oe.getTestability(ne);return null!=rt?rt:Pe?(0,y.q)().isShadowRoot(ne)?this.findTestabilityInTree(oe,ne.host,!0):this.findTestabilityInTree(oe,ne.parentElement,!0):null}}let ze=(()=>{class Z{build(){return new XMLHttpRequest}}return Z.\u0275fac=function(ne){return new(ne||Z)},Z.\u0275prov=S.Yz7({token:Z,factory:Z.\u0275fac}),Z})();const ye=new S.OlP("EventManagerPlugins");let he=(()=>{class Z{constructor(ne,Pe){this._zone=Pe,this._eventNameToPlugin=new Map,ne.forEach(rt=>rt.manager=this),this._plugins=ne.slice().reverse()}addEventListener(ne,Pe,rt){return this._findPluginFor(Pe).addEventListener(ne,Pe,rt)}addGlobalEventListener(ne,Pe,rt){return this._findPluginFor(Pe).addGlobalEventListener(ne,Pe,rt)}getZone(){return this._zone}_findPluginFor(ne){const Pe=this._eventNameToPlugin.get(ne);if(Pe)return Pe;const rt=this._plugins;for(let St=0;St<rt.length;St++){const Qt=rt[St];if(Qt.supports(ne))return this._eventNameToPlugin.set(ne,Qt),Qt}throw new Error(`No event manager plugin found for event ${ne}`)}}return Z.\u0275fac=function(ne){return new(ne||Z)(S.LFG(ye),S.LFG(S.R0b))},Z.\u0275prov=S.Yz7({token:Z,factory:Z.\u0275fac}),Z})();class Ze{constructor(oe){this._doc=oe}addGlobalEventListener(oe,ne,Pe){const rt=(0,y.q)().getGlobalEventTarget(this._doc,oe);if(!rt)throw new Error(`Unsupported event target ${rt} for event ${ne}`);return this.addEventListener(rt,ne,Pe)}}let pe=(()=>{class Z{constructor(){this._stylesSet=new Set}addStyles(ne){const Pe=new Set;ne.forEach(rt=>{this._stylesSet.has(rt)||(this._stylesSet.add(rt),Pe.add(rt))}),this.onStylesAdded(Pe)}onStylesAdded(ne){}getAllStyles(){return Array.from(this._stylesSet)}}return Z.\u0275fac=function(ne){return new(ne||Z)},Z.\u0275prov=S.Yz7({token:Z,factory:Z.\u0275fac}),Z})(),Ge=(()=>{class Z extends pe{constructor(ne){super(),this._doc=ne,this._hostNodes=new Map,this._hostNodes.set(ne.head,[])}_addStylesToHost(ne,Pe,rt){ne.forEach(St=>{const Qt=this._doc.createElement("style");Qt.textContent=St,rt.push(Pe.appendChild(Qt))})}addHost(ne){const Pe=[];this._addStylesToHost(this._stylesSet,ne,Pe),this._hostNodes.set(ne,Pe)}removeHost(ne){const Pe=this._hostNodes.get(ne);Pe&&Pe.forEach(Ht),this._hostNodes.delete(ne)}onStylesAdded(ne){this._hostNodes.forEach((Pe,rt)=>{this._addStylesToHost(ne,rt,Pe)})}ngOnDestroy(){this._hostNodes.forEach(ne=>ne.forEach(Ht))}}return Z.\u0275fac=function(ne){return new(ne||Z)(S.LFG(y.K0))},Z.\u0275prov=S.Yz7({token:Z,factory:Z.\u0275fac}),Z})();function Ht(Z){(0,y.q)().remove(Z)}const Rt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},It=/%COMP%/g;function Vn(Z,oe,ne){for(let Pe=0;Pe<oe.length;Pe++){let rt=oe[Pe];Array.isArray(rt)?Vn(Z,rt,ne):(rt=rt.replace(It,Z),ne.push(rt))}return ne}function nn(Z){return oe=>{if("__ngUnwrap__"===oe)return Z;!1===Z(oe)&&(oe.preventDefault(),oe.returnValue=!1)}}let qt=(()=>{class Z{constructor(ne,Pe,rt){this.eventManager=ne,this.sharedStylesHost=Pe,this.appId=rt,this.rendererByCompId=new Map,this.defaultRenderer=new Ar(ne)}createRenderer(ne,Pe){if(!ne||!Pe)return this.defaultRenderer;switch(Pe.encapsulation){case S.ifc.Emulated:{let rt=this.rendererByCompId.get(Pe.id);return rt||(rt=new Fr(this.eventManager,this.sharedStylesHost,Pe,this.appId),this.rendererByCompId.set(Pe.id,rt)),rt.applyToHost(ne),rt}case 1:case S.ifc.ShadowDom:return new kt(this.eventManager,this.sharedStylesHost,ne,Pe);default:if(!this.rendererByCompId.has(Pe.id)){const rt=Vn(Pe.id,Pe.styles,[]);this.sharedStylesHost.addStyles(rt),this.rendererByCompId.set(Pe.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Z.\u0275fac=function(ne){return new(ne||Z)(S.LFG(he),S.LFG(Ge),S.LFG(S.AFp))},Z.\u0275prov=S.Yz7({token:Z,factory:Z.\u0275fac}),Z})();class Ar{constructor(oe){this.eventManager=oe,this.data=Object.create(null)}destroy(){}createElement(oe,ne){return ne?document.createElementNS(Rt[ne]||ne,oe):document.createElement(oe)}createComment(oe){return document.createComment(oe)}createText(oe){return document.createTextNode(oe)}appendChild(oe,ne){oe.appendChild(ne)}insertBefore(oe,ne,Pe){oe&&oe.insertBefore(ne,Pe)}removeChild(oe,ne){oe&&oe.removeChild(ne)}selectRootElement(oe,ne){let Pe="string"==typeof oe?document.querySelector(oe):oe;if(!Pe)throw new Error(`The selector "${oe}" did not match any elements`);return ne||(Pe.textContent=""),Pe}parentNode(oe){return oe.parentNode}nextSibling(oe){return oe.nextSibling}setAttribute(oe,ne,Pe,rt){if(rt){ne=rt+":"+ne;const St=Rt[rt];St?oe.setAttributeNS(St,ne,Pe):oe.setAttribute(ne,Pe)}else oe.setAttribute(ne,Pe)}removeAttribute(oe,ne,Pe){if(Pe){const rt=Rt[Pe];rt?oe.removeAttributeNS(rt,ne):oe.removeAttribute(`${Pe}:${ne}`)}else oe.removeAttribute(ne)}addClass(oe,ne){oe.classList.add(ne)}removeClass(oe,ne){oe.classList.remove(ne)}setStyle(oe,ne,Pe,rt){rt&(S.JOm.DashCase|S.JOm.Important)?oe.style.setProperty(ne,Pe,rt&S.JOm.Important?"important":""):oe.style[ne]=Pe}removeStyle(oe,ne,Pe){Pe&S.JOm.DashCase?oe.style.removeProperty(ne):oe.style[ne]=""}setProperty(oe,ne,Pe){oe[ne]=Pe}setValue(oe,ne){oe.nodeValue=ne}listen(oe,ne,Pe){return"string"==typeof oe?this.eventManager.addGlobalEventListener(oe,ne,nn(Pe)):this.eventManager.addEventListener(oe,ne,nn(Pe))}}class Fr extends Ar{constructor(oe,ne,Pe,rt){super(oe),this.component=Pe;const St=Vn(rt+"-"+Pe.id,Pe.styles,[]);ne.addStyles(St),this.contentAttr="_ngcontent-%COMP%".replace(It,rt+"-"+Pe.id),this.hostAttr="_nghost-%COMP%".replace(It,rt+"-"+Pe.id)}applyToHost(oe){super.setAttribute(oe,this.hostAttr,"")}createElement(oe,ne){const Pe=super.createElement(oe,ne);return super.setAttribute(Pe,this.contentAttr,""),Pe}}class kt extends Ar{constructor(oe,ne,Pe,rt){super(oe),this.sharedStylesHost=ne,this.hostEl=Pe,this.shadowRoot=Pe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const St=Vn(rt.id,rt.styles,[]);for(let Qt=0;Qt<St.length;Qt++){const Bn=document.createElement("style");Bn.textContent=St[Qt],this.shadowRoot.appendChild(Bn)}}nodeOrShadowRoot(oe){return oe===this.hostEl?this.shadowRoot:oe}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(oe,ne){return super.appendChild(this.nodeOrShadowRoot(oe),ne)}insertBefore(oe,ne,Pe){return super.insertBefore(this.nodeOrShadowRoot(oe),ne,Pe)}removeChild(oe,ne){return super.removeChild(this.nodeOrShadowRoot(oe),ne)}parentNode(oe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(oe)))}}let wn=(()=>{class Z extends Ze{constructor(ne){super(ne)}supports(ne){return!0}addEventListener(ne,Pe,rt){return ne.addEventListener(Pe,rt,!1),()=>this.removeEventListener(ne,Pe,rt)}removeEventListener(ne,Pe,rt){return ne.removeEventListener(Pe,rt)}}return Z.\u0275fac=function(ne){return new(ne||Z)(S.LFG(y.K0))},Z.\u0275prov=S.Yz7({token:Z,factory:Z.\u0275fac}),Z})();const pn=["alt","control","meta","shift"],Zt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Kn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},hr={alt:Z=>Z.altKey,control:Z=>Z.ctrlKey,meta:Z=>Z.metaKey,shift:Z=>Z.shiftKey};let ve=(()=>{class Z extends Ze{constructor(ne){super(ne)}supports(ne){return null!=Z.parseEventName(ne)}addEventListener(ne,Pe,rt){const St=Z.parseEventName(Pe),Qt=Z.eventCallback(St.fullKey,rt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,y.q)().onAndCancel(ne,St.domEventName,Qt))}static parseEventName(ne){const Pe=ne.toLowerCase().split("."),rt=Pe.shift();if(0===Pe.length||"keydown"!==rt&&"keyup"!==rt)return null;const St=Z._normalizeKey(Pe.pop());let Qt="";if(pn.forEach(fr=>{const Tn=Pe.indexOf(fr);Tn>-1&&(Pe.splice(Tn,1),Qt+=fr+".")}),Qt+=St,0!=Pe.length||0===St.length)return null;const Bn={};return Bn.domEventName=rt,Bn.fullKey=Qt,Bn}static getEventFullKey(ne){let Pe="",rt=function(Z){let oe=Z.key;if(null==oe){if(oe=Z.keyIdentifier,null==oe)return"Unidentified";oe.startsWith("U+")&&(oe=String.fromCharCode(parseInt(oe.substring(2),16)),3===Z.location&&Kn.hasOwnProperty(oe)&&(oe=Kn[oe]))}return Zt[oe]||oe}(ne);return rt=rt.toLowerCase()," "===rt?rt="space":"."===rt&&(rt="dot"),pn.forEach(St=>{St!=rt&&hr[St](ne)&&(Pe+=St+".")}),Pe+=rt,Pe}static eventCallback(ne,Pe,rt){return St=>{Z.getEventFullKey(St)===ne&&rt.runGuarded(()=>Pe(St))}}static _normalizeKey(ne){switch(ne){case"esc":return"escape";default:return ne}}}return Z.\u0275fac=function(ne){return new(ne||Z)(S.LFG(y.K0))},Z.\u0275prov=S.Yz7({token:Z,factory:Z.\u0275fac}),Z})();const Rn=(0,S.eFA)(S._c5,"browser",[{provide:S.Lbi,useValue:y.bD},{provide:S.g9A,useValue:function(){Ae.makeCurrent(),be.init()},multi:!0},{provide:y.K0,useFactory:function(){return(0,S.RDi)(document),document},deps:[]}]),oi=[[],{provide:S.zSh,useValue:"root"},{provide:S.qLn,useFactory:function(){return new S.qLn},deps:[]},{provide:ye,useClass:wn,multi:!0,deps:[y.K0,S.R0b,S.Lbi]},{provide:ye,useClass:ve,multi:!0,deps:[y.K0]},[],{provide:qt,useClass:qt,deps:[he,Ge,S.AFp]},{provide:S.FYo,useExisting:qt},{provide:pe,useExisting:Ge},{provide:Ge,useClass:Ge,deps:[y.K0]},{provide:S.dDg,useClass:S.dDg,deps:[S.R0b]},{provide:he,useClass:he,deps:[ye,S.R0b]},{provide:y.JF,useClass:ze,deps:[]},[]];let hn=(()=>{class Z{constructor(ne){if(ne)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(ne){return{ngModule:Z,providers:[{provide:S.AFp,useValue:ne.appId},{provide:fe,useExisting:S.AFp},ee]}}}return Z.\u0275fac=function(ne){return new(ne||Z)(S.LFG(Z,12))},Z.\u0275mod=S.oAB({type:Z}),Z.\u0275inj=S.cJS({providers:oi,imports:[y.ez,S.hGG]}),Z})();"undefined"!=typeof window&&window;var Cn=j(7353);const Yr=[{path:"",loadChildren:()=>Promise.resolve().then(j.bind(j,5463)).then(Z=>Z.AuthModuleRoutingModule)},{path:"admin",loadChildren:()=>Promise.resolve().then(j.bind(j,4343)).then(Z=>Z.UsuariosRoutingModule)}];let Ln=(()=>{class Z{}return Z.\u0275fac=function(ne){return new(ne||Z)},Z.\u0275mod=S.oAB({type:Z}),Z.\u0275inj=S.cJS({imports:[[Cn.Bz.forRoot(Yr)],Cn.Bz]}),Z})();var ji=j(6893);function Tr(Z,oe){1&Z&&(S.TgZ(0,"ul",7),S.TgZ(1,"li"),S.TgZ(2,"a",8),S._uU(3,"Usuarios"),S.qZA(),S.qZA(),S.qZA())}function Qr(Z,oe){1&Z&&(S.TgZ(0,"div",9),S.TgZ(1,"button",10),S._uU(2,"Iniciar Sesion"),S.qZA(),S.TgZ(3,"button",11),S._uU(4,"Registrarse"),S.qZA(),S.qZA())}let Hr=(()=>{class Z{constructor(ne){this.authSvc=ne,this.title="TPClinica2"}}return Z.\u0275fac=function(ne){return new(ne||Z)(S.Y36(ji.e))},Z.\u0275cmp=S.Xpm({type:Z,selectors:[["app-root"]],decls:8,vars:2,consts:[[1,"container"],[1,"d-flex","flex-wrap","align-items-center","justify-content-center","justify-content-md-between","py-3","mb-4","border-bottom"],["href","/",1,"d-flex","align-items-center","col-md-3","mb-2","mb-md-0","text-dark","text-decoration-none"],["src","../assets/logo.png",1,"logo"],["class","nav col-12 col-md-auto mb-2 justify-content-center mb-md-0",4,"ngIf"],["class","col-md-3 text-end",4,"ngIf"],[1,"mx-auto","my-auto"],[1,"nav","col-12","col-md-auto","mb-2","justify-content-center","mb-md-0"],["routerLink","/admin/usuarios",1,"nav-link","px-2","link-dark"],[1,"col-md-3","text-end"],["type","button","routerLink","/login",1,"btn","btn-outline-primary","me-2"],["type","button","routerLink","/registrarse",1,"btn","btn-primary"]],template:function(ne,Pe){1&ne&&(S.TgZ(0,"div",0),S.TgZ(1,"header",1),S.TgZ(2,"a",2),S._UZ(3,"img",3),S.qZA(),S.YNc(4,Tr,4,0,"ul",4),S.YNc(5,Qr,5,0,"div",5),S.qZA(),S.TgZ(6,"div",6),S._UZ(7,"router-outlet"),S.qZA(),S.qZA()),2&ne&&(S.xp6(4),S.Q6J("ngIf",Pe.authSvc.user),S.xp6(1),S.Q6J("ngIf",!Pe.authSvc.user))},directives:[y.O5,Cn.lC,Cn.yS,Cn.rH],styles:[".logo[_ngcontent-%COMP%]{max-width:80px;max-height:64px}"]}),Z})();var vn=j(8939);const ai_firebaseConfig={apiKey:"AIzaSyBcO1COh1hP5CLSyenD3S-KyrePfzvz-6k",authDomain:"clinicaonline-e20e2.firebaseapp.com",projectId:"clinicaonline-e20e2",storageBucket:"clinicaonline-e20e2.appspot.com",messagingSenderId:"261680903900",appId:"1:261680903900:web:2af8fbe1d4087e9bb72619"};var ui=j(5463),$r=j(665);let mn=(()=>{class Z{}return Z.\u0275fac=function(ne){return new(ne||Z)},Z.\u0275mod=S.oAB({type:Z}),Z.\u0275inj=S.cJS({imports:[[y.ez,ui.AuthModuleRoutingModule,$r.u5,$r.UX]]}),Z})();var rr=j(4343);let Xe=(()=>{class Z{}return Z.\u0275fac=function(ne){return new(ne||Z)},Z.\u0275mod=S.oAB({type:Z}),Z.\u0275inj=S.cJS({imports:[[y.ez,rr.UsuariosRoutingModule]]}),Z})(),Ke=(()=>{class Z{}return Z.\u0275fac=function(ne){return new(ne||Z)},Z.\u0275mod=S.oAB({type:Z,bootstrap:[Hr]}),Z.\u0275inj=S.cJS({providers:[],imports:[[hn,Ln,mn,Xe,vn.hO.initializeApp(ai_firebaseConfig)]]}),Z})();(0,S.G48)(),Rn().bootstrapModule(Ke).catch(Z=>console.error(Z))},9517:(Pt,Le,j)=>{"use strict";function Qe(ue,me,ye,he){return new(ye||(ye=Promise))(function(pe,Ge){function Ht(Gt){try{It(he.next(Gt))}catch(xn){Ge(xn)}}function Rt(Gt){try{It(he.throw(Gt))}catch(xn){Ge(xn)}}function It(Gt){Gt.done?pe(Gt.value):function(pe){return pe instanceof ye?pe:new ye(function(Ge){Ge(pe)})}(Gt.value).then(Ht,Rt)}It((he=he.apply(ue,me||[])).next())})}function Ve(ue){return this instanceof Ve?(this.v=ue,this):new Ve(ue)}function le(ue,me,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ze,he=ye.apply(ue,me||[]),pe=[];return Ze={},Ge("next"),Ge("throw"),Ge("return"),Ze[Symbol.asyncIterator]=function(){return this},Ze;function Ge(Xt){he[Xt]&&(Ze[Xt]=function(jn){return new Promise(function(sr,mr){pe.push([Xt,jn,sr,mr])>1||Ht(Xt,jn)})})}function Ht(Xt,jn){try{!function(Xt){Xt.value instanceof Ve?Promise.resolve(Xt.value.v).then(It,Gt):xn(pe[0][2],Xt)}(he[Xt](jn))}catch(sr){xn(pe[0][3],sr)}}function It(Xt){Ht("next",Xt)}function Gt(Xt){Ht("throw",Xt)}function xn(Xt,jn){Xt(jn),pe.shift(),pe.length&&Ht(pe[0][0],pe[0][1])}}function Me(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,me=ue[Symbol.asyncIterator];return me?me.call(ue):(ue=function(ue){var me="function"==typeof Symbol&&Symbol.iterator,ye=me&&ue[me],he=0;if(ye)return ye.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&he>=ue.length&&(ue=void 0),{value:ue&&ue[he++],done:!ue}}};throw new TypeError(me?"Object is not iterable.":"Symbol.iterator is not defined.")}(ue),ye={},he("next"),he("throw"),he("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function he(pe){ye[pe]=ue[pe]&&function(Ge){return new Promise(function(Ht,Rt){!function(pe,Ge,Ht,Rt){Promise.resolve(Rt).then(function(It){pe({value:It,done:Ht})},Ge)}(Ht,Rt,(Ge=ue[pe](Ge)).done,Ge.value)})}}}j.d(Le,{mG:()=>Qe,qq:()=>Ve,FC:()=>le,KL:()=>Me})},4762:(Pt,Le,j)=>{"use strict";function Ae(ue,me){var ye={};for(var he in ue)Object.prototype.hasOwnProperty.call(ue,he)&&me.indexOf(he)<0&&(ye[he]=ue[he]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(he=Object.getOwnPropertySymbols(ue);Ze<he.length;Ze++)me.indexOf(he[Ze])<0&&Object.prototype.propertyIsEnumerable.call(ue,he[Ze])&&(ye[he[Ze]]=ue[he[Ze]])}return ye}function Qe(ue,me,ye,he){return new(ye||(ye=Promise))(function(pe,Ge){function Ht(Gt){try{It(he.next(Gt))}catch(xn){Ge(xn)}}function Rt(Gt){try{It(he.throw(Gt))}catch(xn){Ge(xn)}}function It(Gt){Gt.done?pe(Gt.value):function(pe){return pe instanceof ye?pe:new ye(function(Ge){Ge(pe)})}(Gt.value).then(Ht,Rt)}It((he=he.apply(ue,me||[])).next())})}function fe(ue,me){var he,Ze,pe,Ge,ye={label:0,sent:function(){if(1&pe[0])throw pe[1];return pe[1]},trys:[],ops:[]};return Ge={next:Ht(0),throw:Ht(1),return:Ht(2)},"function"==typeof Symbol&&(Ge[Symbol.iterator]=function(){return this}),Ge;function Ht(It){return function(Gt){return function(It){if(he)throw new TypeError("Generator is already executing.");for(;ye;)try{if(he=1,Ze&&(pe=2&It[0]?Ze.return:It[0]?Ze.throw||((pe=Ze.return)&&pe.call(Ze),0):Ze.next)&&!(pe=pe.call(Ze,It[1])).done)return pe;switch(Ze=0,pe&&(It=[2&It[0],pe.value]),It[0]){case 0:case 1:pe=It;break;case 4:return ye.label++,{value:It[1],done:!1};case 5:ye.label++,Ze=It[1],It=[0];continue;case 7:It=ye.ops.pop(),ye.trys.pop();continue;default:if(!(pe=(pe=ye.trys).length>0&&pe[pe.length-1])&&(6===It[0]||2===It[0])){ye=0;continue}if(3===It[0]&&(!pe||It[1]>pe[0]&&It[1]<pe[3])){ye.label=It[1];break}if(6===It[0]&&ye.label<pe[1]){ye.label=pe[1],pe=It;break}if(pe&&ye.label<pe[2]){ye.label=pe[2],ye.ops.push(It);break}pe[2]&&ye.ops.pop(),ye.trys.pop();continue}It=me.call(ue,ye)}catch(Gt){It=[6,Gt],Ze=0}finally{he=pe=0}if(5&It[0])throw It[1];return{value:It[0]?It[1]:void 0,done:!0}}([It,Gt])}}}function be(ue){var me="function"==typeof Symbol&&Symbol.iterator,ye=me&&ue[me],he=0;if(ye)return ye.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&he>=ue.length&&(ue=void 0),{value:ue&&ue[he++],done:!ue}}};throw new TypeError(me?"Object is not iterable.":"Symbol.iterator is not defined.")}function ze(ue,me){var ye="function"==typeof Symbol&&ue[Symbol.iterator];if(!ye)return ue;var Ze,Ge,he=ye.call(ue),pe=[];try{for(;(void 0===me||me-- >0)&&!(Ze=he.next()).done;)pe.push(Ze.value)}catch(Ht){Ge={error:Ht}}finally{try{Ze&&!Ze.done&&(ye=he.return)&&ye.call(he)}finally{if(Ge)throw Ge.error}}return pe}function Oe(ue,me,ye){if(ye||2===arguments.length)for(var pe,he=0,Ze=me.length;he<Ze;he++)(pe||!(he in me))&&(pe||(pe=Array.prototype.slice.call(me,0,he)),pe[he]=me[he]);return ue.concat(pe||Array.prototype.slice.call(me))}j.d(Le,{_T:()=>Ae,mG:()=>Qe,Jh:()=>fe,XA:()=>be,CR:()=>ze,ev:()=>Oe})},8239:(Pt,Le,j)=>{"use strict";function y(J,Ae,A,Ie,ke,Qe,fe){try{var Y=J[Qe](fe),ee=Y.value}catch(be){return void A(be)}Y.done?Ae(ee):Promise.resolve(ee).then(Ie,ke)}function S(J){return function(){var Ae=this,A=arguments;return new Promise(function(Ie,ke){var Qe=J.apply(Ae,A);function fe(ee){y(Qe,Ie,ke,fe,Y,"next",ee)}function Y(ee){y(Qe,Ie,ke,fe,Y,"throw",ee)}fe(void 0)})}}j.d(Le,{Z:()=>S})}},Pt=>{Pt(Pt.s=8936)}]);